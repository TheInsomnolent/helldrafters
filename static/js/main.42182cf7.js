/*! For license information please see main.42182cf7.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),o=n(43),i=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(a(188))}function p(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=p(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),_=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case v:return"Profiler";case b:return"StrictMode";case C:return"Suspense";case w:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case _:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}var D=Array.isArray,O=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j={pending:!1,data:null,method:null,action:null},L=[],z=-1;function B(e){return{current:e}}function F(e){0>z||(e.current=L[z],L[z]=null,z--)}function W(e,t){z++,L[z]=e.current,e.current=t}var U,q,Y=B(null),H=B(null),G=B(null),V=B(null);function Q(e,t){switch(W(G,t),W(H,e),W(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=vd(t=bd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(Y),W(Y,e)}function K(){F(Y),F(H),F(G)}function $(e){null!==e.memoizedState&&W(V,e);var t=Y.current,n=vd(t,e.type);t!==n&&(W(H,e),W(Y,n))}function X(e){H.current===e&&(F(Y),F(H)),V.current===e&&(F(V),dp._currentValue=j)}function J(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||"",q=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=r.DetermineComponentFrameRoot(),a=i[0],s=i[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=o);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ie=r.unstable_cancelCallback,ae=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,pe=r.unstable_NormalPriority,he=r.unstable_LowPriority,fe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,be=null;function ve(e){if("function"===typeof me&&ge(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ye,e)}catch(t){}}var _e=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(xe(e)/Se|0)|0},xe=Math.log,Se=Math.LN2;var Ce=256,we=262144,Ee=4194304;function Re(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,i=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~i)?o=Re(r):0!==(a&=s)?o=Re(a):n||0!==(n=s&~e)&&(o=Re(n)):0!==(s=r&~i)?o=Re(s):0!==a?o=Re(a):n||0!==(n=r&~e)&&(o=Re(n)),0===o?0:0!==t&&t!==o&&0===(t&i)&&((i=o&-o)>=(n=t&-t)||32===i&&0!==(4194048&n))?t:o}function ke(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ie(){var e=Ee;return 0===(62914560&(Ee<<=1))&&(Ee=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Me(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-_e(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_e(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Ne(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:je(n))&(e.suspendedLanes|t))?0:n}function je(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=N.p;return 0!==e?e:void 0===(e=window.event)?32:Tp(e.type)}function Be(e,t){var n=N.p;try{return N.p=e,t()}finally{N.p=n}}var Fe=Math.random().toString(36).slice(2),We="__reactFiber$"+Fe,Ue="__reactProps$"+Fe,qe="__reactContainer$"+Fe,Ye="__reactEvents$"+Fe,He="__reactListeners$"+Fe,Ge="__reactHandles$"+Fe,Ve="__reactResources$"+Fe,Qe="__reactMarker$"+Fe;function Ke(e){delete e[We],delete e[Ue],delete e[Ye],delete e[He],delete e[Ge]}function $e(e){var t=e[We];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[We]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Ld(e);null!==e;){if(n=e[We])return n;e=Ld(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[We]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ze(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){ot(e,t),ot(e+"Capture",t)}function ot(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var it=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},st={};function lt(e,t,n){if(o=t,re.call(st,o)||!re.call(at,o)&&(it.test(o)?st[o]=!0:(at[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,r,o,i,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?_t(e,a,dt(t)):null!=n?_t(e,a,dt(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=i&&(e.defaultChecked=!!i),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+dt(s):e.removeAttribute("name")}function vt(e,t,n,r,o,i,a,s){if(null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.type=i),null!=t||null!=n){if(!("submit"!==i&&"reset"!==i||void 0!==t&&null!==t))return void ht(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),ht(e)}function _t(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(D(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ht(e)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Et=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Et.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Rt(e,o,r)}else for(var i in t)t.hasOwnProperty(i)&&Rt(e,i,t[i])}function kt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mt(){}var Dt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Nt=null,jt=null;function Lt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Ue]||null;if(!o)throw Error(a(90));bt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var zt=!1;function Bt(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Nt||null!==jt)&&(eu(),Nt&&(t=Nt,e=jt,jt=Nt=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Wt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Wt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Jp){Ut=!1}var Yt=null,Ht=null,Gt=null;function Vt(){if(Gt)return Gt;var e,t,n=Ht,r=n.length,o="value"in Yt?Yt.value:Yt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===o[i-t];t++);return Gt=o.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Kt(){return!0}function $t(){return!1}function Xt(e){function t(t,n,r,o,i){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(o):o[a]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?Kt:$t,this.isPropagationStopped=$t,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Kt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Kt)},persist:function(){},isPersistent:Kt}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Xt(tn),rn=h({},tn,{view:0,detail:0}),on=Xt(rn),an=h({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Xt(an),ln=Xt(h({},an,{dataTransfer:0})),cn=Xt(h({},rn,{relatedTarget:0})),un=Xt(h({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Xt(h({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Xt(h({},tn,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var bn=Xt(h({},rn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),vn=Xt(h({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=Xt(h({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),xn=Xt(h({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Xt(h({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Cn=Xt(h({},tn,{newState:0,oldState:0})),wn=[9,13,27,32],En=Wt&&"CompositionEvent"in window,Rn=null;Wt&&"documentMode"in document&&(Rn=document.documentMode);var Tn=Wt&&"TextEvent"in window&&!Rn,kn=Wt&&(!En||Rn&&8<Rn&&11>=Rn),An=String.fromCharCode(32),In=!1;function Pn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function jn(e,t,n,r){Nt?jt?jt.push(r):jt=[r]:Nt=r,0<(t=od(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,zn=null;function Bn(e){$u(e,0)}function Fn(e){if(ft(Je(e)))return e}function Wn(e,t){if("change"===e)return t}var Un=!1;if(Wt){var qn;if(Wt){var Yn="oninput"in document;if(!Yn){var Hn=document.createElement("div");Hn.setAttribute("oninput","return;"),Yn="function"===typeof Hn.oninput}qn=Yn}else qn=!1;Un=qn&&(!document.documentMode||9<document.documentMode)}function Gn(){Ln&&(Ln.detachEvent("onpropertychange",Vn),zn=Ln=null)}function Vn(e){if("value"===e.propertyName&&Fn(zn)){var t=[];jn(t,zn,e,Ot(e)),Bt(Bn,t)}}function Qn(e,t,n){"focusin"===e?(Gn(),zn=n,(Ln=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&Gn()}function Kn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(zn)}function $n(e,t){if("click"===e)return Fn(t)}function Xn(e,t){if("input"===e||"change"===e)return Fn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Jn(e[o],t[o]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ir=Wt&&"documentMode"in document&&11>=document.documentMode,ar=null,sr=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ar||ar!==mt(r)||("selectionStart"in(r=ar)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=od(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},hr={},fr={};function mr(e){if(hr[e])return hr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}Wt&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),br=mr("animationstart"),vr=mr("transitionrun"),_r=mr("transitionstart"),xr=mr("transitioncancel"),Sr=mr("transitionend"),Cr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){Cr.set(e,t),rt(t,[e])}wr.push("scrollEnd");var Rr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],kr=0,Ar=0;function Ir(){for(var e=kr,t=Ar=kr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var o=Tr[t];Tr[t++]=null;var i=Tr[t];if(Tr[t++]=null,null!==r&&null!==o){var a=r.pending;null===a?o.next=o:(o.next=a.next,a.next=o),r.pending=o}0!==i&&Or(n,o,i)}}function Pr(e,t,n,r){Tr[kr++]=e,Tr[kr++]=t,Tr[kr++]=n,Tr[kr++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Mr(e,t,n,r){return Pr(e,t,n,r),Nr(e)}function Dr(e,t){return Pr(e,null,null,t),Nr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,i=e.return;null!==i;)i.childLanes|=n,null!==(r=i.alternate)&&(r.childLanes|=n),22===i.tag&&(null===(e=i.stateNode)||1&e._visibility||(o=!0)),e=i,i=i.return;return 3===e.tag?(i=e.stateNode,o&&null!==t&&(o=31-_e(n),null===(r=(e=i.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),i):null}function Nr(e){if(50<Hc)throw Hc=0,Gc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var jr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Lr(e,t,n,r)}function Br(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,o,i){var s=0;if(r=e,"function"===typeof e)Br(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Y.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=zr(31,n,t,o)).elementType=T,e.lanes=i,e;case y:return qr(n.children,o,i,t);case b:s=8,o|=24;break;case v:return(e=zr(12,n,t,2|o)).elementType=v,e.lanes=i,e;case C:return(e=zr(13,n,t,o)).elementType=C,e.lanes=i,e;case w:return(e=zr(19,n,t,o)).elementType=w,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:s=10;break e;case _:s=9;break e;case S:s=11;break e;case E:s=14;break e;case R:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=zr(s,n,t,o)).elementType=e,t.type=r,t.lanes=i,t}function qr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Yr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Hr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=new WeakMap;function Qr(e,t){if("object"===typeof e&&null!==e){var n=Vr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Vr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Kr=[],$r=0,Xr=null,Jr=0,Zr=[],eo=0,to=null,no=1,ro="";function oo(e,t){Kr[$r++]=Jr,Kr[$r++]=Xr,Xr=e,Jr=t}function io(e,t,n){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,to=e;var r=no;e=ro;var o=32-_e(r)-1;r&=~(1<<o),n+=1;var i=32-_e(t)+o;if(30<i){var a=o-o%5;i=(r&(1<<a)-1).toString(32),r>>=a,o-=a,no=1<<32-_e(t)+o|n<<o|r,ro=i+e}else no=1<<i|n<<o|r,ro=e}function ao(e){null!==e.return&&(oo(e,1),io(e,1,0))}function so(e){for(;e===Xr;)Xr=Kr[--$r],Kr[$r]=null,Jr=Kr[--$r],Kr[$r]=null;for(;e===to;)to=Zr[--eo],Zr[eo]=null,ro=Zr[--eo],Zr[eo]=null,no=Zr[--eo],Zr[eo]=null}function lo(e,t){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,no=t.id,ro=t.overflow,to=e}var co=null,po=null,ho=!1,fo=null,mo=!1,go=Error(a(519));function yo(e){throw Co(Qr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),go}function bo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[We]=e,t[Ue]=r,n){case"dialog":Xu("cancel",t),Xu("close",t);break;case"iframe":case"object":case"embed":Xu("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)Xu(Qu[n],t);break;case"source":Xu("error",t);break;case"img":case"image":case"link":Xu("error",t),Xu("load",t);break;case"details":Xu("toggle",t);break;case"input":Xu("invalid",t),vt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Xu("invalid",t);break;case"textarea":Xu("invalid",t),Ct(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Xu("beforetoggle",t),Xu("toggle",t)),null!=r.onScroll&&Xu("scroll",t),null!=r.onScrollEnd&&Xu("scrollend",t),null!=r.onClick&&(t.onclick=Mt),t=!0):t=!1,t||yo(e,!0)}function vo(e){for(co=e.return;co;)switch(co.tag){case 5:case 31:case 13:return void(mo=!1);case 27:case 3:return void(mo=!0);default:co=co.return}}function _o(e){if(e!==co)return!1;if(!ho)return vo(e),ho=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||_d(e.type,e.memoizedProps)),t=!t),t&&po&&yo(e),vo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));po=jd(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));po=jd(e)}else 27===n?(n=po,Td(e.type)?(e=Nd,Nd=null,po=e):po=n):po=co?Od(e.stateNode.nextSibling):null;return!0}function xo(){po=co=null,ho=!1}function So(){var e=fo;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),fo=null),e}function Co(e){null===fo?fo=[e]:fo.push(e)}var wo=B(null),Eo=null,Ro=null;function To(e,t,n){W(wo,t._currentValue),t._currentValue=n}function ko(e){e._currentValue=wo.current,F(wo)}function Ao(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Io(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var i=o.dependencies;if(null!==i){var s=o.child;i=i.firstContext;e:for(;null!==i;){var l=i;i=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){i.lanes|=n,null!==(l=i.alternate)&&(l.lanes|=n),Ao(i.return,n,e),r||(s=null);break e}i=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(i=s.alternate)&&(i.lanes|=n),Ao(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function Po(e,t,n,r){e=null;for(var o=t,i=!1;null!==o;){if(!i)if(0!==(524288&o.flags))i=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=o.type;Jn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===V.current){if(null===(s=o.alternate))throw Error(a(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(dp):e=[dp])}o=o.return}null!==e&&Io(t,e,n,r),t.flags|=262144}function Mo(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Do(e){Eo=e,Ro=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Oo(e){return jo(Eo,e)}function No(e,t){return null===Eo&&Do(e),jo(e,t)}function jo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ro){if(null===e)throw Error(a(308));Ro=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ro=Ro.next=t;return n}var Lo="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},zo=r.unstable_scheduleCallback,Bo=r.unstable_NormalPriority,Fo={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wo(){return{controller:new Lo,data:new Map,refCount:0}}function Uo(e){e.refCount--,0===e.refCount&&zo(Bo,function(){e.controller.abort()})}var qo=null,Yo=0,Ho=0,Go=null;function Vo(){if(0===--Yo&&null!==qo){null!==Go&&(Go.status="fulfilled");var e=qo;qo=null,Ho=0,Go=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Qo=O.S;O.S=function(e,t){Oc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===qo){var n=qo=[];Yo=0,Ho=qu(),Go={status:"pending",value:void 0,then:function(e){n.push(e)}}}Yo++,t.then(Vo,Vo)}(0,t),null!==Qo&&Qo(e,t)};var Ko=B(null);function $o(){var e=Ko.current;return null!==e?e:mc.pooledCache}function Xo(e,t){W(Ko,null===t?Ko.current:t.pool)}function Jo(){var e=$o();return null===e?null:{parent:Fo._currentValue,pool:e}}var Zo=Error(a(460)),ei=Error(a(474)),ti=Error(a(542)),ni={then:function(){}};function ri(e){return"fulfilled"===(e=e.status)||"rejected"===e}function oi(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Mt,Mt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw li(e=t.reason),e;default:if("string"===typeof t.status)t.then(Mt,Mt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw li(e=t.reason),e}throw ai=t,Zo}}function ii(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ai=t,Zo;throw t}}var ai=null;function si(){if(null===ai)throw Error(a(459));var e=ai;return ai=null,e}function li(e){if(e===Zo||e===ti)throw Error(a(483))}var ci=null,ui=0;function di(e){var t=ui;return ui+=1,null===ci&&(ci=[]),oi(ci,e,t)}function pi(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hi(e,t){if(t.$$typeof===f)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&ii(i)===t.type)?(pi(t=o(t,n.props),n),t.return=e,t):(pi(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=qr(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Yr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return pi(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Gr(t,e.mode,n)).return=e,t;case R:return p(e,t=ii(t),n)}if(D(t)||I(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,di(t),n);if(t.$$typeof===x)return p(e,No(e,t),n);hi(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===o?c(e,t,n,r):null;case g:return n.key===o?u(e,t,n,r):null;case R:return h(e,t,n=ii(n),r)}if(D(n)||I(n))return null!==o?null:d(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,di(n),r);if(n.$$typeof===x)return h(e,t,No(e,n),r);hi(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case R:return f(e,t,n,r=ii(r),o)}if(D(r)||I(r))return d(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return f(e,t,n,di(r),o);if(r.$$typeof===x)return f(e,t,n,No(t,r),o);hi(t,r)}return null}function b(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var v=u.key;null!==c;){if(c.key===v){if((v=u.type)===y){if(7===c.tag){n(l,c.sibling),(d=o(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===v||"object"===typeof v&&null!==v&&v.$$typeof===R&&ii(v)===c.type){n(l,c.sibling),pi(d=o(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((d=qr(u.props.children,l.mode,d,u.key)).return=l,l=d):(pi(d=Ur(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return s(l);case g:e:{for(v=u.key;null!==c;){if(c.key===v){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=o(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Gr(u,l.mode,d)).return=l,l=d}return s(l);case R:return b(l,c,u=ii(u),d)}if(D(u))return function(o,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(o,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),a=i(y,a,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(o,d),ho&&oo(o,m),c;if(null===d){for(;m<s.length;m++)null!==(d=p(o,s[m],l))&&(a=i(d,a,m),null===u?c=d:u.sibling=d,u=d);return ho&&oo(o,m),c}for(d=r(d);m<s.length;m++)null!==(g=f(d,o,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=i(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(o,e)}),ho&&oo(o,m),c}(l,c,u,d);if(I(u)){if("function"!==typeof(v=I(u)))throw Error(a(150));return function(o,s,l,c){if(null==l)throw Error(a(151));for(var u=null,d=null,m=s,g=s=0,y=null,b=l.next();null!==m&&!b.done;g++,b=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=h(o,m,b.value,c);if(null===v){null===m&&(m=y);break}e&&m&&null===v.alternate&&t(o,m),s=i(v,s,g),null===d?u=v:d.sibling=v,d=v,m=y}if(b.done)return n(o,m),ho&&oo(o,g),u;if(null===m){for(;!b.done;g++,b=l.next())null!==(b=p(o,b.value,c))&&(s=i(b,s,g),null===d?u=b:d.sibling=b,d=b);return ho&&oo(o,g),u}for(m=r(m);!b.done;g++,b=l.next())null!==(b=f(m,o,g,b.value,c))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=i(b,s,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(o,e)}),ho&&oo(o,g),u}(l,c,u=v.call(u),d)}if("function"===typeof u.then)return b(l,c,di(u),d);if(u.$$typeof===x)return b(l,c,No(l,u),d);hi(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=o(c,u)).return=l,l=d):(n(l,c),(d=Yr(u,l.mode,d)).return=l,l=d),s(l)):n(l,c)}return function(e,t,n,r){try{ui=0;var o=b(e,t,n,r);return ci=null,o}catch(a){if(a===Zo||a===ti)throw a;var i=zr(29,a,null,e.mode);return i.lanes=r,i.return=e,i}}}var mi=fi(!0),gi=fi(!1),yi=!1;function bi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _i(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Nr(e),Or(e,null,n),t}return Pr(e,r,t,n),Nr(e)}function Si(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function Ci(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===i?o=i=a:i=i.next=a,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var wi=!1;function Ei(){if(wi){if(null!==Go)throw Go}}function Ri(e,t,n,r){wi=!1;var o=e.updateQueue;yi=!1;var i=o.firstBaseUpdate,a=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?i=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(a=0,u=c=l=null,s=i;;){var p=-536870913&s.lane,f=p!==s.lane;if(f?(yc&p)===p:(r&p)===p){0!==p&&p===Ho&&(wi=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;p=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(y,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(y,d,p):m)||void 0===p)break e;d=h({},d,p);break e;case 2:yi=!0}}null!==(p=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=o.callbacks)?o.callbacks=[p]:f.push(p))}else f={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}null===u&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,null===i&&(o.shared.lanes=0),Ec|=a,e.lanes=a,e.memoizedState=d}}function Ti(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function ki(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ti(n[e],t)}var Ai=B(null),Ii=B(0);function Pi(e,t){W(Ii,e=Cc),W(Ai,t),Cc=e|t.baseLanes}function Mi(){W(Ii,Cc),W(Ai,Ai.current)}function Di(){Cc=Ii.current,F(Ai),F(Ii)}var Oi=B(null),Ni=null;function ji(e){var t=e.alternate;W(Wi,1&Wi.current),W(Oi,e),null===Ni&&(null===t||null!==Ai.current||null!==t.memoizedState)&&(Ni=e)}function Li(e){W(Wi,Wi.current),W(Oi,e),null===Ni&&(Ni=e)}function zi(e){22===e.tag?(W(Wi,Wi.current),W(Oi,e),null===Ni&&(Ni=e)):Bi()}function Bi(){W(Wi,Wi.current),W(Oi,Oi.current)}function Fi(e){F(Oi),Ni===e&&(Ni=null),F(Wi)}var Wi=B(0);function Ui(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Md(n)||Dd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qi=0,Yi=null,Hi=null,Gi=null,Vi=!1,Qi=!1,Ki=!1,$i=0,Xi=0,Ji=null,Zi=0;function ea(){throw Error(a(321))}function ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function na(e,t,n,r,o,i){return qi=i,Yi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?ys:bs,Ki=!1,i=n(r,o),Ki=!1,Qi&&(i=oa(t,n,r,o)),ra(e),i}function ra(e){O.H=gs;var t=null!==Hi&&null!==Hi.next;if(qi=0,Gi=Hi=Yi=null,Vi=!1,Xi=0,Ji=null,t)throw Error(a(300));null===e||Os||null!==(e=e.dependencies)&&Mo(e)&&(Os=!0)}function oa(e,t,n,r){Yi=e;var o=0;do{if(Qi&&(Ji=null),Xi=0,Qi=!1,25<=o)throw Error(a(301));if(o+=1,Gi=Hi=null,null!=e.updateQueue){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,null!=i.memoCache&&(i.memoCache.index=0)}O.H=vs,i=t(n,r)}while(Qi);return i}function ia(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?da(t):t,e=e.useState()[0],(null!==Hi?Hi.memoizedState:null)!==e&&(Yi.flags|=1024),t}function aa(){var e=0!==$i;return $i=0,e}function sa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function la(e){if(Vi){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Vi=!1}qi=0,Gi=Hi=Yi=null,Qi=!1,Xi=$i=0,Ji=null}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Gi?Yi.memoizedState=Gi=e:Gi=Gi.next=e,Gi}function ua(){if(null===Hi){var e=Yi.alternate;e=null!==e?e.memoizedState:null}else e=Hi.next;var t=null===Gi?Yi.memoizedState:Gi.next;if(null!==t)Gi=t,Hi=e;else{if(null===e){if(null===Yi.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Hi=e).memoizedState,baseState:Hi.baseState,baseQueue:Hi.baseQueue,queue:Hi.queue,next:null},null===Gi?Yi.memoizedState=Gi=e:Gi=Gi.next=e}return Gi}function da(e){var t=Xi;return Xi+=1,null===Ji&&(Ji=[]),e=oi(Ji,e,t),t=Yi,null===(null===Gi?t.memoizedState:Gi.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?ys:bs),e}function pa(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return da(e);if(e.$$typeof===x)return Oo(e)}throw Error(a(438,String(e)))}function ha(e){var t=null,n=Yi.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Yi.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Yi.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function fa(e,t){return"function"===typeof t?t(e):t}function ma(e){return ga(ua(),Hi,e)}function ga(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var o=e.baseQueue,i=r.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}t.baseQueue=o=i,r.pending=null}if(i=e.baseState,null===o)e.memoizedState=i;else{var l=s=null,c=null,u=t=o.next,d=!1;do{var p=-536870913&u.lane;if(p!==u.lane?(yc&p)===p:(qi&p)===p){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),p===Ho&&(d=!0);else{if((qi&h)===h){u=u.next,h===Ho&&(d=!0);continue}p={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=i):c=c.next=p,Yi.lanes|=h,Ec|=h}p=u.action,Ki&&n(i,p),i=u.hasEagerState?u.eagerState:n(i,p)}else h={lane:p,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,s=i):c=c.next=h,Yi.lanes|=p,Ec|=p;u=u.next}while(null!==u&&u!==t);if(null===c?s=i:c.next=l,!Jn(i,e.memoizedState)&&(Os=!0,d&&null!==(n=Go)))throw n;e.memoizedState=i,e.baseState=s,e.baseQueue=c,r.lastRenderedState=i}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ya(e){var t=ua(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{i=e(i,s.action),s=s.next}while(s!==o);Jn(i,t.memoizedState)||(Os=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ba(e,t,n){var r=Yi,o=ua(),i=ho;if(i){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Jn((Hi||o).memoizedState,n);if(s&&(o.memoizedState=n,Os=!0),o=o.queue,qa(xa.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==Gi&&1&Gi.memoizedState.tag){if(r.flags|=2048,za(9,{destroy:void 0},_a.bind(null,r,o,n,t),null),null===mc)throw Error(a(349));i||0!==(127&qi)||va(r,t,n)}return n}function va(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Yi.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Yi.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _a(e,t,n,r){t.value=n,t.getSnapshot=r,Sa(t)&&Ca(e)}function xa(e,t,n){return n(function(){Sa(t)&&Ca(e)})}function Sa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(uo){return!0}}function Ca(e){var t=Dr(e,2);null!==t&&Kc(t,e,2)}function wa(e){var t=ca();if("function"===typeof e){var n=e;if(e=n(),Ki){ve(!0);try{n()}finally{ve(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function Ea(e,t,n,r){return e.baseState=n,ga(e,Hi,"function"===typeof r?r:fa)}function Ra(e,t,n,r,o){if(hs(e))throw Error(a(485));if(null!==(e=t.action)){var i={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){i.listeners.push(e)}};null!==O.T?n(!0):i.isTransition=!1,r(i),null===(n=t.pending)?(i.next=t.pending=i,Ta(t,i)):(i.next=n.next,t.pending=n.next=i)}}function Ta(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var i=O.T,a={};O.T=a;try{var s=n(o,r),l=O.S;null!==l&&l(a,s),ka(e,t,s)}catch(uo){Ia(e,t,uo)}finally{null!==i&&null!==a.types&&(i.types=a.types),O.T=i}}else try{ka(e,t,i=n(o,r))}catch(c){Ia(e,t,c)}}function ka(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Aa(e,t,n)},function(n){return Ia(e,t,n)}):Aa(e,t,n)}function Aa(e,t,n){t.status="fulfilled",t.value=n,Pa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ta(e,n)))}function Ia(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Pa(t),t=t.next}while(t!==r)}e.action=null}function Pa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ma(e,t){return t}function Da(e,t){if(ho){var n=mc.formState;if(null!==n){e:{var r=Yi;if(ho){if(po){t:{for(var o=po,i=mo;8!==o.nodeType;){if(!i){o=null;break t}if(null===(o=Od(o.nextSibling))){o=null;break t}}o="F!"===(i=o.data)||"F"===i?o:null}if(o){po=Od(o.nextSibling),r="F!"===o.data;break e}}yo(r)}r=!1}r&&(t=n[0])}}return(n=ca()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:t},n.queue=r,n=us.bind(null,Yi,r),r.dispatch=n,r=wa(!1),i=ps.bind(null,Yi,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=ca()).queue=o,n=Ra.bind(null,Yi,o,i,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function Oa(e){return Na(ua(),Hi,e)}function Na(e,t,n){if(t=ga(e,t,Ma)[0],e=ma(fa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=da(t)}catch(a){if(a===Zo)throw ti;throw a}else r=t;var o=(t=ua()).queue,i=o.dispatch;return n!==t.memoizedState&&(Yi.flags|=2048,za(9,{destroy:void 0},ja.bind(null,o,n),null)),[r,i,e]}function ja(e,t){e.action=t}function La(e){var t=ua(),n=Hi;if(null!==n)return Na(t,n,e);ua(),t=t.memoizedState;var r=(n=ua()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function za(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Yi.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Yi.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return ua().memoizedState}function Fa(e,t,n,r){var o=ca();Yi.flags|=e,o.memoizedState=za(1|t,{destroy:void 0},n,void 0===r?null:r)}function Wa(e,t,n,r){var o=ua();r=void 0===r?null:r;var i=o.memoizedState.inst;null!==Hi&&null!==r&&ta(r,Hi.memoizedState.deps)?o.memoizedState=za(t,i,n,r):(Yi.flags|=e,o.memoizedState=za(1|t,i,n,r))}function Ua(e,t){Fa(8390656,8,e,t)}function qa(e,t){Wa(2048,8,e,t)}function Ya(e){var t=ua().memoizedState;return function(e){Yi.flags|=4;var t=Yi.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Yi.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Ha(e,t){return Wa(4,2,e,t)}function Ga(e,t){return Wa(4,4,e,t)}function Va(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Qa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Wa(4,4,Va.bind(null,t,e),n)}function Ka(){}function $a(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ta(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=ua();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ta(t,r[1]))return r[0];if(r=e(),Ki){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r}function Ja(e,t,n){return void 0===n||0!==(1073741824&qi)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),Yi.lanes|=e,Ec|=e,n)}function Za(e,t,n,r){return Jn(n,t)?n:null!==Ai.current?(e=Ja(e,n,r),Jn(e,t)||(Os=!0),e):0===(42&qi)||0!==(1073741824&qi)&&0===(261930&yc)?(Os=!0,e.memoizedState=n):(e=Qc(),Yi.lanes|=e,Ec|=e,t)}function es(e,t,n,r,o){var i=N.p;N.p=0!==i&&8>i?i:8;var a=O.T,s={};O.T=s,ps(e,!1,t,n);try{var l=o(),c=O.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);ds(e,t,u,Vc())}else ds(e,t,r,Vc())}catch(uo){ds(e,t,{then:function(){},status:"rejected",reason:uo},Vc())}finally{N.p=i,null!==a&&null!==s.types&&(a.types=s.types),O.T=a}}function ts(){}function ns(e,t,n,r){if(5!==e.tag)throw Error(a(476));var o=rs(e).queue;es(e,o,t,j,null===n?ts:function(){return os(e),n(r)})}function rs(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:j,baseState:j,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:j},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function os(e){var t=rs(e);null===t.next&&(t=e.alternate.memoizedState),ds(e,t.next.queue,{},Vc())}function is(){return Oo(dp)}function as(){return ua().memoizedState}function ss(){return ua().memoizedState}function ls(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Vc(),r=xi(t,e=_i(n),n);return null!==r&&(Kc(r,t,n),Si(r,t,n)),t={cache:Wo()},void(e.payload=t)}t=t.return}}function cs(e,t,n){var r=Vc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},hs(e)?fs(t,n):null!==(n=Mr(e,t,n,r))&&(Kc(n,e,r),ms(n,t,r))}function us(e,t,n){ds(e,t,n,Vc())}function ds(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(hs(e))fs(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=i(a,n);if(o.hasEagerState=!0,o.eagerState=s,Jn(s,a))return Pr(e,t,o,0),null===mc&&Ir(),!1}catch(uo){}if(null!==(n=Mr(e,t,o,r)))return Kc(n,e,r),ms(n,t,r),!0}return!1}function ps(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},hs(e)){if(t)throw Error(a(479))}else null!==(t=Mr(e,n,r,2))&&Kc(t,e,2)}function hs(e){var t=e.alternate;return e===Yi||null!==t&&t===Yi}function fs(e,t){Qi=Vi=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ms(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var gs={readContext:Oo,use:pa,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useInsertionEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useSyncExternalStore:ea,useId:ea,useHostTransitionStatus:ea,useFormState:ea,useActionState:ea,useOptimistic:ea,useMemoCache:ea,useCacheRefresh:ea};gs.useEffectEvent=ea;var ys={readContext:Oo,use:pa,useCallback:function(e,t){return ca().memoizedState=[e,void 0===t?null:t],e},useContext:Oo,useEffect:Ua,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fa(4194308,4,Va.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fa(4194308,4,e,t)},useInsertionEffect:function(e,t){Fa(4,2,e,t)},useMemo:function(e,t){var n=ca();t=void 0===t?null:t;var r=e();if(Ki){ve(!0);try{e()}finally{ve(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ca();if(void 0!==n){var o=n(t);if(Ki){ve(!0);try{n(t)}finally{ve(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=cs.bind(null,Yi,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ca().memoizedState=e},useState:function(e){var t=(e=wa(e)).queue,n=us.bind(null,Yi,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ka,useDeferredValue:function(e,t){return Ja(ca(),e,t)},useTransition:function(){var e=wa(!1);return e=es.bind(null,Yi,e.queue,!0,!1),ca().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Yi,o=ca();if(ho){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===mc)throw Error(a(349));0!==(127&yc)||va(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Ua(xa.bind(null,r,i,e),[e]),r.flags|=2048,za(9,{destroy:void 0},_a.bind(null,r,i,n,t),null),n},useId:function(){var e=ca(),t=mc.identifierPrefix;if(ho){var n=ro;t="_"+t+"R_"+(n=(no&~(1<<32-_e(no)-1)).toString(32)+n),0<(n=$i++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zi++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:is,useFormState:Da,useActionState:Da,useOptimistic:function(e){var t=ca();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ps.bind(null,Yi,!0,n),n.dispatch=t,[e,t]},useMemoCache:ha,useCacheRefresh:function(){return ca().memoizedState=ls.bind(null,Yi)},useEffectEvent:function(e){var t=ca(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},bs={readContext:Oo,use:pa,useCallback:$a,useContext:Oo,useEffect:qa,useImperativeHandle:Qa,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:Xa,useReducer:ma,useRef:Ba,useState:function(){return ma(fa)},useDebugValue:Ka,useDeferredValue:function(e,t){return Za(ua(),Hi.memoizedState,e,t)},useTransition:function(){var e=ma(fa)[0],t=ua().memoizedState;return["boolean"===typeof e?e:da(e),t]},useSyncExternalStore:ba,useId:as,useHostTransitionStatus:is,useFormState:Oa,useActionState:Oa,useOptimistic:function(e,t){return Ea(ua(),0,e,t)},useMemoCache:ha,useCacheRefresh:ss};bs.useEffectEvent=Ya;var vs={readContext:Oo,use:pa,useCallback:$a,useContext:Oo,useEffect:qa,useImperativeHandle:Qa,useInsertionEffect:Ha,useLayoutEffect:Ga,useMemo:Xa,useReducer:ya,useRef:Ba,useState:function(){return ya(fa)},useDebugValue:Ka,useDeferredValue:function(e,t){var n=ua();return null===Hi?Ja(n,e,t):Za(n,Hi.memoizedState,e,t)},useTransition:function(){var e=ya(fa)[0],t=ua().memoizedState;return["boolean"===typeof e?e:da(e),t]},useSyncExternalStore:ba,useId:as,useHostTransitionStatus:is,useFormState:La,useActionState:La,useOptimistic:function(e,t){var n=ua();return null!==Hi?Ea(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ha,useCacheRefresh:ss};function _s(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}vs.useEffectEvent=Ya;var xs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vc(),o=_i(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=xi(e,o,r))&&(Kc(t,e,r),Si(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vc(),o=_i(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=xi(e,o,r))&&(Kc(t,e,r),Si(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vc(),r=_i(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=xi(e,r,n))&&(Kc(t,e,n),Si(t,e,n))}};function Ss(e,t,n,r,o,i,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,a):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(o,i))}function Cs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xs.enqueueReplaceState(t,t.state,null)}function ws(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=h({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function Es(e){Rr(e)}function Rs(e){console.error(e)}function Ts(e){Rr(e)}function ks(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function As(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Is(e,t,n){return(n=_i(n)).tag=3,n.payload={element:null},n.callback=function(){ks(e,t)},n}function Ps(e){return(e=_i(e)).tag=3,e}function Ms(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var i=r.value;e.payload=function(){return o(i)},e.callback=function(){As(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){As(t,n,r),"function"!==typeof o&&(null===Lc?Lc=new Set([this]):Lc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ds=Error(a(461)),Os=!1;function Ns(e,t,n,r){t.child=null===e?gi(t,null,n,r):mi(t,e.child,n,r)}function js(e,t,n,r,o){n=n.render;var i=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Do(t),r=na(e,t,n,a,i,o),s=aa(),null===e||Os?(ho&&s&&ao(t),t.flags|=1,Ns(e,t,r,o),t.child):(sa(e,t,o),il(e,t,o))}function Ls(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Br(i)||void 0!==i.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,zs(e,t,i,r,o))}if(i=e.child,!al(e,o)){var a=i.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(a,r)&&e.ref===t.ref)return il(e,t,o)}return t.flags|=1,(e=Fr(i,r)).ref=t.ref,e.return=t,t.child=e}function zs(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(Zn(i,r)&&e.ref===t.ref){if(Os=!1,t.pendingProps=r=i,!al(e,o))return t.lanes=e.lanes,il(e,t,o);0!==(131072&e.flags)&&(Os=!0)}}return Hs(e,t,n,r,o)}function Bs(e,t,n,r){var o=r.children,i=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(i=null!==i?i.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~i}else r=0,t.child=null;return Ws(e,t,i,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Ws(e,t,null!==i?i.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xo(0,null!==i?i.cachePool:null),null!==i?Pi(t,i):Mi(),zi(t)}else null!==i?(Xo(0,i.cachePool),Pi(t,i),Bi(),t.memoizedState=null):(null!==e&&Xo(0,null),Mi(),Bi());return Ns(e,t,o,n),t.child}function Fs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ws(e,t,n,r,o){var i=$o();return i=null===i?null:{parent:Fo._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Xo(0,null),Mi(),zi(t),null!==e&&Po(e,t,r,!0),t.childLanes=o,null}function Us(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qs(e,t,n){return mi(t,e.child,null,n),(e=Us(t,t.pendingProps)).flags|=2,Fi(t),t.memoizedState=null,e}function Ys(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Hs(e,t,n,r,o){return Do(t),n=na(e,t,n,r,void 0,o),r=aa(),null===e||Os?(ho&&r&&ao(t),t.flags|=1,Ns(e,t,n,o),t.child):(sa(e,t,o),il(e,t,o))}function Gs(e,t,n,r,o,i){return Do(t),t.updateQueue=null,n=oa(t,r,n,o),ra(e),r=aa(),null===e||Os?(ho&&r&&ao(t),t.flags|=1,Ns(e,t,n,i),t.child):(sa(e,t,i),il(e,t,i))}function Vs(e,t,n,r,o){if(Do(t),null===t.stateNode){var i=jr,a=n.contextType;"object"===typeof a&&null!==a&&(i=Oo(a)),i=new n(r,i),t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i.updater=xs,t.stateNode=i,i._reactInternals=t,(i=t.stateNode).props=r,i.state=t.memoizedState,i.refs={},bi(t),a=n.contextType,i.context="object"===typeof a&&null!==a?Oo(a):jr,i.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(_s(t,n,a,r),i.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(a=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),a!==i.state&&xs.enqueueReplaceState(i,i.state,null),Ri(t,r,i,o),Ei(),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){i=t.stateNode;var s=t.memoizedProps,l=ws(n,s);i.props=l;var c=i.context,u=n.contextType;a=jr,"object"===typeof u&&null!==u&&(a=Oo(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(s||c!==a)&&Cs(t,i,r,a),yi=!1;var p=t.memoizedState;i.state=p,Ri(t,r,i,o),Ei(),c=t.memoizedState,s||p!==c||yi?("function"===typeof d&&(_s(t,n,d,r),c=t.memoizedState),(l=yi||Ss(t,n,l,r,p,c,a))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=a,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,vi(e,t),u=ws(n,a=t.memoizedProps),i.props=u,d=t.pendingProps,p=i.context,c=n.contextType,l=jr,"object"===typeof c&&null!==c&&(l=Oo(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(a!==d||p!==l)&&Cs(t,i,r,l),yi=!1,p=t.memoizedState,i.state=p,Ri(t,r,i,o),Ei();var h=t.memoizedState;a!==d||p!==h||yi||null!==e&&null!==e.dependencies&&Mo(e.dependencies)?("function"===typeof s&&(_s(t,n,s,r),h=t.memoizedState),(u=yi||Ss(t,n,u,r,p,h,l)||null!==e&&null!==e.dependencies&&Mo(e.dependencies))?(c||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,h,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),i.props=r,i.state=h,i.context=l,r=u):("function"!==typeof i.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return i=r,Ys(e,t),r=0!==(128&t.flags),i||r?(i=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:i.render(),t.flags|=1,null!==e&&r?(t.child=mi(t,e.child,null,o),t.child=mi(t,null,n,o)):Ns(e,t,n,o),t.memoizedState=i.state,e=t.child):e=il(e,t,o),e}function Qs(e,t,n,r){return xo(),t.flags|=256,Ns(e,t,n,r),t.child}var Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $s(e){return{baseLanes:e,cachePool:Jo()}}function Xs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=kc),e}function Js(e,t,n){var r,o=t.pendingProps,i=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Wi.current)),r&&(i=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(ho){if(i?ji(t):Bi(),(e=po)?null!==(e=null!==(e=Pd(e,mo))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,co=t,po=null):e=null,null===e)throw yo(t);return Dd(e)?t.lanes=32:t.lanes=536870912,null}var l=o.children;return o=o.fallback,i?(Bi(),l=el({mode:"hidden",children:l},i=t.mode),o=qr(o,i,n,null),l.return=t,o.return=t,l.sibling=o,t.child=l,(o=t.child).memoizedState=$s(n),o.childLanes=Xs(e,r,n),t.memoizedState=Ks,Fs(null,o)):(ji(t),Zs(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(ji(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(Bi(),t.child=e.child,t.flags|=128,t=null):(Bi(),l=o.fallback,i=t.mode,o=el({mode:"visible",children:o.children},i),(l=qr(l,i,n,null)).flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,mi(t,e.child,null,n),(o=t.child).memoizedState=$s(n),o.childLanes=Xs(e,r,n),t.memoizedState=Ks,t=Fs(null,o));else if(ji(t),Dd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(o=Error(a(419))).stack="",o.digest=r,Co({value:o,source:null,stack:null}),t=tl(e,t,n)}else if(Os||Po(e,t,n,!1),r=0!==(n&e.childLanes),Os||r){if(null!==(r=mc)&&(0!==(o=Ne(r,n))&&o!==c.retryLane))throw c.retryLane=o,Dr(e,o),Kc(r,e,o),Ds;Md(l)||su(),t=tl(e,t,n)}else Md(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,po=Od(l.nextSibling),co=t,ho=!0,fo=null,mo=!1,null!==e&&lo(t,e),(t=Zs(t,o.children)).flags|=4096);return t}return i?(Bi(),l=o.fallback,i=t.mode,u=(c=e.child).sibling,(o=Fr(c,{mode:"hidden",children:o.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Fr(u,l):(l=qr(l,i,n,null)).flags|=2,l.return=t,o.return=t,o.sibling=l,t.child=o,Fs(null,o),o=t.child,null===(l=e.child.memoizedState)?l=$s(n):(null!==(i=l.cachePool)?(c=Fo._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=Jo(),l={baseLanes:l.baseLanes|n,cachePool:i}),o.memoizedState=l,o.childLanes=Xs(e,r,n),t.memoizedState=Ks,Fs(e.child,o)):(ji(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zs(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return mi(t,e.child,null,n),(e=Zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ao(e.return,t,n)}function rl(e,t,n,r,o,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o,a.treeForkCount=i)}function ol(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;r=r.children;var a=Wi.current,s=0!==(2&a);if(s?(a=1&a|2,t.flags|=128):a&=1,W(Wi,a),Ns(e,t,r,n),r=ho?Jr:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Ui(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),rl(t,!1,o,n,i,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Ui(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}rl(t,!0,n,null,i,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function il(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ec|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Po(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Mo(e))}function sl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Os=!0;else{if(!al(e,n)&&0===(128&t.flags))return Os=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),To(0,Fo,e.memoizedState.cache),xo();break;case 27:case 5:$(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:To(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Li(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(ji(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Js(e,t,n):(ji(t),null!==(e=il(e,t,n))?e.sibling:null);ji(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Po(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return ol(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),W(Wi,Wi.current),r)break;return null;case 22:return t.lanes=0,Bs(e,t,n,t.pendingProps);case 24:To(0,Fo,e.memoizedState.cache)}return il(e,t,n)}(e,t,n);Os=0!==(131072&e.flags)}else Os=!1,ho&&0!==(1048576&t.flags)&&io(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ii(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var o=e.$$typeof;if(o===S){t.tag=11,t=js(null,t,e,r,n);break e}if(o===E){t.tag=14,t=Ls(null,t,e,r,n);break e}}throw t=M(e)||e,Error(a(306,t,""))}Br(e)?(r=ws(e,r),t.tag=1,t=Vs(null,t,e,r,n)):(t.tag=0,t=Hs(null,t,e,r,n))}return t;case 0:return Hs(e,t,t.type,t.pendingProps,n);case 1:return Vs(e,t,r=t.type,o=ws(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var i=t.memoizedState;o=i.element,vi(e,t),Ri(t,r,null,n);var s=t.memoizedState;if(r=s.cache,To(0,Fo,r),r!==i.cache&&Io(t,[Fo],n,!0),Ei(),r=s.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Qs(e,t,r,n);break e}if(r!==o){Co(o=Qr(Error(a(424)),t)),t=Qs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(po=Od(e.firstChild),co=t,ho=!0,fo=null,mo=!0,n=gi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(xo(),r===o){t=il(e,t,n);break e}Ns(e,t,r,n)}t=t.child}return t;case 26:return Ys(e,t),null===e?(n=Gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:ho||(n=t.type,e=t.pendingProps,(r=yd(G.current).createElement(n))[We]=t,r[Ue]=e,hd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&ho&&(r=t.stateNode=zd(t.type,t.pendingProps,G.current),co=t,mo=!0,o=po,Td(t.type)?(Nd=o,po=Od(r.firstChild)):po=o),Ns(e,t,t.pendingProps.children,n),Ys(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ho&&((o=r=po)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(i=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(i!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((i=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var i=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===i)return e}if(null===(e=Od(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,mo))?(t.stateNode=r,co=t,po=Od(r.firstChild),mo=!1,o=!0):o=!1),o||yo(t)),$(t),o=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,r=i.children,_d(o,i)?r=null:null!==s&&_d(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=na(e,t,ia,null,null,n),dp._currentValue=o),Ys(e,t),Ns(e,t,r,n),t.child;case 6:return null===e&&ho&&((e=n=po)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Od(e.nextSibling)))return null}return e}(n,t.pendingProps,mo))?(t.stateNode=n,co=t,po=null,e=!0):e=!1),e||yo(t)),null;case 13:return Js(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=mi(t,null,r,n):Ns(e,t,r,n),t.child;case 11:return js(e,t,t.type,t.pendingProps,n);case 7:return Ns(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ns(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,To(0,t.type,r.value),Ns(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Do(t),r=r(o=Oo(o)),t.flags|=1,Ns(e,t,r,n),t.child;case 14:return Ls(e,t,t.type,t.pendingProps,n);case 15:return zs(e,t,t.type,t.pendingProps,n);case 19:return ol(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,o=0!==(128&t.flags);if(t.flags&=-129,null===e){if(ho){if("hidden"===r.mode)return e=Us(t,r),t.lanes=536870912,Fs(null,e);if(Li(t),(e=po)?null!==(e=null!==(e=Pd(e,mo))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Hr(e)).return=t,t.child=n,co=t,po=null):e=null,null===e)throw yo(t);return t.lanes=536870912,null}return Us(t,r)}var i=e.memoizedState;if(null!==i){var s=i.dehydrated;if(Li(t),o)if(256&t.flags)t.flags&=-257,t=qs(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Os||Po(e,t,n,!1),o=0!==(n&e.childLanes),Os||o){if(null!==(r=mc)&&0!==(s=Ne(r,n))&&s!==i.retryLane)throw i.retryLane=s,Dr(e,s),Kc(r,e,s),Ds;su(),t=qs(e,t,n)}else e=i.treeContext,po=Od(s.nextSibling),co=t,ho=!0,fo=null,mo=!1,null!==e&&lo(t,e),(t=Us(t,r)).flags|=4096;return t}return(e=Fr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Bs(e,t,n,t.pendingProps);case 24:return Do(t),r=Oo(Fo),null===e?(null===(o=$o())&&(o=mc,i=Wo(),o.pooledCache=i,i.refCount++,null!==i&&(o.pooledCacheLanes|=n),o=i),t.memoizedState={parent:r,cache:o},bi(t),To(0,Fo,o)):(0!==(e.lanes&n)&&(vi(e,t),Ri(t,null,null,n),Ei()),o=e.memoizedState,i=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),To(0,Fo,r)):(r=i.cache,To(0,Fo,r),r!==o.cache&&Io(t,[Fo],n,!0))),Ns(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,o){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!ou())throw ai=ni,ei;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ip(t)){if(!ou())throw ai=ni,ei;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ie():536870912,e.lanes|=t,Ac|=t)}function pl(e,t){if(!ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(so(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),ko(Fo),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(_o(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,So())),hl(t),null;case 26:var o=t.type,i=t.memoizedState;return null===e?(ll(t),null!==i?(hl(t),ul(t,i)):(hl(t),cl(t,o,0,0,n))):i?i!==e.memoizedState?(ll(t),hl(t),ul(t,i)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),hl(t),cl(t,o,0,0,n)),null;case 27:if(X(t),n=G.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return hl(t),null}e=Y.current,_o(t)?bo(t):(e=zd(o,r,n),t.stateNode=e,ll(t))}return hl(t),null;case 5:if(X(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return hl(t),null}if(i=Y.current,_o(t))bo(t);else{var s=yd(G.current);switch(i){case 1:i=s.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=s.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(i=s.createElement("div")).innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?i.multiple=!0:r.size&&(i.size=r.size);break;default:i="string"===typeof r.is?s.createElement(o,{is:r.is}):s.createElement(o)}}i[We]=t,i[Ue]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)i.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=i;e:switch(hd(i,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return hl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=G.current,_o(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=co))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[We]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||yo(t,!0)}else(e=yd(e).createTextNode(r))[We]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=_o(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[We]=t}else xo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=So(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Fi(t),t):(Fi(t),null);if(0!==(128&t.flags))throw Error(a(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=_o(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[We]=t}else xo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),o=!1}else o=So(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(Fi(t),t):(Fi(t),null)}return Fi(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool),i=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(i=r.memoizedState.cachePool.pool),i!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),hl(t),null);case 4:return K(),null===e&&ed(t.stateNode.containerInfo),hl(t),null;case 10:return ko(t.type),hl(t),null;case 19:if(F(Wi),null===(r=t.memoizedState))return hl(t),null;if(o=0!==(128&t.flags),null===(i=r.rendering))if(o)pl(r,!1);else{if(0!==wc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(i=Ui(e))){for(t.flags|=128,pl(r,!1),e=i.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Wr(n,e),n=n.sibling;return W(Wi,1&Wi.current|2),ho&&oo(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Nc&&(t.flags|=128,o=!0,pl(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Ui(i))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),pl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!i.alternate&&!ho)return hl(t),null}else 2*le()-r.renderingStartTime>Nc&&536870912!==n&&(t.flags|=128,o=!0,pl(r,!1),t.lanes=4194304);r.isBackwards?(i.sibling=t.child,t.child=i):(null!==(e=r.last)?e.sibling=i:t.child=i,r.last=i)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Wi.current,W(Wi,o?1&n|2:1&n),ho&&oo(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return Fi(t),Di(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F(Ko),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ko(Fo),hl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ml(e,t){switch(so(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ko(Fo),K(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Fi(t),null===t.alternate)throw Error(a(340));xo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Fi(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));xo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(Wi),null;case 4:return K(),null;case 10:return ko(t.type),null;case 22:case 23:return Fi(t),Di(),null!==e&&F(Ko),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return ko(Fo),null;default:return null}}function gl(e,t){switch(so(t),t.tag){case 3:ko(Fo),K();break;case 26:case 27:case 5:X(t);break;case 4:K();break;case 31:null!==t.memoizedState&&Fi(t);break;case 13:Fi(t);break;case 19:F(Wi);break;case 10:ko(t.type);break;case 22:case 23:Fi(t),Di(),null!==e&&F(Ko);break;case 24:ko(Fo)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var i=n.create,a=n.inst;r=i(),a.destroy=r}n=n.next}while(n!==o)}}catch(uo){wu(t,t.return,uo)}}function bl(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var i=o.next;r=i;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,o=t;var l=n,c=s;try{c()}catch(uo){wu(o,l,uo)}}}r=r.next}while(r!==i)}}catch(uo){wu(t,t.return,uo)}}function vl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ki(t,n)}catch(uo){wu(e,e.return,uo)}}}function _l(e,t,n){n.props=ws(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(uo){wu(e,t,uo)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(uo){wu(e,t,uo)}}function Sl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(uo){wu(e,t,uo)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){wu(e,t,o)}else n.current=null}function Cl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(uo){wu(e,e.return,uo)}}function wl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,i=null,s=null,l=null,c=null,u=null,d=null;for(f in n){var p=n[f];if(n.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":c=p;default:r.hasOwnProperty(f)||dd(e,t,f,null,r,p)}}for(var h in r){var f=r[h];if(p=n[h],r.hasOwnProperty(h)&&(null!=f||null!=p))switch(h){case"type":i=f;break;case"name":o=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==p&&dd(e,t,h,f,r,p)}}return void bt(e,s,l,c,u,d,i,o);case"select":for(i in f=s=l=h=null,n)if(c=n[i],n.hasOwnProperty(i)&&null!=c)switch(i){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(i)||dd(e,t,i,null,r,c)}for(o in r)if(i=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=i||null!=c))switch(o){case"value":h=i;break;case"defaultValue":l=i;break;case"multiple":s=i;default:i!==c&&dd(e,t,o,i,r,c)}return t=l,n=s,r=f,void(null!=h?xt(e,!!n,h,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=h=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,o)}for(s in r)if(o=r[s],i=n[s],r.hasOwnProperty(s)&&(null!=o||null!=i))switch(s){case"value":h=o;break;case"defaultValue":f=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(a(91));break;default:o!==i&&dd(e,t,s,o,r,i)}return void St(e,h,f);case"option":for(var m in n)if(h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,h);for(c in r)if(h=r[c],f=n[c],r.hasOwnProperty(c)&&h!==f&&(null!=h||null!=f))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else dd(e,t,c,h,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,h);for(u in r)if(h=r[u],f=n[u],r.hasOwnProperty(u)&&h!==f&&(null!=h||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:dd(e,t,u,h,r,f)}return;default:if(kt(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&void 0!==h&&!r.hasOwnProperty(y)&&pd(e,t,y,void 0,r,h);for(d in r)h=r[d],f=n[d],!r.hasOwnProperty(d)||h===f||void 0===h&&void 0===f||pd(e,t,d,h,r,f);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&null!=h&&!r.hasOwnProperty(b)&&dd(e,t,b,null,r,h);for(p in r)h=r[p],f=n[p],!r.hasOwnProperty(p)||h===f||null==h&&null==f||dd(e,t,p,h,r,f)}(r,e.type,n,t),r[Ue]=t}catch(uo){wu(e,e.return,uo)}}function El(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function Rl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||El(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Mt));else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function kl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(kl(e,t,n),e=e.sibling;null!==e;)kl(e,t,n),e=e.sibling}function Al(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);hd(t,r,n),t[We]=e,t[Ue]=n}catch(uo){wu(e,e.return,uo)}}var Il=!1,Pl=!1,Ml=!1,Dl="function"===typeof WeakSet?WeakSet:Set,Ol=null;function Nl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Kl(e,n),4&r&&yl(5,n);break;case 1:if(Kl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(uo){wu(n,n.return,uo)}else{var o=ws(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){wu(n,n.return,a)}}64&r&&vl(n),512&r&&xl(n,n.return);break;case 3:if(Kl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ki(e,t)}catch(uo){wu(n,n.return,uo)}}break;case 27:null===t&&4&r&&Al(n);case 26:case 5:Kl(e,n),null===t&&4&r&&Cl(n),512&r&&xl(n,n.return);break;case 12:Kl(e,n);break;case 31:Kl(e,n),4&r&&Wl(e,n);break;case 13:Kl(e,n),4&r&&Ul(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=ku.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Il)){t=null!==t&&null!==t.memoizedState||Pl,o=Il;var i=Pl;Il=r,(Pl=t)&&!i?Xl(e,n,0!==(8772&n.subtreeFlags)):Kl(e,n),Il=o,Pl=i}break;case 30:break;default:Kl(e,n)}}function jl(e){var t=e.alternate;null!==t&&(e.alternate=null,jl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ll=null,zl=!1;function Bl(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ye,n)}catch(i){}switch(n.tag){case 26:Pl||Sl(n,t),Bl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||Sl(n,t);var r=Ll,o=zl;Td(n.type)&&(Ll=n.stateNode,zl=!1),Bl(e,t,n),Bd(n.stateNode),Ll=r,zl=o;break;case 5:Pl||Sl(n,t);case 6:if(r=Ll,o=zl,Ll=null,Bl(e,t,n),zl=o,null!==(Ll=r))if(zl)try{(9===Ll.nodeType?Ll.body:"HTML"===Ll.nodeName?Ll.ownerDocument.body:Ll).removeChild(n.stateNode)}catch(uo){wu(n,t,uo)}else try{Ll.removeChild(n.stateNode)}catch(uo){wu(n,t,uo)}break;case 18:null!==Ll&&(zl?(kd(9===(e=Ll).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Hp(e)):kd(Ll,n.stateNode));break;case 4:r=Ll,o=zl,Ll=n.stateNode.containerInfo,zl=!0,Bl(e,t,n),Ll=r,zl=o;break;case 0:case 11:case 14:case 15:bl(2,n,t),Pl||bl(4,n,t),Bl(e,t,n);break;case 1:Pl||(Sl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&_l(n,t,r)),Bl(e,t,n);break;case 21:Bl(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,Bl(e,t,n),Pl=r;break;default:Bl(e,t,n)}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Hp(e)}catch(uo){wu(t,t.return,uo)}}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Hp(e)}catch(uo){wu(t,t.return,uo)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Dl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Dl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Au.bind(null,e,t);t.then(r,r)}})}function Yl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],i=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Td(l.type)){Ll=l.stateNode,zl=!1;break e}break;case 5:Ll=l.stateNode,zl=!1;break e;case 3:case 4:Ll=l.stateNode.containerInfo,zl=!0;break e}l=l.return}if(null===Ll)throw Error(a(160));Fl(i,s,o),Ll=null,zl=!1,null!==(i=o.alternate)&&(i.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gl(t,e),t=t.sibling}var Hl=null;function Gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yl(t,e),Vl(e),4&r&&(bl(3,e,e.return),yl(3,e),bl(5,e,e.return));break;case 1:Yl(t,e),Vl(e),512&r&&(Pl||null===n||Sl(n,n.return)),64&r&&Il&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Hl;if(Yl(t,e),Vl(e),512&r&&(Pl||null===n||Sl(n,n.return)),4&r){var i=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(i=o.getElementsByTagName("title")[0])||i[Qe]||i[We]||"http://www.w3.org/2000/svg"===i.namespaceURI||i.hasAttribute("itemprop"))&&(i=o.createElement(r),o.head.insertBefore(i,o.querySelector("head > title"))),hd(i,r,n),i[We]=e,et(i),r=i;break e;case"link":var s=rp("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((i=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&i.getAttribute("rel")===(null==n.rel?null:n.rel)&&i.getAttribute("title")===(null==n.title?null:n.title)&&i.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}hd(i=o.createElement(r),r,n),o.head.appendChild(i);break;case"meta":if(s=rp("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((i=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&i.getAttribute("name")===(null==n.name?null:n.name)&&i.getAttribute("property")===(null==n.property?null:n.property)&&i.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&i.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}hd(i=o.createElement(r),r,n),o.head.appendChild(i);break;default:throw Error(a(468,r))}i[We]=e,et(i),r=i}e.stateNode=r}else op(o,e.type,e.stateNode);else e.stateNode=Jd(o,r,e.memoizedProps);else i!==r?(null===i?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):i.count--,null===r?op(o,e.type,e.stateNode):Jd(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&wl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Yl(t,e),Vl(e),512&r&&(Pl||null===n||Sl(n,n.return)),null!==n&&4&r&&wl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Yl(t,e),Vl(e),512&r&&(Pl||null===n||Sl(n,n.return)),32&e.flags){o=e.stateNode;try{wt(o,"")}catch(uo){wu(e,e.return,uo)}}4&r&&null!=e.stateNode&&wl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(Ml=!0);break;case 6:if(Yl(t,e),Vl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(uo){wu(e,e.return,uo)}}break;case 3:if(np=null,o=Hl,Hl=Ud(t.containerInfo),Yl(t,e),Hl=o,Vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Hp(t.containerInfo)}catch(uo){wu(e,e.return,uo)}Ml&&(Ml=!1,Ql(e));break;case 4:r=Hl,Hl=Ud(e.stateNode.containerInfo),Yl(t,e),Vl(e),Hl=r;break;case 12:default:Yl(t,e),Vl(e);break;case 31:case 19:Yl(t,e),Vl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Yl(t,e),Vl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Dc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Il,d=Pl;if(Il=u||o,Pl=d||c,Yl(t,e),Pl=d,Il=u,Vl(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||Il||Pl||$l(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(i=c.stateNode,o)"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var p=c.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(uo){wu(c,c.return,uo)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(uo){wu(c,c.return,uo)}}}else if(18===t.tag){if(null===n){c=t;try{var f=c.stateNode;o?Ad(f,!0):Ad(c.stateNode,!1)}catch(uo){wu(c,c.return,uo)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function Vl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(El(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var o=n.stateNode;kl(e,Rl(e),o);break;case 5:var i=n.stateNode;32&n.flags&&(wt(i,""),n.flags&=-33),kl(e,Rl(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;Tl(e,Rl(e),s);break;default:throw Error(a(161))}}catch(uo){wu(e,e.return,uo)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Kl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Nl(e,t.alternate,t),t=t.sibling}function $l(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bl(4,t,t.return),$l(t);break;case 1:Sl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&_l(t,t.return,n),$l(t);break;case 27:Bd(t.stateNode);case 26:case 5:Sl(t,t.return),$l(t);break;case 22:null===t.memoizedState&&$l(t);break;default:$l(t)}e=e.sibling}}function Xl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,i=t,a=i.flags;switch(i.tag){case 0:case 11:case 15:Xl(o,i,n),yl(4,i);break;case 1:if(Xl(o,i,n),"function"===typeof(o=(r=i).stateNode).componentDidMount)try{o.componentDidMount()}catch(uo){wu(r,r.return,uo)}if(null!==(o=(r=i).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)Ti(l[o],s)}catch(uo){wu(r,r.return,uo)}}n&&64&a&&vl(i),xl(i,i.return);break;case 27:Al(i);case 26:case 5:Xl(o,i,n),n&&null===r&&4&a&&Cl(i),xl(i,i.return);break;case 12:Xl(o,i,n);break;case 31:Xl(o,i,n),n&&4&a&&Wl(o,i);break;case 13:Xl(o,i,n),n&&4&a&&Ul(o,i);break;case 22:null===i.memoizedState&&Xl(o,i,n),xl(i,i.return);break;case 30:break;default:Xl(o,i,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Uo(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Uo(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&o&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Uo(e)));break;case 12:if(2048&o){ec(e,t,n,r),e=t.stateNode;try{var i=t.memoizedProps,a=i.id,s=i.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(uo){wu(t,t.return,uo)}}else ec(e,t,n,r);break;case 23:break;case 22:i=t.stateNode,a=t.alternate,null!==t.memoizedState?2&i._visibility?ec(e,t,n,r):rc(e,t):2&i._visibility?ec(e,t,n,r):(i._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&o&&Jl(a,t);break;case 24:ec(e,t,n,r),2048&o&&Zl(t.alternate,t)}}function nc(e,t,n,r,o){for(o=o&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var i=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:nc(i,a,s,l,o),yl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?nc(i,a,s,l,o):rc(i,a):(u._visibility|=2,nc(i,a,s,l,o)),o&&2048&c&&Jl(a.alternate,a);break;case 24:nc(i,a,s,l,o),o&&2048&c&&Zl(a.alternate,a);break;default:nc(i,a,s,l,o)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:rc(n,r),2048&o&&Jl(r.alternate,r);break;case 24:rc(n,r),2048&o&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var oc=8192;function ic(e,t,n){if(e.subtreeFlags&oc)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:ic(e,t,n),e.flags&oc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var o=Vd(r.href),i=t.querySelector(Qd(o));if(i)return null!==(t=i._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=i,void et(i);i=t.ownerDocument||t,r=Kd(r),(o=Fd.get(o))&&ep(r,o),et(i=i.createElement("link"));var a=i;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),hd(i,"link",r),n.instance=i}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sp.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Hl,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,n);break;case 3:case 4:var r=Hl;Hl=Ud(e.stateNode.containerInfo),ic(e,t,n),Hl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=oc,oc=16777216,ic(e,t,n),oc=r):ic(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,dc(r,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&bl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,dc(r,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Ol;){var n=Ol;switch(n.tag){case 0:case 11:case 15:bl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Uo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ol=r;else e:for(n=e;null!==Ol;){var o=(r=Ol).sibling,i=r.return;if(jl(r),r===n){Ol=null;break e}if(null!==o){o.return=i,Ol=o;break e}Ol=i}}}var pc={getCacheForType:function(e){var t=Oo(Fo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Oo(Fo).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,fc=0,mc=null,gc=null,yc=0,bc=0,vc=null,_c=!1,xc=!1,Sc=!1,Cc=0,wc=0,Ec=0,Rc=0,Tc=0,kc=0,Ac=0,Ic=null,Pc=null,Mc=!1,Dc=0,Oc=0,Nc=1/0,jc=null,Lc=null,zc=0,Bc=null,Fc=null,Wc=0,Uc=0,qc=null,Yc=null,Hc=0,Gc=null;function Vc(){return 0!==(2&fc)&&0!==yc?yc&-yc:null!==O.T?qu():ze()}function Qc(){if(0===kc)if(0===(536870912&yc)||ho){var e=we;0===(3932160&(we<<=1))&&(we=262144),kc=e}else kc=536870912;return null!==(e=Oi.current)&&(e.flags|=32),kc}function Kc(e,t,n){(e!==mc||2!==bc&&9!==bc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,yc,kc,!1)),Me(e,n),0!==(2&fc)&&e===mc||(e===mc&&(0===(2&fc)&&(Rc|=n),4===wc&&Zc(e,yc,kc,!1)),ju(e))}function $c(e,t,n){if(0!==(6&fc))throw Error(a(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||ke(e,t),o=r?function(e,t){var n=fc;fc|=2;var r=iu(),o=au();mc!==e||yc!==t?(jc=null,Nc=le()+500,nu(e,t)):xc=ke(e,t);e:for(;;)try{if(0!==bc&&null!==gc){t=gc;var i=vc;t:switch(bc){case 1:bc=0,vc=null,hu(e,t,i,1);break;case 2:case 9:if(ri(i)){bc=0,vc=null,pu(t);break}t=function(){2!==bc&&9!==bc||mc!==e||(bc=7),ju(e)},i.then(t,t);break e;case 3:bc=7;break e;case 4:bc=5;break e;case 7:ri(i)?(bc=0,vc=null,pu(t)):(bc=0,vc=null,hu(e,t,i,7));break;case 5:var s=null;switch(gc.tag){case 26:s=gc.memoizedState;case 5:case 27:var l=gc;if(s?ip(s):l.stateNode.complete){bc=0,vc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,fu(u)):gc=null}break t}}bc=0,vc=null,hu(e,t,i,5);break;case 6:bc=0,vc=null,hu(e,t,i,6);break;case 8:tu(),wc=6;break e;default:throw Error(a(462))}}uu();break}catch(d){ru(e,d)}return Ro=Eo=null,O.H=r,O.A=o,fc=n,null!==gc?0:(mc=null,yc=0,Ir(),wc)}(e,t):lu(e,t,!0),i=r;;){if(0===o){xc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!i||Jc(n)){if(2===o){if(i=t,e.errorRecoveryDisabledLanes&i)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=Ic;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,s).flags|=256),2!==(s=lu(l,s,!1))){if(Sc&&!c){l.errorRecoveryDisabledLanes|=i,Rc|=i,o=4;break e}i=Pc,Pc=o,null!==i&&(null===Pc?Pc=i:Pc.push.apply(Pc,i))}o=s}if(i=!1,2!==o)continue}}if(1===o){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,i=o){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,kc,!_c);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(o=Dc+300-le())){if(Zc(r,t,kc,!_c),0!==Te(r,0,!0))break e;Wc=t,r.timeoutHandle=Sd(Xc.bind(null,r,n,Pc,jc,Mc,t,kc,Rc,Ac,_c,i,"Throttled",-0,0),o)}else Xc(r,n,Pc,jc,Mc,t,kc,Rc,Ac,_c,i,null,-0,0)}break}o=lu(e,t,!1),i=!1}ju(e)}function Xc(e,t,n,r,o,i,a,s,l,c,u,d,p,h){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ac(t,i,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mt});var f=(62914560&i)===i?Dc-le():(4194048&i)===i?Oc-le():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&cp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&cp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ap&&(ap=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],i=o.transferSize,a=o.initiatorType,s=o.duration;if(i&&s&&fd(a)){for(a=0,s=o.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(a+=u*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(i+a)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ap?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(d,f)))return Wc=i,e.cancelPendingCommit=f(gu.bind(null,e,t,i,n,r,o,a,s,l,u,d,null,p,h)),void Zc(e,i,a,!c)}gu(e,t,i,n,r,o,a,s,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Jn(i(),o))return!1}catch(uo){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Tc,t&=~Rc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var i=31-_e(o),a=1<<i;r[i]=-1,o&=~a}0!==n&&De(e,n,t)}function eu(){return 0!==(6&fc)||(Lu(0,!1),!1)}function tu(){if(null!==gc){if(0===bc)var e=gc.return;else Ro=Eo=null,la(e=gc),ci=null,ui=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc=0,tu(),mc=e,gc=n=Fr(e.current,null),yc=t,bc=0,vc=null,_c=!1,xc=ke(e,t),Sc=!1,Ac=kc=Tc=Rc=Ec=wc=0,Pc=Ic=null,Mc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-_e(r),i=1<<o;t|=e[o],r&=~i}return Cc=t,Ir(),n}function ru(e,t){Yi=null,O.H=gs,t===Zo||t===ti?(t=si(),bc=3):t===ei?(t=si(),bc=4):bc=t===Ds?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,vc=t,null===gc&&(wc=1,ks(e,Qr(t,e.current)))}function ou(){var e=Oi.current;return null===e||((4194048&yc)===yc?null===Ni:((62914560&yc)===yc||0!==(536870912&yc))&&e===Ni)}function iu(){var e=O.H;return O.H=gs,null===e?gs:e}function au(){var e=O.A;return O.A=pc,e}function su(){wc=4,_c||(4194048&yc)!==yc&&null!==Oi.current||(xc=!0),0===(134217727&Ec)&&0===(134217727&Rc)||null===mc||Zc(mc,yc,kc,!1)}function lu(e,t,n){var r=fc;fc|=2;var o=iu(),i=au();mc===e&&yc===t||(jc=null,nu(e,t)),t=!1;var a=wc;e:for(;;)try{if(0!==bc&&null!==gc){var s=gc,l=vc;switch(bc){case 8:tu(),a=6;break e;case 3:case 2:case 9:case 6:null===Oi.current&&(t=!0);var c=bc;if(bc=0,vc=null,hu(e,s,l,c),n&&xc){a=0;break e}break;default:c=bc,bc=0,vc=null,hu(e,s,l,c)}}cu(),a=wc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Ro=Eo=null,fc=r,O.H=o,O.A=i,null===gc&&(mc=null,yc=0,Ir()),a}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!ae();)du(gc)}function du(e){var t=sl(e.alternate,e,Cc);e.memoizedProps=e.pendingProps,null===t?fu(e):gc=t}function pu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Gs(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Gs(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:la(t);default:gl(n,t),t=sl(n,t=gc=Wr(t,Cc),Cc)}e.memoizedProps=e.pendingProps,null===t?fu(e):gc=t}function hu(e,t,n,r){Ro=Eo=null,la(t),ci=null,ui=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Po(t,n,o,!0),null!==(n=Oi.current)){switch(n.tag){case 31:case 13:return null===Ni?su():null===n.alternate&&0===wc&&(wc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===ni?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Eu(e,r,o)),!1;case 22:return n.flags|=65536,r===ni?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Eu(e,r,o)),!1}throw Error(a(435,n.tag))}return Eu(e,r,o),su(),!1}if(ho)return null!==(t=Oi.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==go&&Co(Qr(e=Error(a(422),{cause:r}),n))):(r!==go&&Co(Qr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Qr(r,n),Ci(e,o=Is(e.stateNode,r,o)),4!==wc&&(wc=2)),!1;var i=Error(a(520),{cause:r});if(i=Qr(i,n),null===Ic?Ic=[i]:Ic.push(i),4!==wc&&(wc=2),null===t)return!0;r=Qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Ci(n,e=Is(n.stateNode,r,e)),!1;case 1:if(t=n.type,i=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==i&&"function"===typeof i.componentDidCatch&&(null===Lc||!Lc.has(i))))return n.flags|=65536,o&=-o,n.lanes|=o,Ms(o=Ps(o),e,n,r),Ci(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,yc))return wc=1,ks(e,Qr(n,e.current)),void(gc=null)}catch(uo){if(null!==o)throw gc=o,uo;return wc=1,ks(e,Qr(n,e.current)),void(gc=null)}32768&t.flags?(ho||1===r?e=!0:xc||0!==(536870912&yc)?e=!1:(_c=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Oi.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,_c);e=t.return;var n=fl(t.alternate,t,Cc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===wc&&(wc=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);wc=6,gc=null}function gu(e,t,n,r,o,i,s,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==zc);if(0!==(6&fc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(i=t.lanes|t.childLanes,function(e,t,n,r,o,i){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-_e(n),d=1<<u;s[u]=0,l[u]=-1;var p=c[u];if(null!==p)for(c[u]=null,u=0;u<p.length;u++){var h=p[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==r&&De(e,r,0),0!==i&&0===o&&0!==e.tag&&(e.suspendedLanes|=i&~(a&~t))}(e,n,i|=Ar,s,l,c),e===mc&&(gc=mc=null,yc=0),Fc=t,Bc=e,Wc=n,Uc=i,qc=o,Yc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,oe(pe,function(){return Su(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,o=N.p,N.p=2,s=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,md=_p,or(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==i||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++u===o&&(l=s),h===i&&++d===r&&(c=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},_p=!1,Ol=t;null!==Ol;)if(e=(t=Ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ol=e;else for(;null!==Ol;){switch(i=(t=Ol).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==i){e=void 0,n=t,o=i.memoizedProps,i=i.memoizedState,r=n.stateNode;try{var m=ws(n.type,o);e=r.getSnapshotBeforeUpdate(m,i),r.__reactInternalSnapshotBeforeUpdate=e}catch(uo){wu(n,n.return,uo)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Id(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Id(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Ol=e;break}Ol=t.return}}(e,t)}finally{fc=s,N.p=o,O.T=r}}zc=1,yu(),bu(),vu()}}function yu(){if(1===zc){zc=0;var e=Bc,t=Fc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=N.p;N.p=2;var o=fc;fc|=4;try{Gl(t,e);var i=gd,a=rr(e.containerInfo),s=i.focusedElem,l=i.selectionRange;if(a!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==l&&or(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,p=d&&d.defaultView||window;if(p.getSelection){var h=p.getSelection(),f=s.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!h.extend&&m>g&&(a=g,g=m,m=a);var y=tr(s,m),b=tr(s,g);if(y&&b&&(1!==h.rangeCount||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var v=d.createRange();v.setStart(y.node,y.offset),h.removeAllRanges(),m>g?(h.addRange(v),h.extend(b.node,b.offset)):(v.setEnd(b.node,b.offset),h.addRange(v))}}}}for(d=[],h=s;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var _=d[s];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}_p=!!md,gd=md=null}finally{fc=o,N.p=r,O.T=n}}e.current=t,zc=2}}function bu(){if(2===zc){zc=0;var e=Bc,t=Fc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=N.p;N.p=2;var o=fc;fc|=4;try{Nl(e,t.alternate,t)}finally{fc=o,N.p=r,O.T=n}}zc=3}}function vu(){if(4===zc||3===zc){zc=0,se();var e=Bc,t=Fc,n=Wc,r=Yc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?zc=5:(zc=0,Fc=Bc=null,_u(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Lc=null),Le(n),t=t.stateNode,be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,o=N.p,N.p=2,O.T=null;try{for(var i=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];i(s.value,{componentStack:s.stack})}}finally{O.T=t,N.p=o}}0!==(3&Wc)&&xu(),ju(e),o=e.pendingLanes,0!==(261930&n)&&0!==(42&o)?e===Gc?Hc++:(Hc=0,Gc=e):Hc=0,Lu(0,!1)}}function _u(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Uo(t)))}function xu(){return yu(),bu(),vu(),Su()}function Su(){if(5!==zc)return!1;var e=Bc,t=Uc;Uc=0;var n=Le(Wc),r=O.T,o=N.p;try{N.p=32>n?32:n,O.T=null,n=qc,qc=null;var i=Bc,s=Wc;if(zc=0,Fc=Bc=null,Wc=0,0!==(6&fc))throw Error(a(331));var l=fc;if(fc|=4,cc(i.current),tc(i,i.current,s,n),fc=l,Lu(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ye,i)}catch(c){}return!0}finally{N.p=o,O.T=r,_u(e,t)}}function Cu(e,t,n){t=Qr(n,t),null!==(e=xi(e,t=Is(e.stateNode,t,2),2))&&(Me(e,2),ju(e))}function wu(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Lc||!Lc.has(r))){e=Qr(n,e),null!==(r=xi(t,n=Ps(2),2))&&(Ms(n,r,t,e),Me(r,2),ju(r));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(Sc=!0,o.add(n),e=Ru.bind(null,e,t,n),t.then(e,e))}function Ru(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(yc&n)===n&&(4===wc||3===wc&&(62914560&yc)===yc&&300>le()-Dc?0===(2&fc)&&nu(e,0):Tc|=n,Ac===yc&&(Ac=0)),ju(e)}function Tu(e,t){0===t&&(t=Ie()),null!==(e=Dr(e,t))&&(Me(e,t),ju(e))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tu(e,n)}var Iu=null,Pu=null,Mu=!1,Du=!1,Ou=!1,Nu=0;function ju(e){e!==Pu&&null===e.next&&(null===Pu?Iu=Pu=e:Pu=Pu.next=e),Du=!0,Mu||(Mu=!0,Ed(function(){0!==(6&fc)?oe(ue,zu):Bu()}))}function Lu(e,t){if(!Ou&&Du){Ou=!0;do{for(var n=!1,r=Iu;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var i=0;else{var a=r.suspendedLanes,s=r.pingedLanes;i=(1<<31-_e(42|e)+1)-1,i=201326741&(i&=o&~(a&~s))?201326741&i|1:i?2|i:0}0!==i&&(n=!0,Uu(r,i))}else i=yc,0===(3&(i=Te(r,r===mc?i:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ke(r,i)||(n=!0,Uu(r,i));r=r.next}}while(n);Ou=!1}}function zu(){Bu()}function Bu(){Du=Mu=!1;var e=0;0!==Nu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Nu);for(var t=le(),n=null,r=Iu;null!==r;){var o=r.next,i=Fu(r,t);0===i?(r.next=null,null===n?Iu=o:n.next=o,null===o&&(Pu=n)):(n=r,(0!==e||0!==(3&i))&&(Du=!0)),r=o}0!==zc&&5!==zc||Lu(e,!1),0!==Nu&&(Nu=0)}function Fu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=-62914561&e.pendingLanes;0<i;){var a=31-_e(i),s=1<<a,l=o[a];-1===l?0!==(s&n)&&0===(s&r)||(o[a]=Ae(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}if(n=yc,n=Te(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===bc||9===bc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ie(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ke(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ie(r),Le(n)){case 2:case 8:n=de;break;case 32:default:n=pe;break;case 268435456:n=fe}return r=Wu.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ie(r),e.callbackPriority=2,e.callbackNode=null,2}function Wu(e,t){if(0!==zc&&5!==zc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Te(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:($c(e,r,t),Fu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Wu.bind(null,e):null)}function Uu(e,t){if(xu())return null;$c(e,t,!0)}function qu(){if(0===Nu){var e=Ho;0===e&&(e=Ce,0===(261888&(Ce<<=1))&&(Ce=256)),Nu=e}return Nu}function Yu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Hu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gu=0;Gu<wr.length;Gu++){var Vu=wr[Gu];Er(Vu.toLowerCase(),"on"+(Vu[0].toUpperCase()+Vu.slice(1)))}Er(gr,"onAnimationEnd"),Er(yr,"onAnimationIteration"),Er(br,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(vr,"onTransitionRun"),Er(_r,"onTransitionStart"),Er(xr,"onTransitionCancel"),Er(Sr,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ku=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function $u(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(uo){Rr(uo)}o.currentTarget=null,i=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==i&&o.isPropagationStopped())break e;i=s,o.currentTarget=c;try{i(o)}catch(uo){Rr(uo)}o.currentTarget=null,i=l}}}}function Xu(e,t){var n=t[Ye];void 0===n&&(n=t[Ye]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Ku.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Ju("selectionchange",!1,t))}}function td(e,t,n,r){switch(Tp(t)){case 2:var o=xp;break;case 8:o=Sp;break;default:o=Cp}n=o.bind(null,t,n,e),o=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===o)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===o)return;a=a.return}for(;null!==s;){if(null===(a=$e(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=i=a;continue e}s=s.parentNode}}r=r.return}Bt(function(){var r=i,o=Ot(n),a=[];e:{var s=Cr.get(e);if(void 0!==s){var c=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=_n;break;case gr:case yr:case br:c=un;break;case Sr:c=xn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=Sn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=vn;break;case"toggle":case"beforetoggle":c=Cn}var d=0!==(4&t),p=!d&&("scroll"===e||"scrollend"===e),h=d?null!==s?s+"Capture":null:s;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===h||null!=(g=Ft(m,h))&&d.push(rd(m,g,f)),p)break;m=m.return}0<d.length&&(s=new c(s,u,null,n,o),a.push({event:s,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===Dt||!(u=n.relatedTarget||n.fromElement)||!$e(u)&&!u[qe])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?$e(u):null)&&(p=l(u),d=u.tag,u!==p||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=sn,g="onMouseLeave",h="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=vn,g="onPointerLeave",h="onPointerEnter",m="pointer"),p=null==c?s:Je(c),f=null==u?s:Je(u),(s=new d(g,m+"leave",c,n,o)).target=p,s.relatedTarget=f,g=null,$e(o)===r&&((d=new d(h,m+"enter",u,n,o)).target=f,d.relatedTarget=p,g=d),p=g,c&&u)e:{for(d=id,m=u,f=0,g=h=c;g;g=d(g))f++;g=0;for(var y=m;y;y=d(y))g++;for(;0<f-g;)h=d(h),f--;for(;0<g-f;)m=d(m),g--;for(;f--;){if(h===m||null!==m&&h===m.alternate){d=h;break e}h=d(h),m=d(m)}d=null}else d=null;null!==c&&ad(a,s,c,d,!1),null!==u&&null!==p&&ad(a,p,u,d,!0)}if("select"===(c=(s=r?Je(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var b=Wn;else if(Nn(s))if(Un)b=Xn;else{b=Kn;var v=Qn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&kt(r.elementType)&&(b=Wn):b=$n;switch(b&&(b=b(e,r))?jn(a,b,n,o):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&_t(s,"number",s.value)),v=r?Je(r):window,e){case"focusin":(Nn(v)||"true"===v.contentEditable)&&(ar=v,sr=r,lr=null);break;case"focusout":lr=sr=ar=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(a,n,o);break;case"selectionchange":if(ir)break;case"keydown":case"keyup":ur(a,n,o)}var _;if(En)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Dn?Pn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(kn&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Dn&&(_=Vt()):(Ht="value"in(Yt=o)?Yt.value:Yt.textContent,Dn=!0)),0<(v=od(r,x)).length&&(x=new pn(x,e,null,n,o),a.push({event:x,listeners:v}),_?x.data=_:null!==(_=Mn(n))&&(x.data=_))),(_=Tn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(In=!0,An);case"textInput":return(e=t.data)===An&&In?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!En&&Pn(e,t)?(e=Vt(),Gt=Ht=Yt=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=od(r,"onBeforeInput")).length&&(v=new pn("onBeforeInput","beforeinput",null,n,o),a.push({event:v,listeners:x}),v.data=_)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var i=Yu((o[Ue]||null).action),a=r.submitter;a&&null!==(t=(t=a[Ue]||null)?Yu(t.formAction):a.getAttribute("formAction"))&&(i=t,a=null);var s=new nn("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Nu){var e=a?Hu(o,a):new FormData(o);ns(n,{pending:!0,data:e,method:o.method,action:i},null,e)}}else"function"===typeof i&&(s.preventDefault(),e=a?Hu(o,a):new FormData(o),ns(n,{pending:!0,data:e,method:o.method,action:i},i,e))},currentTarget:o}]})}}(a,e,r,n,o)}$u(a,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function od(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===i||(null!=(o=Ft(e,n))&&r.unshift(rd(e,o,i)),null!=(o=Ft(e,t))&&r.push(rd(e,o,i))),3===e.tag)return r;e=e.return}return[]}function id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,n,r,o){for(var i=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,o?null!=(c=Ft(n,i))&&a.unshift(rd(n,c,l)):o||null!=(c=Ft(n,i))&&a.push(rd(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var sd=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(sd,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,o,i){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||wt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&wt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Tt(e,r,i);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof i&&("formAction"===n?("input"!==t&&dd(e,t,"name",o.name,o,null),dd(e,t,"formEncType",o.formEncType,o,null),dd(e,t,"formMethod",o.formMethod,o,null),dd(e,t,"formTarget",o.formTarget,o,null)):(dd(e,t,"encType",o.encType,o,null),dd(e,t,"method",o.method,o,null),dd(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Mt);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Xu("beforetoggle",e),Xu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=At.get(n)||n,r)}}function pd(e,t,n,r,o,i){switch(n){case"style":Tt(e,r,i);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?wt(e,r):("number"===typeof r||"bigint"===typeof r)&&wt(e,""+r);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Mt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(i=null!=(i=e[Ue]||null)?i[n]:null)&&e.removeEventListener(t,i,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof i&&null!==i&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function hd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xu("error",e),Xu("load",e);var r,o=!1,i=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:dd(e,t,r,s,n,null)}}return i&&dd(e,t,"srcSet",n.srcSet,n,null),void(o&&dd(e,t,"src",n.src,n,null));case"input":Xu("invalid",e);var l=r=s=i=null,c=null,u=null;for(o in n)if(n.hasOwnProperty(o)){var d=n[o];if(null!=d)switch(o){case"name":i=d;break;case"type":s=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(a(137,t));break;default:dd(e,t,o,d,n,null)}}return void vt(e,r,l,c,u,s,i,!1);case"select":for(i in Xu("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(i)&&null!=(l=n[i]))switch(i){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:dd(e,t,i,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?xt(e,!!o,t,!1):null!=n&&xt(e,!!o,n,!0));case"textarea":for(s in Xu("invalid",e),r=i=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:dd(e,t,s,l,n,null)}return void Ct(e,o,i,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else dd(e,t,c,o,n,null);return;case"dialog":Xu("beforetoggle",e),Xu("toggle",e),Xu("cancel",e),Xu("close",e);break;case"iframe":case"object":Xu("load",e);break;case"video":case"audio":for(o=0;o<Qu.length;o++)Xu(Qu[o],e);break;case"image":Xu("error",e),Xu("load",e);break;case"details":Xu("toggle",e);break;case"embed":case"source":case"link":Xu("error",e),Xu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(o=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:dd(e,t,u,o,n,null)}return;default:if(kt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(o=n[d])&&pd(e,t,d,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&dd(e,t,l,o,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function yd(e){return 9===e.nodeType?e:e.ownerDocument}function bd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function _d(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var Sd="function"===typeof setTimeout?setTimeout:void 0,Cd="function"===typeof clearTimeout?clearTimeout:void 0,wd="function"===typeof Promise?Promise:void 0,Ed="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof wd?function(e){return wd.resolve(null).then(e).catch(Rd)}:Sd;function Rd(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function kd(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void Hp(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Bd(e.ownerDocument.documentElement);else if("head"===n){Bd(n=e.ownerDocument.head);for(var i=n.firstChild;i;){var a=i.nextSibling,s=i.nodeName;i[Qe]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===i.rel.toLowerCase()||n.removeChild(i),i=a}}else"body"===n&&Bd(e.ownerDocument.body);n=o}while(n);Hp(t)}function Ad(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Id(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Id(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Od(e.nextSibling)))return null}return e}function Md(e){return"$?"===e.data||"$~"===e.data}function Dd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Od(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Nd=null;function jd(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Od(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Ld(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function zd(e,t,n){switch(t=yd(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Bd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ke(e)}var Fd=new Map,Wd=new Set;function Ud(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qd=N.d;N.d={f:function(){var e=qd.f(),t=eu();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?os(t):qd.r(e)},D:function(e){qd.D(e),Hd("dns-prefetch",e,null)},C:function(e,t){qd.C(e,t),Hd("preconnect",e,t)},L:function(e,t,n){qd.L(e,t,n);var r=Yd;if(r&&e&&t){var o='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+yt(n.imageSizes)+'"]')):o+='[href="'+yt(e)+'"]';var i=o;switch(t){case"style":i=Vd(e);break;case"script":i=$d(e)}Fd.has(i)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fd.set(i,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Qd(i))||"script"===t&&r.querySelector(Xd(i))||(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qd.m(e,t);var n=Yd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',i=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=$d(e)}if(!Fd.has(i)&&(e=h({rel:"modulepreload",href:e},t),Fd.set(i,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xd(i)))return}hd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qd.X(e,t);var n=Yd;if(n&&e){var r=Ze(n).hoistableScripts,o=$d(e),i=r.get(o);i||((i=n.querySelector(Xd(o)))||(e=h({src:e,async:!0},t),(t=Fd.get(o))&&tp(e,t),et(i=n.createElement("script")),hd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}},S:function(e,t,n){qd.S(e,t,n);var r=Yd;if(r&&e){var o=Ze(r).hoistableStyles,i=Vd(e);t=t||"default";var a=o.get(i);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Qd(i)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fd.get(i))&&ep(e,n);var l=a=r.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Zd(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},o.set(i,a)}}},M:function(e,t){qd.M(e,t);var n=Yd;if(n&&e){var r=Ze(n).hoistableScripts,o=$d(e),i=r.get(o);i||((i=n.querySelector(Xd(o)))||(e=h({src:e,async:!0,type:"module"},t),(t=Fd.get(o))&&tp(e,t),et(i=n.createElement("script")),hd(i,"link",e),n.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},r.set(o,i))}}};var Yd="undefined"===typeof document?null:document;function Hd(e,t,n){var r=Yd;if(r&&"string"===typeof t&&t){var o=yt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Wd.has(o)||(Wd.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(hd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Gd(e,t,n,r){var o,i,s,l,c=(c=G.current)?Ud(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Vd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Vd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Qd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Fd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fd.set(e,n),u||(o=c,i=e,s=n,l=d.state,o.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=o.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),hd(i,"link",s),et(i),o.head.appendChild(i))))),t&&null===r)throw Error(a(528,""));return d}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=$d(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Vd(e){return'href="'+yt(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Kd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function $d(e){return'[src="'+yt(e)+'"]'}function Xd(e){return"script[async]"+e}function Jd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var o=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hd(r,"style",o),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":o=Vd(n.href);var i=e.querySelector(Qd(o));if(i)return t.state.loading|=4,t.instance=i,et(i),i;r=Kd(n),(o=Fd.get(o))&&ep(r,o),et(i=(e.ownerDocument||e).createElement("link"));var s=i;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hd(i,"link",r),t.state.loading|=4,Zd(i,n.precedence,e),t.instance=i;case"script":return i=$d(n.src),(o=e.querySelector(Xd(i)))?(t.instance=o,et(o),o):(r=n,(o=Fd.get(i))&&tp(r=h({},n),o),et(o=(e=e.ownerDocument||e).createElement("script")),hd(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,i=o,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)i=s;else if(i!==o)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function ep(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function tp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var np=null;function rp(e,t,n){if(null===np){var r=new Map,o=np=new Map;o.set(n,r)}else(r=(o=np).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var i=n[o];if(!(i[Qe]||i[We]||"link"===e&&"stylesheet"===i.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==i.namespaceURI){var a=i.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(i):r.set(a,[i])}}return r}function op(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ip(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ap=0;function sp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lp=null;function cp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lp=new Map,t.forEach(up,e),lp=null,sp.call(e))}function up(e,t){if(!(4&t.state.loading)){var n=lp.get(e);if(n)var r=n.get(null);else{n=new Map,lp.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<o.length;i++){var a=o[i];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(o=t.instance).getAttribute("data-precedence"),(i=n.get(a)||r)===r&&n.set(null,o),n.set(a,o),this.count++,r=sp.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),i?i.parentNode.insertBefore(o,i.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var dp={$$typeof:x,Provider:null,Consumer:null,_currentValue:j,_currentValue2:j,_threadCount:0};function pp(e,t,n,r,o,i,a,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=i,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hp(e,t,n,r,o,i,a,s,l,c,u,d){return e=new pp(e,t,n,a,l,c,u,d,s),t=1,!0===i&&(t|=24),i=zr(3,null,null,t),e.current=i,i.stateNode=e,(t=Wo()).refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:r,isDehydrated:n,cache:t},bi(i),e}function fp(e){return e?e=jr:jr}function mp(e,t,n,r,o,i){o=fp(o),null===r.context?r.context=o:r.pendingContext=o,(r=_i(t)).payload={element:n},null!==(i=void 0===i?null:i)&&(r.callback=i),null!==(n=xi(e,r,t))&&(Kc(n,0,t),Si(n,e,t))}function gp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yp(e,t){gp(e,t),(e=e.alternate)&&gp(e,t)}function bp(e){if(13===e.tag||31===e.tag){var t=Dr(e,67108864);null!==t&&Kc(t,0,67108864),yp(e,67108864)}}function vp(e){if(13===e.tag||31===e.tag){var t=Vc(),n=Dr(e,t=je(t));null!==n&&Kc(n,0,t),yp(e,t)}}var _p=!0;function xp(e,t,n,r){var o=O.T;O.T=null;var i=N.p;try{N.p=2,Cp(e,t,n,r)}finally{N.p=i,O.T=o}}function Sp(e,t,n,r){var o=O.T;O.T=null;var i=N.p;try{N.p=8,Cp(e,t,n,r)}finally{N.p=i,O.T=o}}function Cp(e,t,n,r){if(_p){var o=wp(r);if(null===o)nd(e,t,r,Ep,n),jp(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ap=Lp(Ap,e,t,n,r,o),!0;case"dragenter":return Ip=Lp(Ip,e,t,n,r,o),!0;case"mouseover":return Pp=Lp(Pp,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Mp.set(i,Lp(Mp.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Dp.set(i,Lp(Dp.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(jp(e,r),4&t&&-1<Np.indexOf(e)){for(;null!==o;){var i=Xe(o);if(null!==i)switch(i.tag){case 3:if((i=i.stateNode).current.memoizedState.isDehydrated){var a=Re(i.pendingLanes);if(0!==a){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-_e(a);s.entanglements[1]|=l,a&=~l}ju(i),0===(6&fc)&&(Nc=le()+500,Lu(0,!1))}}break;case 31:case 13:null!==(s=Dr(i,2))&&Kc(s,0,2),eu(),yp(i,2)}if(null===(i=wp(r))&&nd(e,t,r,Ep,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else nd(e,t,r,null,n)}}function wp(e){return Rp(e=Ot(e))}var Ep=null;function Rp(e){if(Ep=null,null!==(e=$e(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ep=e,null}function Tp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case pe:case he:return 32;case fe:return 268435456;default:return 32}default:return 32}}var kp=!1,Ap=null,Ip=null,Pp=null,Mp=new Map,Dp=new Map,Op=[],Np="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function jp(e,t){switch(e){case"focusin":case"focusout":Ap=null;break;case"dragenter":case"dragleave":Ip=null;break;case"mouseover":case"mouseout":Pp=null;break;case"pointerover":case"pointerout":Mp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dp.delete(t.pointerId)}}function Lp(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=Xe(t))&&bp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function zp(e){var t=$e(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Be(e.priority,function(){vp(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Be(e.priority,function(){vp(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=wp(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&bp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Dt=r,n.target.dispatchEvent(r),Dt=null,t.shift()}return!0}function Fp(e,t,n){Bp(e)&&n.delete(t)}function Wp(){kp=!1,null!==Ap&&Bp(Ap)&&(Ap=null),null!==Ip&&Bp(Ip)&&(Ip=null),null!==Pp&&Bp(Pp)&&(Pp=null),Mp.forEach(Fp),Dp.forEach(Fp)}function Up(e,t){e.blockedOn===t&&(e.blockedOn=null,kp||(kp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wp)))}var qp=null;function Yp(e){qp!==e&&(qp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qp===e&&(qp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===Rp(r||n))continue;break}var i=Xe(n);null!==i&&(e.splice(t,3),t-=3,ns(i,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Hp(e){function t(t){return Up(t,e)}null!==Ap&&Up(Ap,e),null!==Ip&&Up(Ip,e),null!==Pp&&Up(Pp,e),Mp.forEach(t),Dp.forEach(t);for(var n=0;n<Op.length;n++){var r=Op[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Op.length&&null===(n=Op[0]).blockedOn;)zp(n),null===n.blockedOn&&Op.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],i=n[r+1],a=o[Ue]||null;if("function"===typeof i)a||Yp(n);else if(a){var s=null;if(i&&i.hasAttribute("formAction")){if(o=i,a=i[Ue]||null)s=a.formAction;else if(null!==Rp(o))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Yp(n)}}}function Gp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function Vp(e){this._internalRoot=e}function Qp(e){this._internalRoot=e}Qp.prototype.render=Vp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));mp(t.current,Vc(),e,t,null,null)},Qp.prototype.unmount=Vp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mp(e.current,2,null,e,null,null),eu(),t[qe]=null}},Qp.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Op.length&&0!==t&&t<Op[n].priority;n++);Op.splice(n,0,e),0===n&&zp(e)}};var Kp=o.version;if("19.2.3"!==Kp)throw Error(a(527,Kp,"19.2.3"));N.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var i=o.alternate;if(null===i){if(null!==(r=o.return)){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return d(o),e;if(i===r)return d(o),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?p(e):null)?null:e.stateNode};var $p={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xp.isDisabled&&Xp.supportsFiber)try{ye=Xp.inject($p),be=Xp}catch(Zp){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",o=Es,i=Rs,l=Ts;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(i=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hp(e,1,!1,null,0,n,r,null,o,i,l,Gp),e[qe]=t.current,ed(e),new Vp(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,o="",i=Es,l=Rs,c=Ts,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(i=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=hp(e,1,!0,t,0,r,o,u,i,l,c,Gp)).context=fp(null),n=t.current,(o=_i(r=je(r=Vc()))).callback=null,xi(n,o,r),n=r,t.current.lanes=n,Me(t,n),ju(t),e[qe]=t.current,ed(e),new Qp(t)},t.version="19.2.3"},43(e,t,n){e.exports=n(288)},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=b.prototype;var x=_.prototype=new v;x.constructor=_,g(x,b.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function R(e,t,r){var o=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,o,i,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case p:return I((u=e._init)(e._payload),t,o,i,a)}}if(u)return a=a(e),u=""===i?"."+A(e,0):i,S(a)?(o="",null!=u&&(o=u.replace(k,"$&/")+"/"),I(a,t,o,"",function(e){return e})):null!=a&&(T(a)&&(l=a,c=o+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+u,a=R(l.type,c,l.props)),t.push(a)),1;u=0;var d,h=""===i?".":i+":";if(S(e))for(var m=0;m<e.length;m++)u+=I(i=e[m],t,o,s=h+A(i,m),a);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(i=e.next()).done;)u+=I(i=i.value,t,o,s=h+A(i,m++),a);else if("object"===s){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,i,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],o=0;return I(e,r,"","",function(e){return t.call(n,e,o++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},O={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=h,t.Children=O,t.Component=b,t.Fragment=o,t.Profiler=a,t.PureComponent=_,t.StrictMode=i,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)!E.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];r.children=a}return R(e.type,o,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)E.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var a=arguments.length-2;if(1===a)o.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===o[r]&&(o[r]=a[r]);return R(e,i,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),o=w.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(C,D)}catch(uo){D(uo)}finally{null!==t&&null!==n.types&&(t.types=n.types),w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return w.H.useEffect(e,t)},t.useEffectEvent=function(e){return w.H.useEffectEvent(e)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.2.3"},331(e,t,n){n.r(t),n.d(t,{MAX_LOCKED_SLOTS:()=>l,PLAYER_COUNT_REQ_SCALING:()=>i,RARE_WEIGHT_SCALING_BASE:()=>a,SLOT_LOCK_COST:()=>s,SUBFACTION:()=>r,SUBFACTION_CONFIG:()=>o,getDefaultSubfaction:()=>d,getRareWeightMultiplier:()=>u,getRequisitionMultiplier:()=>c,getSlotLockCost:()=>h,getSubfactionsForFaction:()=>p});const r={BUGS_VANILLA:"bugs_vanilla",BUGS_PREDATOR:"bugs_predator",BUGS_SPORE_BURST:"bugs_spore_burst",BUGS_RUPTURE:"bugs_rupture",BOTS_VANILLA:"bots_vanilla",BOTS_JET_BRIGADE:"bots_jet_brigade",BOTS_INCINERATION_CORE:"bots_incineration_core",SQUIDS_VANILLA:"squids_vanilla"},o={[r.BUGS_VANILLA]:{name:"Standard",description:"Standard bug forces",reqMultiplier:1,rareWeightMultiplier:1},[r.BUGS_SPORE_BURST]:{name:"Spore Burst Strain",description:"Explosive spore variants",reqMultiplier:1.1,rareWeightMultiplier:1.1},[r.BUGS_PREDATOR]:{name:"Predator Strain",description:"Fast, aggressive hunters",reqMultiplier:1.2,rareWeightMultiplier:1.2},[r.BUGS_RUPTURE]:{name:"Rupture Strain",description:"Highly armored burst variants",reqMultiplier:1.3,rareWeightMultiplier:1.3},[r.BOTS_VANILLA]:{name:"Standard",description:"Standard automaton forces",reqMultiplier:1,rareWeightMultiplier:1},[r.BOTS_JET_BRIGADE]:{name:"Jet Brigade",description:"Airborne assault units",reqMultiplier:1.2,rareWeightMultiplier:1.2},[r.BOTS_INCINERATION_CORE]:{name:"Incineration Core",description:"Fire-focused bot variant",reqMultiplier:1.3,rareWeightMultiplier:1.3},[r.SQUIDS_VANILLA]:{name:"Standard",description:"Standard illuminate forces",reqMultiplier:1,rareWeightMultiplier:1}},i={1:1,2:.8,3:.6,4:.5},a=.7,s={1:3,2:3,3:2,4:2},l=3;function c(e,t){var n;return(i[e]||1)*((null===(n=o[t])||void 0===n?void 0:n.reqMultiplier)||1)}function u(e,t){var n;return Math.pow(a,e-1)*((null===(n=o[t])||void 0===n?void 0:n.rareWeightMultiplier)||1)}function d(e){switch(e){case"terminid":default:return r.BUGS_VANILLA;case"automaton":return r.BOTS_VANILLA;case"illuminate":return r.SQUIDS_VANILLA}}function p(e){switch(e){case"terminid":return[r.BUGS_VANILLA,r.BUGS_PREDATOR,r.BUGS_SPORE_BURST,r.BUGS_RUPTURE];case"automaton":return[r.BOTS_VANILLA,r.BOTS_JET_BRIGADE,r.BOTS_INCINERATION_CORE];case"illuminate":return[r.SQUIDS_VANILLA];default:return[r.BUGS_VANILLA]}}function h(e){return s[e]||3}},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){e.exports=n(799)},672(e,t,n){var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(o(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,i="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:i}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:i,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var i in r={},t)"key"!==i&&(r[i]=t[i]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},853(e,t,n){e.exports=n(896)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,a=o>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>i(l,n))c<o&&0>i(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>i(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,p=null,h=3,f=!1,m=!1,g=!1,y=!1,b="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,w||(w=!0,C());else{var t=r(u);null!==t&&M(S,t.startTime-e)}}var C,w=!1,E=-1,R=5,T=-1;function k(){return!!y||!(t.unstable_now()-T<R)}function A(){if(y=!1,w){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,v(E),E=-1),f=!0;var i=h;try{t:{for(x(e),p=r(c);null!==p&&!(p.expirationTime>e&&k());){var a=p.callback;if("function"===typeof a){p.callback=null,h=p.priorityLevel;var s=a(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,x(e),n=!0;break t}p===r(c)&&o(c),x(e)}else o(c);p=r(c)}if(null!==p)n=!0;else{var l=r(u);null!==l&&M(S,l.startTime-e),n=!1}}break e}finally{p=null,h=i,f=!1}n=void 0}}finally{n?C():w=!1}}}if("function"===typeof _)C=function(){_(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=A,C=function(){P.postMessage(null)}}else C=function(){b(A,0)};function M(e,n){E=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,i){var a=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?a+i:a:i=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:s=i+s,sortIndex:-1},i>a?(e.sortIndex=i,n(u,e),null===r(c)&&e===r(u)&&(g?(v(E),E=-1):g=!0,M(S,i-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,w||(w=!0,C()))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(43),o=n(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function s(e,t,n){return(t=a(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const d=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},p=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var h={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const f=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],m=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:s="",children:l,iconNode:d}=e,m=u(e,f);return(0,r.createElement)("svg",c(c(c({ref:t},h),{},{width:o,height:o,stroke:n,strokeWidth:a?24*Number(i)/Number(o):i,className:p("lucide",s)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(m)&&{"aria-hidden":"true"}),m),[...d.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),g=["className"],y=(e,t)=>{const n=(0,r.forwardRef)((n,o)=>{let{className:i}=n,a=u(n,g);return(0,r.createElement)(m,c({ref:o,iconNode:t,className:p("lucide-".concat((s=d(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),i)},a));var s});return n.displayName=d(e),n},b=y("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),v=y("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),_=y("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),x=y("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),S="choice",C="random",w="beneficial",E="add_requisition",R="spend_requisition",T="lose_requisition",k="change_faction",A="extra_draft",I="skip_difficulty",P="replay_difficulty",M="sacrifice_item",D="gain_booster",O="remove_item",N="gain_specific_item",j="duplicate_stratagem_to_another_helldiver",L="swap_stratagem_with_player",z="restrict_to_single_weapon",B="redraft",F="transform_loadout",W="gain_secondary",U="gain_throwable",q="random_outcome",Y="gain_random_light_armor_and_draft_throwable",H="gain_random_heavy_armor_and_draft_secondary",G="duplicate_loadout_to_all",V=[{id:"yearly_bonus",name:"Annual Requisition Payment",description:"Super Earth's fiscal year has ended, and your yearly bonus requisition payment has been processed. Most Helldivers don't survive long enough to see this day.",type:w,minDifficulty:1,maxDifficulty:10,weight:8,targetPlayer:"all",outcomes:[{type:E,value:1}]},{id:"enemy_counterattack",name:"Enemy Counteroffensive",description:"Intelligence reports a massive enemy counterattack in response to your recent victories. Command demands you hold your position at all costs, but retreat is also an option.",type:S,minDifficulty:4,maxDifficulty:10,weight:10,targetPlayer:"all",choices:[{text:"Hold the Line",outcomes:[{type:T,value:2}]},{text:"Tactical Retreat",outcomes:[{type:k}]}]},{id:"teamwork_training",name:"Coordinated Tactics Training",description:"Your squad has been selected for an experimental tactical coordination program. You can either learn to duplicate your stratagem deployment techniques with a squadmate, or practice equipment swapping protocols.",type:S,minDifficulty:2,maxDifficulty:10,weight:12,requiresMultiplayer:!0,targetPlayer:"single",choices:[{text:"Duplicate Stratagem Training",requiresRequisition:1,outcomes:[{type:j,targetPlayer:"choose"}]},{text:"Equipment Swap Protocol",outcomes:[{type:L,targetPlayer:"choose"}]}]},{id:"national_holiday",name:"Democracy Day Celebration",description:"Today marks a national holiday celebrating the foundation of Managed Democracy! Special benefits are being distributed to active combat personnel.",type:S,minDifficulty:4,maxDifficulty:6,weight:50,targetPlayer:"single",choices:[{text:"Request Tactical Booster",outcomes:[{type:D,targetPlayer:"choose"}]},{text:"Request Medical Reinforcement",outcomes:[{type:E,value:2}]}]},{id:"mysterious_deal",name:"A Shadowy Proposition",description:'A cloaked figure approaches you in the armory. They whisper: "Prove your skill with a single weapon in your next engagement, and I\'ll ensure you receive... priority access to equipment." Their voice sends chills down your spine.',type:S,minDifficulty:3,maxDifficulty:10,weight:8,targetPlayer:"single",choices:[{text:"Accept the Deal",outcomes:[{type:z,targetPlayer:"choose"},{type:A,value:2}]},{text:"Decline Politely",outcomes:[]}]},{id:"promotion_offer",name:"Career Advancement Opportunity",description:'The Democracy Officer summons you to their office. "Your performance has been... noted. We can fast-track your progression, but it comes with elevated expectations. Alternatively, if you refuse this opportunity, we\'ll need to reassess your current equipment clearance."',type:S,minDifficulty:2,maxDifficulty:9,weight:10,targetPlayer:"single",choices:[{text:"Accept Promotion",outcomes:[{type:I,value:1}]},{text:"Decline (Demotion)",outcomes:[{type:O,value:1,targetPlayer:"choose"}]}]},{id:"combat_review",name:"Performance Review",description:'The Democracy Officer shows you combat footage from your last mission. "Your tactical positioning and weapon handling are... suboptimal. I\'m offering you a chance to repeat this difficulty tier and demonstrate improvement. What do you say?"',type:S,minDifficulty:2,maxDifficulty:10,weight:9,targetPlayer:"all",choices:[{text:"Accept Remedial Training",requiresRequisition:1,outcomes:[{type:P,value:1}]},{text:"Receive Corporal Punishment",outcomes:[]}]},{id:"fiscal_year_end",name:"Budget Allocation Decision",description:'Your commanding officer pulls you aside: "End of fiscal year means use it or lose it. We have leftover funding for either a new recruit to reinforce your squad, or we can liquidate your current assets and reinvest in fresh equipment. Your call, Helldiver."',type:S,minDifficulty:3,maxDifficulty:10,weight:8,targetPlayer:"single",choices:[{text:"Recruit New Squad Member",outcomes:[{type:E,value:2}]},{text:"Reinvest Assets",outcomes:[{type:B,value:1,targetPlayer:"choose"}]}]},{id:"quantum_anomaly",name:"Quantum Equipment Anomaly",description:'Your destroyer\'s cargo bay has been exposed to a quantum fluctuation field during FTL travel. Science Officer reports: "Your equipment is undergoing spontaneous molecular reconfiguration. We can attempt to stabilize one item, or let the entire loadout phase-shift. The results are... unpredictable, but statistically favorable."',type:S,minDifficulty:2,maxDifficulty:10,weight:10,targetPlayer:"single",choices:[{text:"Stabilize Single Item",outcomes:[{type:F,value:1,targetPlayer:"choose"}]},{text:"Full Loadout Phase-Shift",outcomes:[{type:F,value:-1,targetPlayer:"choose"}]}]},{id:"propaganda_ministry",name:"Ministry of Truth Rewards",description:'Your heroic deeds have been featured in a Ministry of Truth propaganda broadcast. A Democracy Officer congratulates you: "Your sacrifice will inspire millions! We can offer you either requisition credits for your footage rights, or a commemorative morale booster to honor your service."',type:S,minDifficulty:1,maxDifficulty:3,weight:12,targetPlayer:"single",choices:[{text:"Accept Requisition Payment",outcomes:[{type:E,value:1}]},{text:"Request Commemorative Booster",outcomes:[{type:D,targetPlayer:"choose"}]}]},{id:"supply_disruption",name:"Supply Chain Malfunction",description:'A clerical error has flagged one of your items for immediate return to Super Earth logistics. The quartermaster offers: "I can expedite the paperwork... for a fee. Or you can surrender the equipment and I\'ll throw in some requisition credits as compensation."',type:S,minDifficulty:3,maxDifficulty:10,weight:8,targetPlayer:"single",choices:[{text:"Pay the Fee",requiresRequisition:2,outcomes:[]},{text:"Surrender Equipment",outcomes:[{type:O,targetPlayer:"choose"},{type:E,value:2}]}]},{id:"experimental_weapons",name:"Black Site Research Initiative",description:"A scientist from a classified research facility approaches you: \"We're testing experimental equipment modifications. Volunteer your loadout for testing and you'll receive cutting-edge gear. Results may vary. Side effects include... well, that's classified. Participation is 'voluntary'.\"",type:S,minDifficulty:4,maxDifficulty:10,weight:7,targetPlayer:"single",choices:[{text:"Volunteer for Testing",outcomes:[{type:F,value:3,targetPlayer:"choose"}]},{text:"Politely Decline",outcomes:[]}]},{id:"citizenship_renewal",name:"Citizenship Examination",description:'It\'s time for your mandatory citizenship renewal exam. The proctor states: "Failure to meet combat effectiveness standards will result in demotion. However, citizens who exceed expectations may advance rapidly through the ranks. Choose your path, Helldiver."',type:S,minDifficulty:2,maxDifficulty:9,weight:9,targetPlayer:"single",choices:[{text:"Request Easier Assessment",outcomes:[{type:P,value:1}]},{text:"Attempt Advanced Qualification",requiresRequisition:1,outcomes:[{type:I,value:1}]}]},{id:"morale_inspection",name:"Mandatory Morale Assessment",description:'A Morale Officer has detected "suboptimal enthusiasm levels" in your squad. They offer a solution: "We can issue a tactical morale booster, or you can demonstrate your commitment through voluntary resource donation and extra training."',type:S,minDifficulty:1,maxDifficulty:7,weight:11,targetPlayer:"single",choices:[{text:"Accept Morale Booster",outcomes:[{type:D,targetPlayer:"choose"}]},{text:"Volunteer for Extra Training",outcomes:[{type:R,value:2},{type:A,value:1}]}]},{id:"veterans_memorial",name:"Fallen Heroes Memorial",description:"You're selected to honor fallen Helldivers at a memorial service. The ceremony organizer asks: \"Will you volunteer to carry the standard in remembrance? It's dangerous duty, but those who survive receive special recognition and equipment privileges.\"",type:S,minDifficulty:5,maxDifficulty:10,weight:7,targetPlayer:"single",choices:[{text:"Carry the Standard",outcomes:[{type:T,value:2},{type:A,value:2,targetPlayer:"choose"}]},{text:"March in the Parade",outcomes:[{type:T,value:1},{type:A,value:1,targetPlayer:"choose"}]},{text:"Respectfully Decline",outcomes:[]}]},{id:"loyalty_test",name:"Patriotism Verification",description:"A Democracy Officer confronts you: \"We've intercepted communications questioning Super Earth's flawless leadership. Prove your loyalty by donating equipment to the war effort, or volunteer for hazardous duty to clear your name. Choose wisely, citizen.\"",type:S,minDifficulty:2,maxDifficulty:10,weight:9,targetPlayer:"single",choices:[{text:"Donate Equipment",outcomes:[{type:O,targetPlayer:"choose"}]},{text:"Volunteer for Hazardous Duty",outcomes:[{type:z,targetPlayer:"choose"},{type:D,targetPlayer:"choose"}]}]},{id:"training_accident",name:"Training Exercise Gone Wrong",description:"A live-fire training exercise has gone catastrophically wrong. The instructor barks: \"This is what happens when you don't follow protocol! Medical treatment is available, or you can tough it out and prove you're Helldiver material!\"",type:S,minDifficulty:1,maxDifficulty:6,weight:10,targetPlayer:"all",choices:[{text:"Seek Medical Treatment",requiresRequisition:2,outcomes:[]},{text:"Tough It Out",outcomes:[{type:T,value:1}]}]},{id:"commendation_ceremony",name:"Medal of Valor Award",description:'You\'re being recognized for exceptional service! The commanding officer presents options: "You may select a single tactical booster for yourself, or we can distribute two random boosters among your squad. Both serve democracy equally!"',type:S,minDifficulty:4,maxDifficulty:10,weight:9,targetPlayer:"single",choices:[{text:"Single Tactical Booster",outcomes:[{type:D,targetPlayer:"choose"}]},{text:"Two Random Squad Boosters",outcomes:[{type:D,targetPlayer:"random"},{type:D,targetPlayer:"random"}]}]},{id:"supply_credits",name:"Surplus Requisition Allocation",description:'The Ministry of Finance has allocated surplus resources to your unit. A bureaucrat offers: "You can claim standard requisition credits, or we can arrange a tactical booster from the armory. Both options serve the greater good equally."',type:S,minDifficulty:1,maxDifficulty:10,weight:12,targetPlayer:"single",choices:[{text:"Claim Requisition Credits",outcomes:[{type:E,value:1}]},{text:"Request Tactical Booster",outcomes:[{type:D,targetPlayer:"choose"}]}]},{id:"armory_surplus",name:"Quartermaster's Surplus Distribution",description:'The quartermaster has excess inventory after a supply run. "I\'ve got equipment to distribute, Helldiver. Everyone gets something - could be a sidearm, could be a throwable. Democracy is random but fair!"',type:w,minDifficulty:1,maxDifficulty:3,weight:10,targetPlayer:"all",outcomes:[{type:q,possibleOutcomes:[{type:W},{type:U}]}]},{id:"probability_field",name:"Quantum Probability Cascade",description:'A quantum anomaly has created a probability field affecting your loadout. Science Officer warns: "50/50 chance - either lose a random item to the void OR gain a tactical booster from spontaneous materialization. We can collapse the field entirely for zero effect instead."',type:S,minDifficulty:4,maxDifficulty:10,weight:7,targetPlayer:"single",choices:[{text:"Enter Probability Field",outcomes:[{type:q,possibleOutcomes:[{type:O,targetPlayer:"choose"},{type:D,targetPlayer:"choose"}]}]},{text:"Collapse Field Safely",outcomes:[]}]},{id:"light_armor_distribution",name:"Mobility Training Initiative",description:"Command is implementing a new mobility doctrine. All Helldivers will be issued randomized light armor for maximum speed. Additionally, you may select preferred throwables from the armory for tactical flexibility. This is mandatory. Well, you can refuse, but then nobody gets anything.",type:S,minDifficulty:3,maxDifficulty:10,weight:8,targetPlayer:"all",choices:[{text:"Accept New Doctrine",outcomes:[{type:Y}]},{text:"Refuse for Everyone",outcomes:[]}]},{id:"heavy_armor_distribution",name:"Fortification Protocol",description:"Intelligence reports increased enemy firepower. All Helldivers are being re-equipped with randomized heavy armor for maximum protection. You may also select preferred sidearms from the armory. This is mandatory. Or you can all go without, your choice.",type:S,minDifficulty:4,maxDifficulty:10,weight:8,targetPlayer:"all",choices:[{text:"Accept Fortification",outcomes:[{type:H}]},{text:"Refuse for Everyone",outcomes:[]}]},{id:"tactical_synchronization",name:"Perfect Synchronization Protocol",description:"High Command has developed experimental loadout synchronization technology. You may select one Helldiver as a template and duplicate their entire loadout (excluding boosters) to all squad members. The technology bypasses normal equipment uniqueness restrictions. Or you can reject this experimental procedure.",type:S,minDifficulty:7,maxDifficulty:10,weight:5,targetPlayer:"single",choices:[{text:"Synchronize Squad Loadouts",outcomes:[{type:G,targetPlayer:"choose"}]},{text:"Reject Synchronization",outcomes:[]}]}];function Q(e,t){const n=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return V.filter(o=>!(o.minDifficulty>e||o.maxDifficulty<e)&&(!(o.requiresMultiplayer&&!t)&&(!n.includes(o.id)&&!("teamwork_training"===o.id&&!r.some(e=>{var t,n;return null===(t=e.loadout)||void 0===t||null===(n=t.stratagems)||void 0===n?void 0:n.some(e=>null!==e)})))))}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]);if(0===n.length)return null;const r=n.reduce((e,t)=>e+t.weight,0);let o=Math.random()*r;for(const i of n)if(o-=i.weight,o<=0)return i;return n[n.length-1]}const K="Common",$="Uncommon",X="Rare",J="Legendary",Z={PRIMARY:"Primary",SECONDARY:"Secondary",GRENADE:"Grenade",STRATAGEM:"Stratagem",BOOSTER:"Booster",ARMOR:"Armor"},ee={BUGS:"terminid",BOTS:"automaton",SQUIDS:"illuminate"},te="Fire",ne="Anti-Tank",re="Stun",oe="Smoke",ie="Backpack",ae="Support Weapon",se="Precision",le="Explosive",ce="Defensive",ue="light",de="medium",pe="heavy",he="servo_assisted",fe="scout",me="peak_physique",ge="extra_padding",ye="fortified",be="democracy_protects",ve="unflinching",_e="ballistic_padding",xe="rock_solid",Se="engineering_kit",Ce="med_kit",we="electrical_conduit",Ee="inflammable",Re="advanced_filtration",Te="desert_stormer",ke="acclimated",Ae="integrated_explosives",Ie="gunslinger",Pe="siege_ready",Me="reinforced_epaulettes",De="adreno_defibrillator",Oe="feet_first",Ne={[he]:"Increases movement speed while moving with heavy or support weapons",[fe]:"Increases movement speed",[me]:"Increases movement speed when crouching",[ge]:"Increases armor rating",[ye]:"Reduces damage from explosions",[be]:"Increased chance to survive a lethal hit",[ve]:"Reduces flinching when taking damage",[_e]:"Reduces limb damage",[xe]:"Reduces recoil when crouching or prone",[Se]:"Call-in time for Sentries, Emplacements & Hellbombs reduced by 50%",[Ce]:"Increases Stim capacity by 2",[we]:"Reduces arc damage taken by 95%",[Ee]:"Reduces fire damage taken by 75%",[Re]:"Reduces gas damage taken by 95%",[Te]:"Reduces acid damage taken by 95%",[ke]:"Reduces extreme temperature damage by 95%",[Ae]:"Grenades inflict 50% more damage",[Ie]:"Increases reload speed and draw speed for pistols",[Pe]:"Reduces damage taken when stationary",[Me]:"Reduces melee damage taken by 50%",[De]:"Increases health regeneration rate",[Oe]:"Reduces Hellpod scatter distance and landing impact radius"},je=[...[{id:"p_liberator",name:"AR-23 Liberator",type:Z.PRIMARY,rarity:K,tags:[],warbond:"helldivers_mobilize"},{id:"p_constitution",name:"R-2124 Constitution",type:Z.PRIMARY,rarity:J,tags:[],warbond:"helldivers_mobilize"},{id:"p_punisher",name:"SG-8 Punisher",type:Z.PRIMARY,rarity:K,tags:[re],warbond:"helldivers_mobilize"},{id:"p_breaker",name:"SG-225 Breaker",type:Z.PRIMARY,rarity:K,tags:[],warbond:"helldivers_mobilize"},{id:"p_breaker_sp",name:"SG-225SP Breaker Spray&Pray",type:Z.PRIMARY,rarity:K,tags:[],warbond:"helldivers_mobilize"},{id:"p_scythe",name:"LAS-5 Scythe",type:Z.PRIMARY,rarity:K,tags:[],warbond:"helldivers_mobilize"},{id:"p_diligence",name:"R-63 Diligence",type:Z.PRIMARY,rarity:K,tags:[se],warbond:"helldivers_mobilize"},{id:"p_cs",name:"R-63CS Counter Sniper",type:Z.PRIMARY,rarity:$,tags:[se],warbond:"helldivers_mobilize"},{id:"p_defender",name:"SMG-37 Defender",type:Z.PRIMARY,rarity:K,tags:[],warbond:"helldivers_mobilize"},{id:"p_lib_pen",name:"AR-23P Liberator Penetrator",type:Z.PRIMARY,rarity:$,tags:[se],warbond:"helldivers_mobilize"},{id:"p_slugger",name:"SG-8S Slugger",type:Z.PRIMARY,rarity:K,tags:[se],warbond:"helldivers_mobilize"},{id:"p_scorcher",name:"PLAS-1 Scorcher",type:Z.PRIMARY,rarity:X,tags:[le],warbond:"helldivers_mobilize"},{id:"s_peacemaker",name:"P-2 Peacemaker",type:Z.SECONDARY,rarity:K,tags:[],warbond:"helldivers_mobilize"},{id:"s_redeemer",name:"P-19 Redeemer",type:Z.SECONDARY,rarity:K,tags:[],warbond:"helldivers_mobilize"},{id:"g_he",name:"G-12 High Explosive",type:Z.GRENADE,rarity:K,tags:[le],warbond:"helldivers_mobilize"},{id:"g_frag",name:"G-6 Frag",type:Z.GRENADE,rarity:K,tags:[le],warbond:"helldivers_mobilize"},{id:"g_impact",name:"G-16 Impact",type:Z.GRENADE,rarity:$,tags:[le],warbond:"helldivers_mobilize"},{id:"g_smoke",name:"G-3 Smoke",type:Z.GRENADE,rarity:K,tags:[oe],warbond:"helldivers_mobilize"},{id:"a_sc34",name:"SC-34 Infiltrator",type:Z.ARMOR,rarity:K,tags:[],warbond:"helldivers_mobilize",passive:fe,armorClass:ue},{id:"a_fs05",name:"FS-05 Marksman",type:Z.ARMOR,rarity:K,tags:[ce],warbond:"helldivers_mobilize",passive:ye,armorClass:pe},{id:"a_ce35",name:"CE-35 Trench Engineer",type:Z.ARMOR,rarity:K,tags:[],warbond:"helldivers_mobilize",passive:Se,armorClass:de},{id:"a_cm09",name:"CM-09 Bonesnapper",type:Z.ARMOR,rarity:$,tags:[],warbond:"helldivers_mobilize",passive:Ce,armorClass:de},{id:"a_fs23",name:"FS-23 Battle Master",type:Z.ARMOR,rarity:K,tags:[ce],warbond:"helldivers_mobilize",passive:ye,armorClass:pe},{id:"a_sc30",name:"SC-30 Trailblazer Scout",type:Z.ARMOR,rarity:K,tags:[],warbond:"helldivers_mobilize",passive:fe,armorClass:ue},{id:"a_sa04",name:"SA-04 Combat Technician",type:Z.ARMOR,rarity:K,tags:[],warbond:"helldivers_mobilize",passive:fe,armorClass:de},{id:"a_cm14",name:"CM-14 Physician",type:Z.ARMOR,rarity:$,tags:[],warbond:"helldivers_mobilize",passive:Ce,armorClass:de},{id:"a_dp11",name:"DP-11 Champion of the People",type:Z.ARMOR,rarity:$,tags:[],warbond:"helldivers_mobilize",passive:be,armorClass:de},{id:"a_b01",name:"B-01 Tactical",type:Z.ARMOR,rarity:K,tags:[],warbond:"helldivers_mobilize",passive:ge,armorClass:de},{id:"a_tr40",name:"TR-40 Gold Eagle",type:Z.ARMOR,rarity:K,tags:[],warbond:"helldivers_mobilize",passive:ge,armorClass:de},{id:"b_space",name:"Hellpod Space Optimization",type:Z.BOOSTER,rarity:J,tags:[],warbond:"helldivers_mobilize"},{id:"b_stamina",name:"Stamina Enhancement",type:Z.BOOSTER,rarity:J,tags:[],warbond:"helldivers_mobilize"},{id:"b_muscle",name:"Muscle Enhancement",type:Z.BOOSTER,rarity:X,tags:[],warbond:"helldivers_mobilize"},{id:"b_reinforce",name:"Reinforcement Budget",type:Z.BOOSTER,rarity:X,tags:[],warbond:"helldivers_mobilize"},{id:"b_vitality",name:"Vitality Enhancement",type:Z.BOOSTER,rarity:J,tags:[],warbond:"helldivers_mobilize"},{id:"b_uav",name:"UAV Recon",type:Z.BOOSTER,rarity:X,tags:[],warbond:"helldivers_mobilize"},{id:"st_ops",name:"Orbital Precision Strike",type:Z.STRATAGEM,rarity:K,tags:[ne,se],warbond:"helldivers_mobilize"},{id:"st_gatling",name:"Orbital Gatling Barrage",type:Z.STRATAGEM,rarity:K,tags:[],warbond:"helldivers_mobilize"},{id:"st_airburst",name:"Orbital Airburst Strike",type:Z.STRATAGEM,rarity:K,tags:[],warbond:"helldivers_mobilize"},{id:"st_120",name:"Orbital 120mm HE Barrage",type:Z.STRATAGEM,rarity:$,tags:[le],warbond:"helldivers_mobilize"},{id:"st_380",name:"Orbital 380mm HE Barrage",type:Z.STRATAGEM,rarity:$,tags:[le,ne],warbond:"helldivers_mobilize"},{id:"st_walking",name:"Orbital Walking Barrage",type:Z.STRATAGEM,rarity:X,tags:[le],warbond:"helldivers_mobilize"},{id:"st_laser",name:"Orbital Laser",type:Z.STRATAGEM,rarity:J,tags:[ne,te],warbond:"helldivers_mobilize"},{id:"st_railcannon",name:"Orbital Railcannon Strike",type:Z.STRATAGEM,rarity:X,tags:[ne,se],warbond:"helldivers_mobilize"},{id:"st_gas_o",name:"Orbital Gas Strike",type:Z.STRATAGEM,rarity:K,tags:[],warbond:"helldivers_mobilize"},{id:"st_ems_o",name:"Orbital EMS Strike",type:Z.STRATAGEM,rarity:K,tags:[re],warbond:"helldivers_mobilize"},{id:"st_smoke_o",name:"Orbital Smoke Strike",type:Z.STRATAGEM,rarity:K,tags:[oe],warbond:"helldivers_mobilize"},{id:"st_e_strafe",name:"Eagle Strafing Run",type:Z.STRATAGEM,rarity:K,tags:[],warbond:"helldivers_mobilize"},{id:"st_e_airstrike",name:"Eagle Airstrike",type:Z.STRATAGEM,rarity:K,tags:[le,ne],warbond:"helldivers_mobilize"},{id:"st_e_cluster",name:"Eagle Cluster Bomb",type:Z.STRATAGEM,rarity:K,tags:[],warbond:"helldivers_mobilize"},{id:"st_e_smoke",name:"Eagle Smoke Strike",type:Z.STRATAGEM,rarity:K,tags:[oe],warbond:"helldivers_mobilize"},{id:"st_e_rockets",name:"Eagle 110mm Rocket Pods",type:Z.STRATAGEM,rarity:$,tags:[ne,se],warbond:"helldivers_mobilize"},{id:"st_e_500",name:"Eagle 500kg Bomb",type:Z.STRATAGEM,rarity:X,tags:[ne,le],warbond:"helldivers_mobilize"},{id:"st_mg43",name:"Machine Gun MG-43",type:Z.STRATAGEM,rarity:K,tags:[ae],warbond:"helldivers_mobilize"},{id:"st_amr",name:"Anti-Materiel Rifle",type:Z.STRATAGEM,rarity:$,tags:[ae,se],warbond:"helldivers_mobilize"},{id:"st_stalwart",name:"Stalwart",type:Z.STRATAGEM,rarity:$,tags:[ae],warbond:"helldivers_mobilize"},{id:"st_eat",name:"EAT-17 Expendable Anti-Tank",type:Z.STRATAGEM,rarity:X,tags:[ae,ne],warbond:"helldivers_mobilize"},{id:"st_rr",name:"Recoilless Rifle",type:Z.STRATAGEM,rarity:X,tags:[ae,ne,ie],warbond:"helldivers_mobilize"},{id:"st_flame",name:"Flamethrower",type:Z.STRATAGEM,rarity:K,tags:[ae,te],warbond:"helldivers_mobilize"},{id:"st_ac",name:"Autocannon AC-8",type:Z.STRATAGEM,rarity:X,tags:[ae,le,ie],warbond:"helldivers_mobilize"},{id:"st_railgun",name:"Railgun",type:Z.STRATAGEM,rarity:X,tags:[ae,ne,se],warbond:"helldivers_mobilize"},{id:"st_spear",name:"Spear",type:Z.STRATAGEM,rarity:X,tags:[ae,ne,ie],warbond:"helldivers_mobilize"},{id:"st_laser_can",name:"Laser Cannon",type:Z.STRATAGEM,rarity:K,tags:[ae],warbond:"helldivers_mobilize"},{id:"st_arc",name:"Arc Thrower",type:Z.STRATAGEM,rarity:K,tags:[ae],warbond:"helldivers_mobilize"},{id:"st_quasar",name:"Quasar Cannon",type:Z.STRATAGEM,rarity:X,tags:[ae,ne],warbond:"helldivers_mobilize"},{id:"st_hmg",name:"Heavy Machine Gun",type:Z.STRATAGEM,rarity:$,tags:[ae],warbond:"helldivers_mobilize"},{id:"st_commando",name:"Commando",type:Z.STRATAGEM,rarity:X,tags:[ae,ne],warbond:"helldivers_mobilize"},{id:"st_bp_jump",name:"Jump Pack",type:Z.STRATAGEM,rarity:$,tags:[ie],warbond:"helldivers_mobilize"},{id:"st_bp_supply",name:"Supply Pack",type:Z.STRATAGEM,rarity:$,tags:[ie],warbond:"helldivers_mobilize"},{id:"st_bp_dog",name:"Guard Dog",type:Z.STRATAGEM,rarity:$,tags:[ie],warbond:"helldivers_mobilize"},{id:"st_bp_shield",name:"Shield Generator Pack",type:Z.STRATAGEM,rarity:X,tags:[ie,ce],warbond:"helldivers_mobilize"},{id:"st_bp_ballistic",name:"Ballistic Shield",type:Z.STRATAGEM,rarity:K,tags:[ie,ce],warbond:"helldivers_mobilize"},{id:"st_s_mg",name:"Machine Gun Sentry",type:Z.STRATAGEM,rarity:K,tags:[ce],warbond:"helldivers_mobilize"},{id:"st_s_gat",name:"Gatling Sentry",type:Z.STRATAGEM,rarity:K,tags:[ce],warbond:"helldivers_mobilize"},{id:"st_s_mortar",name:"Mortar Sentry",type:Z.STRATAGEM,rarity:$,tags:[ce,le],warbond:"helldivers_mobilize"},{id:"st_s_ems",name:"EMS Mortar Sentry",type:Z.STRATAGEM,rarity:$,tags:[ce,re],warbond:"helldivers_mobilize"},{id:"st_s_ac",name:"Autocannon Sentry",type:Z.STRATAGEM,rarity:$,tags:[ce,ne],warbond:"helldivers_mobilize"},{id:"st_s_rocket",name:"Rocket Sentry",type:Z.STRATAGEM,rarity:$,tags:[ce,ne],warbond:"helldivers_mobilize"},{id:"st_s_tesla",name:"Tesla Tower",type:Z.STRATAGEM,rarity:$,tags:[ce],warbond:"helldivers_mobilize"},{id:"st_s_mines",name:"Anti-Personnel Mines",type:Z.STRATAGEM,rarity:K,tags:[ce],warbond:"helldivers_mobilize"},{id:"st_s_inc_mines",name:"Incendiary Mines",type:Z.STRATAGEM,rarity:$,tags:[ce,te],warbond:"helldivers_mobilize"},{id:"st_s_at_mines",name:"Anti-Tank Mines",type:Z.STRATAGEM,rarity:$,tags:[ce,ne],warbond:"helldivers_mobilize"},{id:"st_e_napalm",name:"Eagle Napalm Airstrike",type:Z.STRATAGEM,rarity:$,tags:[te],warbond:"helldivers_mobilize"},{id:"st_bp_rover",name:"Guard Dog Rover",type:Z.STRATAGEM,rarity:$,tags:[ie,te],warbond:"helldivers_mobilize"}],...[{id:"p_lib_con",name:"AR-23C Liberator Concussive",type:Z.PRIMARY,rarity:K,tags:[re],warbond:"steeled_veterans"},{id:"p_breaker_inc",name:"SG-225IE Breaker Incendiary",type:Z.PRIMARY,rarity:X,tags:[te],warbond:"steeled_veterans"},{id:"p_dominator",name:"JAR-5 Dominator",type:Z.PRIMARY,rarity:K,tags:[se],warbond:"steeled_veterans"},{id:"s_senator",name:"P-4 Senator",type:Z.SECONDARY,rarity:X,tags:[se],warbond:"steeled_veterans"},{id:"g_inc",name:"G-10 Incendiary",type:Z.GRENADE,rarity:$,tags:[te],warbond:"steeled_veterans"},{id:"b_flex_reinforce",name:"Flexible Reinforcement Budget",type:Z.BOOSTER,rarity:X,tags:[],warbond:"steeled_veterans"},{id:"a_sa25",name:"SA-25 Steel Trooper",type:Z.ARMOR,rarity:$,tags:[],warbond:"steeled_veterans",passive:he,armorClass:de},{id:"a_sa12",name:"SA-12 Servo Assisted",type:Z.ARMOR,rarity:$,tags:[],warbond:"steeled_veterans",passive:he,armorClass:de},{id:"a_sa32",name:"SA-32 Dynamo",type:Z.ARMOR,rarity:$,tags:[],warbond:"steeled_veterans",passive:he,armorClass:pe}],...[{id:"p_sickle",name:"LAS-16 Sickle",type:Z.PRIMARY,rarity:$,tags:[],warbond:"cutting_edge"},{id:"p_blitzer",name:"ARC-12 Blitzer",type:Z.PRIMARY,rarity:$,tags:[re],warbond:"cutting_edge"},{id:"p_punisher_plas",name:"SG-8P Punisher Plasma",type:Z.PRIMARY,rarity:X,tags:[le],warbond:"cutting_edge"},{id:"s_dagger",name:"LAS-7 Dagger",type:Z.SECONDARY,rarity:$,tags:[],warbond:"cutting_edge"},{id:"g_stun",name:"G-23 Stun",type:Z.GRENADE,rarity:$,tags:[re],warbond:"cutting_edge"},{id:"b_local",name:"Localization Confusion",type:Z.BOOSTER,rarity:J,tags:[],warbond:"cutting_edge"},{id:"a_ex03",name:"EX-03 Prototype 3",type:Z.ARMOR,rarity:$,tags:[],warbond:"cutting_edge",passive:we,armorClass:de},{id:"a_ex16",name:"EX-16 Prototype 16",type:Z.ARMOR,rarity:$,tags:[],warbond:"cutting_edge",passive:we,armorClass:de},{id:"a_ex00",name:"EX-00 Prototype X",type:Z.ARMOR,rarity:$,tags:[],warbond:"cutting_edge",passive:we,armorClass:ue}],...[{id:"p_xbow",name:"CB-9 Explosive Crossbow",type:Z.PRIMARY,rarity:J,tags:[le],warbond:"democratic_detonation"},{id:"p_eruptor",name:"R-36 Eruptor",type:Z.PRIMARY,rarity:J,tags:[le],warbond:"democratic_detonation"},{id:"s_grenapistol",name:"GP-31 Grenade Pistol",type:Z.SECONDARY,rarity:X,tags:[le],warbond:"democratic_detonation"},{id:"g_thermite",name:"Thermite Grenade",type:Z.GRENADE,rarity:J,tags:[ne,te],warbond:"democratic_detonation"},{id:"p_adjudicator",name:"BR-14 Adjudicator",type:Z.PRIMARY,rarity:$,tags:[se],warbond:"democratic_detonation"},{id:"b_expert_pilot",name:"Expert Extraction Pilot",type:Z.BOOSTER,rarity:X,tags:[],warbond:"democratic_detonation"},{id:"a_ce27",name:"CE-27 Ground Breaker",type:Z.ARMOR,rarity:X,tags:[],warbond:"democratic_detonation",passive:Se,armorClass:de},{id:"a_ce07",name:"CE-07 Demolition Specialist",type:Z.ARMOR,rarity:X,tags:[],warbond:"democratic_detonation",passive:Se,armorClass:ue},{id:"a_fs55",name:"FS-55 Devastator",type:Z.ARMOR,rarity:K,tags:[ce],warbond:"democratic_detonation",passive:ye,armorClass:pe}],...[{id:"p_purifier",name:"PLAS-101 Purifier",type:Z.PRIMARY,rarity:J,tags:[le],warbond:"polar_patriots"},{id:"p_pummeler",name:"SMG-72 Pummeler",type:Z.PRIMARY,rarity:$,tags:[re],warbond:"polar_patriots"},{id:"p_tenderizer",name:"AR-61 Tenderizer",type:Z.PRIMARY,rarity:X,tags:[se],warbond:"polar_patriots"},{id:"s_verdict",name:"P-113 Verdict",type:Z.SECONDARY,rarity:$,tags:[],warbond:"polar_patriots"},{id:"g_inc_imp",name:"G-13 Incendiary Impact",type:Z.GRENADE,rarity:$,tags:[te],warbond:"polar_patriots"},{id:"b_shock",name:"Motivational Shocks",type:Z.BOOSTER,rarity:X,tags:[],warbond:"polar_patriots"},{id:"a_cw36",name:"CW-36 Winter Warrior",type:Z.ARMOR,rarity:$,tags:[],warbond:"polar_patriots",passive:he,armorClass:pe},{id:"a_cw22",name:"CW-22 Kodiak",type:Z.ARMOR,rarity:K,tags:[ce],warbond:"polar_patriots",passive:ye,armorClass:pe},{id:"a_cw4",name:"CW-4 Arctic Ranger",type:Z.ARMOR,rarity:K,tags:[],warbond:"polar_patriots",passive:fe,armorClass:ue}],...[{id:"p_lib_carb",name:"AR-23A Liberator Carbine",type:Z.PRIMARY,rarity:$,tags:[],warbond:"viper_commandos"},{id:"s_bushwhacker",name:"SG-22 Bushwhacker",type:Z.SECONDARY,rarity:$,tags:[re],warbond:"viper_commandos"},{id:"g_knife",name:"Throwing Knife",type:Z.GRENADE,rarity:K,tags:[],warbond:"viper_commandos"},{id:"a_ph9",name:"PH-9 Predator",type:Z.ARMOR,rarity:X,tags:[],warbond:"viper_commandos",passive:me,armorClass:ue},{id:"a_ph202",name:"PH-202 Twigsnapper",type:Z.ARMOR,rarity:X,tags:[],warbond:"viper_commandos",passive:me,armorClass:pe},{id:"b_infusion",name:"Experimental Infusion",type:Z.BOOSTER,rarity:J,tags:[],warbond:"viper_commandos"}],...[{id:"p_cookout",name:"SG-451 Cookout",type:Z.PRIMARY,rarity:J,tags:[te,re],warbond:"freedoms_flame"},{id:"p_torcher",name:"FLAM-66 Torcher",type:Z.PRIMARY,rarity:X,tags:[te],warbond:"freedoms_flame"},{id:"s_crisper",name:"Crisper",type:Z.SECONDARY,rarity:$,tags:[te],warbond:"freedoms_flame"},{id:"a_i09",name:"I-09 Heatseeker",type:Z.ARMOR,rarity:J,tags:[te],warbond:"freedoms_flame",passive:Ee,armorClass:ue},{id:"a_i102",name:"I-102 Draconaught",type:Z.ARMOR,rarity:J,tags:[te],warbond:"freedoms_flame",passive:Ee,armorClass:de},{id:"b_firepod",name:"Firebomb Hellpods",type:Z.BOOSTER,rarity:X,tags:[te],warbond:"freedoms_flame"}],...[{id:"g_gas",name:"Gas Grenade",type:Z.GRENADE,rarity:J,tags:[],warbond:"chemical_agents"},{id:"s_stimpistol",name:"P-43 Stim Pistol",type:Z.SECONDARY,rarity:$,tags:[ce],warbond:"chemical_agents"},{id:"st_sterilizer",name:"Sterilizer",type:Z.STRATAGEM,rarity:$,tags:[ae],warbond:"chemical_agents"},{id:"st_bp_dog_breath",name:'AX/TX-13 "Guard Dog" Dog Breath',type:Z.STRATAGEM,rarity:X,tags:[ie],warbond:"chemical_agents"},{id:"a_af50",name:"AF-50 Noxious Ranger",type:Z.ARMOR,rarity:X,tags:[],warbond:"chemical_agents",passive:Re,armorClass:ue},{id:"a_af02",name:"AF-02 Haz-Master",type:Z.ARMOR,rarity:X,tags:[],warbond:"chemical_agents",passive:Re,armorClass:de}],...[{id:"b_dead_sprint",name:"Dead Sprint",type:Z.BOOSTER,rarity:X,tags:[],warbond:"truth_enforcers"},{id:"p_halt",name:"SG-20 Halt",type:Z.PRIMARY,rarity:$,tags:[re],warbond:"truth_enforcers"},{id:"p_reprimand",name:"SMG-32 Reprimand",type:Z.PRIMARY,rarity:X,tags:[],warbond:"truth_enforcers"},{id:"s_loyalist",name:"PLAS-15 Loyalist",type:Z.SECONDARY,rarity:X,tags:[],warbond:"truth_enforcers"},{id:"a_uf50",name:"UF-50 Bloodhound",type:Z.ARMOR,rarity:X,tags:[],warbond:"truth_enforcers",passive:ve,armorClass:de},{id:"a_uf16",name:"UF-16 Inspector",type:Z.ARMOR,rarity:X,tags:[],warbond:"truth_enforcers",passive:ve,armorClass:ue}],...[{id:"b_armed_pods",name:"Armed Resupply Pods",type:Z.BOOSTER,rarity:X,tags:[],warbond:"urban_legends"},{id:"s_stun_lance",name:"CQC-19 Stun Lance",type:Z.SECONDARY,rarity:$,tags:[re],warbond:"urban_legends"},{id:"st_bp_directional",name:"SH-51 Directional Shield",type:Z.STRATAGEM,rarity:$,tags:[ie,ce],warbond:"urban_legends"},{id:"st_s_flame",name:"A/FLAM-40 Flame Sentry",type:Z.STRATAGEM,rarity:$,tags:[ce,te],warbond:"urban_legends"},{id:"st_s_at_emp",name:"E/AT-12 Anti-Tank Emplacement",type:Z.STRATAGEM,rarity:X,tags:[ce,ne],warbond:"urban_legends"},{id:"a_sr24",name:"SR-24 Street Scout",type:Z.ARMOR,rarity:J,tags:[],warbond:"urban_legends",passive:Pe,armorClass:ue},{id:"a_sr18",name:"SR-18 Roadblock",type:Z.ARMOR,rarity:J,tags:[ce],warbond:"urban_legends",passive:Pe,armorClass:pe}],...[{id:"p_double_edge",name:"LAS-17 Double-Edge Sickle",type:Z.PRIMARY,rarity:X,tags:[],warbond:"servants_of_freedom"},{id:"s_ultimatum",name:"GP-20 Ultimatum",type:Z.SECONDARY,rarity:J,tags:[le],warbond:"servants_of_freedom"},{id:"g_seeker",name:"G-50 Seeker",type:Z.GRENADE,rarity:X,tags:[le],warbond:"servants_of_freedom"},{id:"st_bp_hellbomb",name:"Portable Hellbomb",type:Z.STRATAGEM,rarity:X,tags:[ie,le],warbond:"servants_of_freedom"},{id:"a_ie3",name:"IE-3 Martyr",type:Z.ARMOR,rarity:$,tags:[le],warbond:"servants_of_freedom",passive:Ae,armorClass:de},{id:"a_ie12",name:"IE-12 Righteous",type:Z.ARMOR,rarity:$,tags:[le],warbond:"servants_of_freedom",passive:Ae,armorClass:de}],...[{id:"p_deadeye",name:"R-6 Deadeye",type:Z.PRIMARY,rarity:X,tags:[se],warbond:"borderline_justice"},{id:"s_talon",name:"LAS-58 Talon",type:Z.SECONDARY,rarity:J,tags:[se],warbond:"borderline_justice"},{id:"g_dynamite",name:"TED-63 Dynamite",type:Z.GRENADE,rarity:X,tags:[le],warbond:"borderline_justice"},{id:"st_bp_hover",name:"LIFT-860 Hover Pack",type:Z.STRATAGEM,rarity:X,tags:[ie],warbond:"borderline_justice"},{id:"b_sample_extricator",name:"Sample Extricator",type:Z.BOOSTER,rarity:X,tags:[],warbond:"borderline_justice"},{id:"a_gs17",name:"GS-17 Frontier Marshal",type:Z.ARMOR,rarity:$,tags:[],warbond:"borderline_justice",passive:Ie,armorClass:de},{id:"a_gs66",name:"GS-66 Lawmaker",type:Z.ARMOR,rarity:$,tags:[],warbond:"borderline_justice",passive:Ie,armorClass:pe}],...[{id:"p_amendment",name:"R-2 Amendment",type:Z.PRIMARY,rarity:$,tags:[se],warbond:"masters_of_ceremony"},{id:"s_saber",name:"CQC-2 Saber",type:Z.SECONDARY,rarity:$,tags:[],warbond:"masters_of_ceremony"},{id:"g_pyrotech",name:"G-142 Pyrotech",type:Z.GRENADE,rarity:$,tags:[te],warbond:"masters_of_ceremony"},{id:"b_sample_scanner",name:"Sample Scanner",type:Z.BOOSTER,rarity:X,tags:[],warbond:"masters_of_ceremony"},{id:"a_re2310",name:"RE-2310 Honorary Guard",type:Z.ARMOR,rarity:$,tags:[],warbond:"masters_of_ceremony",passive:Me,armorClass:de},{id:"a_re1861",name:"RE-1861 Parade Commander",type:Z.ARMOR,rarity:$,tags:[],warbond:"masters_of_ceremony",passive:Me,armorClass:ue},{id:"st_flag",name:"CQC-1 One True Flag",type:Z.STRATAGEM,rarity:J,tags:[ae],warbond:"masters_of_ceremony"}],...[{id:"p_pacifier",name:"AR-32 Pacifier",type:Z.PRIMARY,rarity:K,tags:[re],warbond:"force_of_law"},{id:"g_urchin",name:"G-109 Urchin",type:Z.GRENADE,rarity:K,tags:[],warbond:"force_of_law"},{id:"b_stun_pods",name:"Stun Pods",type:Z.BOOSTER,rarity:X,tags:[re],warbond:"force_of_law"},{id:"a_bp20",name:"BP-20 Correct Officer",type:Z.ARMOR,rarity:$,tags:[],warbond:"force_of_law",passive:_e,armorClass:de},{id:"a_bp32",name:"BP-32 Jackboot",type:Z.ARMOR,rarity:$,tags:[],warbond:"force_of_law",passive:_e,armorClass:ue},{id:"st_deescalator",name:"GL-52 De-Escalator",type:Z.STRATAGEM,rarity:X,tags:[ae],warbond:"force_of_law"},{id:"st_bp_k9",name:'AX/ARC-3 "Guard Dog" K-9',type:Z.STRATAGEM,rarity:X,tags:[ie],warbond:"force_of_law"}],...[{id:"p_variable",name:"VG-70 Variable",type:Z.PRIMARY,rarity:$,tags:[],warbond:"control_group"},{id:"g_arc",name:"G-31 Arc",type:Z.GRENADE,rarity:$,tags:[re],warbond:"control_group"},{id:"a_ad26",name:"AD-26 Bleeding Edge",type:Z.ARMOR,rarity:$,tags:[],warbond:"control_group",passive:De,armorClass:de},{id:"a_ad49",name:"AD-49 Apollonian",type:Z.ARMOR,rarity:$,tags:[],warbond:"control_group",passive:De,armorClass:pe},{id:"st_epoch",name:"PLAS-45 Epoch",type:Z.STRATAGEM,rarity:$,tags:[ae],warbond:"control_group"},{id:"st_s_laser",name:"A/LAS-98 Laser Sentry",type:Z.STRATAGEM,rarity:$,tags:[ce],warbond:"control_group"},{id:"st_bp_warp",name:"LIFT-182 Warp Pack",type:Z.STRATAGEM,rarity:J,tags:[ie],warbond:"control_group"}],...[{id:"p_coyote",name:"AR-2 Coyote",type:Z.PRIMARY,rarity:J,tags:[te],warbond:"dust_devils"},{id:"g_pineapple",name:"G-7 Pineapple",type:Z.GRENADE,rarity:$,tags:[le],warbond:"dust_devils"},{id:"a_ds42",name:"DS-42 Federation's Blade",type:Z.ARMOR,rarity:X,tags:[],warbond:"dust_devils",passive:Te,armorClass:pe},{id:"a_ds191",name:"DS-191 Scorpion",type:Z.ARMOR,rarity:X,tags:[],warbond:"dust_devils",passive:Te,armorClass:de},{id:"st_speargun",name:"S-11 Speargun",type:Z.STRATAGEM,rarity:X,tags:[ae],warbond:"dust_devils"},{id:"st_eat_napalm",name:"EAT-700 Expendable Napalm",type:Z.STRATAGEM,rarity:$,tags:[ae,te],warbond:"dust_devils"},{id:"st_solo_silo",name:"MS-11 Solo Silo",type:Z.STRATAGEM,rarity:J,tags:[ae],warbond:"dust_devils"}],...[{id:"p_onetwo",name:"AR/GL-21 One-Two",type:Z.PRIMARY,rarity:$,tags:[le],warbond:"python_commandos"},{id:"a_rs20",name:"RS-20 Constrictor",type:Z.ARMOR,rarity:$,tags:[],warbond:"python_commandos",passive:xe,armorClass:ue},{id:"a_rs40",name:"RS-40 Beast of Prey",type:Z.ARMOR,rarity:$,tags:[],warbond:"python_commandos",passive:xe,armorClass:pe},{id:"st_bp_hotdog",name:'AX/FLAM-75 "Guard Dog" Hot Dog',type:Z.STRATAGEM,rarity:X,tags:[ie,te],warbond:"python_commandos"},{id:"st_defoliation",name:"CQC-9 Defoliation Tool",type:Z.STRATAGEM,rarity:$,tags:[ae],warbond:"python_commandos"},{id:"st_maxigun",name:"M-1000 Maxigun",type:Z.STRATAGEM,rarity:X,tags:[ae],warbond:"python_commandos"}],...[{id:"p_ma5c",name:"MA5C Assault Rifle",type:Z.PRIMARY,rarity:$,tags:[],warbond:"obedient_democracy_support_troopers"},{id:"p_m7s",name:"M7S SMG",type:Z.PRIMARY,rarity:K,tags:[],warbond:"obedient_democracy_support_troopers"},{id:"p_m90a",name:"M90A Shotgun",type:Z.PRIMARY,rarity:$,tags:[],warbond:"obedient_democracy_support_troopers"},{id:"s_m6c",name:"M6C/SOCOM Pistol",type:Z.SECONDARY,rarity:K,tags:[],warbond:"obedient_democracy_support_troopers"},{id:"a_a9",name:"A-9 Helljumper",type:Z.ARMOR,rarity:$,tags:[],warbond:"obedient_democracy_support_troopers",passive:Oe,armorClass:de},{id:"a_a35",name:"A-35 Recon",type:Z.ARMOR,rarity:$,tags:[],warbond:"obedient_democracy_support_troopers",passive:Oe,armorClass:de}],...[{id:"p_sta52",name:"StA-52 Assault Rifle",type:Z.PRIMARY,rarity:$,tags:[],warbond:"righteous_revenants"},{id:"p_plas39",name:"PLAS-39 Accelerator Rifle",type:Z.PRIMARY,rarity:$,tags:[],warbond:"righteous_revenants"},{id:"p_sta11",name:"StA-11 SMG",type:Z.PRIMARY,rarity:K,tags:[],warbond:"righteous_revenants"},{id:"a_ac1",name:"AC-1 Dutiful",type:Z.ARMOR,rarity:$,tags:[],warbond:"righteous_revenants",passive:ke,armorClass:de},{id:"a_ac2",name:"AC-2 Obedient",type:Z.ARMOR,rarity:$,tags:[],warbond:"righteous_revenants",passive:ke,armorClass:de}],...[{id:"p_knight",name:"MP-98 Knight",type:Z.PRIMARY,rarity:X,tags:[],warbond:"premium_edition"},{id:"a_dp40",name:"DP-40 Hero of the Federation",type:Z.ARMOR,rarity:$,tags:[],warbond:"premium_edition",passive:be,armorClass:de}],...[{id:"p_double_freedom",name:"DBS-2 Double Freedom",type:Z.PRIMARY,rarity:X,tags:[],superstore:!0},{id:"s_stun_baton",name:"CQC-30 Stun Baton",type:Z.SECONDARY,rarity:K,tags:[re],superstore:!0},{id:"s_combat_hatchet",name:"CQC-5 Combat Hatchet",type:Z.SECONDARY,rarity:$,tags:[],superstore:!0},{id:"s_warrant",name:"P-92 Warrant",type:Z.SECONDARY,rarity:$,tags:[],superstore:!0},{id:"s_machete",name:"CQC-42 Machete",type:Z.SECONDARY,rarity:K,tags:[],superstore:!0},{id:"a_sc37",name:"SC-37 Legionnaire",type:Z.ARMOR,rarity:$,tags:[],superstore:!0,passive:he,armorClass:ue},{id:"a_ce74",name:"CE-74 Breaker",type:Z.ARMOR,rarity:K,tags:[],superstore:!0,passive:Se,armorClass:ue},{id:"a_fs38",name:"FS-38 Eradicator",type:Z.ARMOR,rarity:K,tags:[ce],superstore:!0,passive:ye,armorClass:ue},{id:"a_b08",name:"B-08 Light Gunner",type:Z.ARMOR,rarity:K,tags:[],superstore:!0,passive:ge,armorClass:ue},{id:"a_ds10",name:"DS-10 Big Game Hunter",type:Z.ARMOR,rarity:X,tags:[],superstore:!0,passive:Te,armorClass:ue},{id:"a_cm21",name:"CM-21 Trench Paramedic",type:Z.ARMOR,rarity:$,tags:[],superstore:!0,passive:Ce,armorClass:ue},{id:"a_ce67",name:"CE-67 Titan",type:Z.ARMOR,rarity:K,tags:[],superstore:!0,passive:Se,armorClass:ue},{id:"a_fs37",name:"FS-37 Ravager",type:Z.ARMOR,rarity:K,tags:[],superstore:!0,passive:Se,armorClass:ue},{id:"a_ie57",name:"IE-57 Hell-Bent",type:Z.ARMOR,rarity:$,tags:[le],superstore:!0,passive:Ae,armorClass:ue},{id:"a_gs11",name:"GS-11 Democracy's Deputy",type:Z.ARMOR,rarity:$,tags:[],superstore:!0,passive:Ie,armorClass:ue},{id:"a_ad11",name:"AD-11 Livewire",type:Z.ARMOR,rarity:$,tags:[],superstore:!0,passive:De,armorClass:ue},{id:"a_sc15",name:"SC-15 Drone Master",type:Z.ARMOR,rarity:K,tags:[],superstore:!0,passive:Se,armorClass:de},{id:"a_b24",name:"B-24 Enforcer",type:Z.ARMOR,rarity:K,tags:[ce],superstore:!0,passive:ye,armorClass:de},{id:"a_ce81",name:"CE-81 Juggernaut",type:Z.ARMOR,rarity:K,tags:[],superstore:!0,passive:Se,armorClass:de},{id:"a_fs34",name:"FS-34 Exterminator",type:Z.ARMOR,rarity:K,tags:[ce],superstore:!0,passive:ye,armorClass:de},{id:"a_cm10",name:"CM-10 Clinician",type:Z.ARMOR,rarity:$,tags:[],superstore:!0,passive:Ce,armorClass:de},{id:"a_cw9",name:"CW-9 White Wolf",type:Z.ARMOR,rarity:K,tags:[],superstore:!0,passive:ge,armorClass:de},{id:"a_ph56",name:"PH-56 Jaguar",type:Z.ARMOR,rarity:X,tags:[],superstore:!0,passive:me,armorClass:de},{id:"a_i92",name:"I-92 Fire Fighter",type:Z.ARMOR,rarity:J,tags:[te],superstore:!0,passive:Ee,armorClass:de},{id:"a_af91",name:"AF-91 Field Chemist",type:Z.ARMOR,rarity:X,tags:[],superstore:!0,passive:Re,armorClass:de},{id:"a_uf84",name:"UF-84 Doubt Killer",type:Z.ARMOR,rarity:X,tags:[],superstore:!0,passive:ve,armorClass:de},{id:"a_rs6",name:"RS-6 Fiend Destroyer",type:Z.ARMOR,rarity:$,tags:[],superstore:!0,passive:xe,armorClass:de},{id:"a_b27",name:"B-27 Fortified Commando",type:Z.ARMOR,rarity:K,tags:[ce],superstore:!0,passive:ge,armorClass:pe},{id:"a_fs61",name:"FS-61 Dreadnought",type:Z.ARMOR,rarity:$,tags:[ce],superstore:!0,passive:he,armorClass:pe},{id:"a_fs11",name:"FS-11 Executioner",type:Z.ARMOR,rarity:K,tags:[ce],superstore:!0,passive:ye,armorClass:pe},{id:"a_cm17",name:"CM-17 Butcher",type:Z.ARMOR,rarity:$,tags:[],superstore:!0,passive:Ce,armorClass:pe},{id:"a_ce64",name:"CE-64 Grenadier",type:Z.ARMOR,rarity:K,tags:[le],superstore:!0,passive:Se,armorClass:pe},{id:"a_ce101",name:"CE-101 Guerilla Gorilla",type:Z.ARMOR,rarity:K,tags:[],superstore:!0,passive:Se,armorClass:pe},{id:"a_i44",name:"I-44 Salamander",type:Z.ARMOR,rarity:J,tags:[te],superstore:!0,passive:Ee,armorClass:pe},{id:"a_af52",name:"AF-52 Lockdown",type:Z.ARMOR,rarity:X,tags:[],superstore:!0,passive:Re,armorClass:pe},{id:"a_sr64",name:"SR-64 Cinderblock",type:Z.ARMOR,rarity:J,tags:[],superstore:!0,passive:Pe,armorClass:pe},{id:"a_re824",name:"RE-824 Bearer of the Standard",type:Z.ARMOR,rarity:$,tags:[],superstore:!0,passive:Me,armorClass:pe},{id:"a_bp77",name:"BP-77 Grand Juror",type:Z.ARMOR,rarity:$,tags:[],superstore:!0,passive:_e,armorClass:pe}]],Le={primary:null,secondary:"s_peacemaker",grenade:"g_he",armor:"a_b01",booster:null,stratagems:[null,null,null,null]},ze=[{level:1,name:"Trivial",reqAT:!1},{level:2,name:"Easy",reqAT:!1},{level:3,name:"Medium",reqAT:!1},{level:4,name:"Challenging",reqAT:!0},{level:5,name:"Hard",reqAT:!0},{level:6,name:"Extreme",reqAT:!0},{level:7,name:"Suicide Mission",reqAT:!0},{level:8,name:"Impossible",reqAT:!0},{level:9,name:"Helldive",reqAT:!0},{level:10,name:"Super Helldive",reqAT:!0}],Be=e=>je.find(t=>t.id===e),Fe=(e,t)=>e.some(e=>((e,t)=>{const n=Be(e);return!!n&&n.tags.includes(t)})(e,t)),We=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=((e,t)=>je.filter(n=>"Armor"===n.type&&n.passive===e&&n.armorClass===t))(e,t),o=n?r.filter(e=>n.includes(e.id)):r;return 0===o.length?"Unknown Armor":o.map(e=>e.name).join(" / ")};var Ue=n(331);const qe=e=>e<=2?2:e<=4?3:4,Ye=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],a=je.filter(t=>!e.inventory.includes(t.id)&&t.type!==Z.BOOSTER);if(e.warbonds&&e.warbonds.length>0&&(a=a.filter(t=>!(!t.warbond||!e.warbonds.includes(t.warbond))||(!(!t.superstore||!e.includeSuperstore)||!t.warbond&&!t.superstore))),n.burnCards&&(a=a.filter(e=>!r.includes(e.id))),i&&i.length>0&&(a=a.filter(e=>!i.includes(e.type))),n.globalUniqueness){const e=o.flatMap(e=>e.inventory);a=a.filter(t=>!e.includes(t.id))}const s=a.filter(e=>e.type===Z.ARMOR),l=a.filter(e=>e.type!==Z.ARMOR),c=(e=>{const t=new Map;return e.forEach(e=>{if(!e.passive||!e.armorClass)return;const n="".concat(e.passive,"|").concat(e.armorClass);t.has(n)||t.set(n,{passive:e.passive,armorClass:e.armorClass,items:[]}),t.get(n).items.push(e)}),Array.from(t.values())})(s).filter(t=>{var n,r,o;return(n=e.inventory,r=t.passive,o=t.armorClass,!n.some(e=>{const t=Be(e);return t&&"Armor"===t.type&&t.passive===r&&t.armorClass===o}))&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.items.some(e=>!(!e.warbond||!t.includes(e.warbond))||!(!e.superstore||!n)||!e.warbond&&!e.superstore)}(t,e.warbonds,e.includeSuperstore)}),u=(0,Ue.getRareWeightMultiplier)(n.playerCount,n.subfaction);return[...l.map(r=>{let o=10;r.rarity===K&&(o+=50),r.rarity===$&&(o+=25),r.rarity===X&&(o+=Math.round(5*u)),r.rarity===J&&(o+=Math.round(2*u)),n.faction===ee.BUGS&&r.tags.includes(te)&&(o+=30),n.faction===ee.BOTS&&r.tags.includes(se)&&(o+=20),n.faction===ee.SQUIDS&&r.tags.includes(re)&&(o+=20);const i=Fe(e.inventory,ne);t>=3&&!i&&r.tags.includes(ne)&&(o+=500),e.loadout.secondary&&r.type===Z.SECONDARY&&(o=Math.max(1,o-40));return e.loadout.stratagems.some(e=>{const t=Be(e);return t&&t.tags.includes(ie)})&&r.tags.includes(ie)&&(o=0),{item:r,weight:o,isArmorCombo:!1}}),...c.map(e=>{let t=10;const r=e.items[0];return r.rarity===K&&(t+=50),r.rarity===$&&(t+=25),r.rarity===X&&(t+=Math.round(5*u)),r.rarity===J&&(t+=Math.round(2*u)),n.faction===ee.BUGS&&r.tags.includes(te)&&(t+=30),n.faction===ee.BOTS&&r.tags.includes(se)&&(t+=20),n.faction===ee.SQUIDS&&r.tags.includes(re)&&(t+=20),{armorCombo:e,weight:t,isArmorCombo:!0}})].filter(e=>e.weight>0)},He=function(e,t,n){var r;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];if(!e)return console.warn("[Draft] Player not found for draft generation"),[];console.log("[Draft] Generating hand for player ".concat(e.id||e.name),{difficulty:t,burnCards:n.burnCards,burnedCardsCount:o.length,lockedSlots:l,playerInventoryCount:(null===(r=e.inventory)||void 0===r?void 0:r.length)||0});const c=Ye(e,t,n,o,i,l),u=null!==s?s:qe(n.starRating);console.log("[Draft] Pool size: ".concat(c.length,", Hand size: ").concat(u));const d=c.filter(e=>e.isArmorCombo),p=c.filter(e=>!e.isArmorCombo);console.log("[Draft] Pool composition: ".concat(d.length," armor combos, ").concat(p.length," regular items"));const h=[];for(let b=0;b<u;b++){if(0===c.length){console.warn("[Draft] Pool exhausted after ".concat(b," cards"));break}const e=c.reduce((e,t)=>e+t.weight,0);if(0===e){console.warn("[Draft] Pool has no valid weighted items");break}let t=Math.random()*e;for(let r=0;r<c.length;r++){const e=c[r];if(e){if(t-=e.weight,t<=0){var f,m,g,y;if(e.isArmorCombo)console.log("[Draft] Selected armor combo: ".concat(e.armorCombo.passive," (").concat(e.armorCombo.armorClass,")"),{itemCount:null===(f=e.armorCombo.items)||void 0===f?void 0:f.length,weight:e.weight}),h.push(e.armorCombo);else console.log("[Draft] Selected item: ".concat((null===(m=e.item)||void 0===m?void 0:m.name)||"Unknown"),{id:null===(g=e.item)||void 0===g?void 0:g.id,type:null===(y=e.item)||void 0===y?void 0:y.type,weight:e.weight}),h.push(e.item);n.burnCards&&a&&(e.isArmorCombo?e.armorCombo.items.forEach(e=>a(e.id)):a(e.item.id)),c.splice(r,1);break}}else console.warn("[Draft] Invalid pool item at index",r)}}return console.log("[Draft] Final hand size: ".concat(h.length),h.map(e=>e.name||"".concat(e.passive," (").concat(e.armorClass,")"))),h},Ge=e=>e&&e.stratagems&&Array.isArray(e.stratagems)?e.stratagems.indexOf(null):-1,Ve=e=>!(e&&e.stratagems&&Array.isArray(e.stratagems))||-1===Ge(e),Qe=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{players:o,eventPlayerChoice:i,requisition:a,currentDiff:s,gameConfig:l,burnedCards:u}=n,d={};switch(e.type){case E:const p=(0,Ue.getRequisitionMultiplier)(l.playerCount,l.subfaction),h=e.value*p;d.requisition=a+h;break;case R:d.requisition=Math.max(0,a-e.value);break;case k:const f=null===l||void 0===l?void 0:l.faction,m=Object.values(ee).filter(e=>e!==f),g=m[Math.floor(Math.random()*m.length)];d.needsSubfactionSelection=!0,d.pendingFaction=g;break;case A:if(null!==i){const t=[...o],n=t[i];n.extraDraftCards=(n.extraDraftCards||0)+e.value,d.players=t}break;case I:d.currentDiff=Math.min(10,s+e.value);break;case P:d.currentDiff=Math.max(1,s-e.value);break;case M:if("choose"===e.targetPlayer&&null!==i){const e=[...o],t=e[i];t.loadout.stratagems.length>0&&t.loadout.stratagems.pop(),d.players=e}break;case D:d.needsBoosterSelection=!0;const y=$e(o,l,n.burnedCards||[]);d.boosterDraft=y,d.boosterOutcome=e,l.burnCards&&y.length>0&&(d.burnBoosterDraft=y);break;case W:if(null!==i){const e=[...o],t=e[i],n=je.filter(e=>e.type===Z.SECONDARY&&!u.includes(e.id)&&"s_peacemaker"!==e.id);if(n.length>0){const r=n[Math.floor(Math.random()*n.length)];t.loadout.secondary=r.id,d.players=e,d.gainedItemName=r.name,l.burnCards&&(d.newBurnedCards=[r.id])}}break;case U:if(null!==i){const e=[...o],t=e[i],n=je.filter(e=>e.type===Z.THROWABLE&&!u.includes(e.id)&&"g_he"!==e.id);if(n.length>0){const r=n[Math.floor(Math.random()*n.length)];t.loadout.grenade=r.id,d.players=e,d.gainedItemName=r.name,l.burnCards&&(d.newBurnedCards=[r.id])}}break;case q:if(e.possibleOutcomes&&e.possibleOutcomes.length>0)if(null===i&&o&&o.length>0){const i=[...o],a=[];o.forEach((o,s)=>{const l=e.possibleOutcomes[Math.floor(Math.random()*e.possibleOutcomes.length)],u=c(c({},n),{},{eventPlayerChoice:s,players:i}),p=Qe(l,t,u,r);p.players&&(i[s]=p.players[s]),p.gainedItemName&&a.push({playerIndex:s,itemName:p.gainedItemName}),p.newBurnedCards&&(d.newBurnedCards||(d.newBurnedCards=[]),d.newBurnedCards.push(...p.newBurnedCards))}),d.players=i,a.length>0&&(d.gainedItems=a)}else{const o=e.possibleOutcomes[Math.floor(Math.random()*e.possibleOutcomes.length)],i=Qe(o,t,n,r);Object.assign(d,i)}break;case j:d.players=Xe(o,i,r);break;case B:const b=et(o[i]);if(d.liquidatedItems=b,b.length>0){const t=Math.ceil(b.length/(e.value||1));d.bonusRequisition=nt(o[i],e.value),d.needsRedraft=!0,d.redraftPlayerIndex=i,d.redraftCount=t;const n=tt(o,i);n[i].redraftRounds=t,d.players=n}break;case L:d.players=rt(o,i,r);break;case z:if("choose"===e.targetPlayer&&null!==i){const e=[...o],t=e[i];t.savedStratagems=[...t.loadout.stratagems],t.loadout.stratagems=[null,null,null,null],t.loadout.primary?t.loadout.secondary=null:t.loadout.primary=null,t.weaponRestricted=!0,d.players=e}break;case F:if(null!==i){const t=Je(o,i,e.value,l,n.burnedCards||[]);d.players=t.players,d.transformedSlots=t.transformedSlots,t.burnedCards.length>0&&(d.newBurnedCards=t.burnedCards)}break;case O:if("choose"===e.targetPlayer&&null!==i){const e=[...o],t=e[i],n=[];if(t.loadout.primary&&n.push({type:"primary",id:t.loadout.primary,slot:"primary"}),t.loadout.secondary&&n.push({type:"secondary",id:t.loadout.secondary,slot:"secondary"}),t.loadout.grenade&&n.push({type:"grenade",id:t.loadout.grenade,slot:"grenade"}),t.loadout.stratagems.forEach((e,t)=>{e&&n.push({type:"stratagem",id:e,slot:t})}),n.length>0){const e=Math.floor(Math.random()*n.length),r=n[e],o=je.find(e=>e.id===r.id);d.removedItemName=o?o.name:"Unknown Item",d.removedItemType=r.type,"stratagem"===r.type?t.loadout.stratagems[r.slot]=null:t.loadout[r.slot]=null;const i=t.inventory.indexOf(r.id);-1!==i&&t.inventory.splice(i,1);const a=Ze(t.loadout,t.inventory);t.loadout=a.loadout,t.inventory=a.inventory}d.players=e}break;case Y:if(o&&o.length>0){const e=[...o],t=je.filter(e=>e.type===Z.ARMOR&&e.armorClass===ue&&!u.includes(e.id));t.length>0&&(e.forEach(e=>{const n=t[Math.floor(Math.random()*t.length)];e.loadout.armor=n.id,e.inventory.includes(n.id)||e.inventory.push(n.id)}),d.players=e,d.needsSpecialDraft=!0,d.specialDraftType="throwable")}break;case H:if(o&&o.length>0){const e=[...o],t=je.filter(e=>e.type===Z.ARMOR&&e.armorClass===pe&&!u.includes(e.id));t.length>0&&(e.forEach(e=>{const n=t[Math.floor(Math.random()*t.length)];e.loadout.armor=n.id,e.inventory.includes(n.id)||e.inventory.push(n.id)}),d.players=e,d.needsSpecialDraft=!0,d.specialDraftType="secondary")}break;case G:if(null!==i&&o&&o.length>0){const e=o[i],t=[...o];t.forEach((t,n)=>{n!==i&&(t.loadout.primary=e.loadout.primary,t.loadout.secondary=e.loadout.secondary,t.loadout.grenade=e.loadout.grenade,t.loadout.armor=e.loadout.armor,t.loadout.stratagems=[...e.loadout.stratagems])}),d.players=t,d.synchronizedLoadout=!0}}return d},Ke=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o={};return t&&t.requiresRequisition&&(o.requisition=Math.max(0,n.requisition-t.requiresRequisition)),e.forEach(e=>{const i=Qe(e,t,c(c({},n),o),r);Object.assign(o,i)}),o},$e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=je.filter(e=>e.type===Z.BOOSTER);if(0===r.length)return[];const o=new Set;if(e.forEach(e=>{e.loadout.booster&&o.add(e.loadout.booster)}),r=r.filter(e=>!o.has(e.id)),t.burnCards&&n.length>0&&(r=r.filter(e=>!n.includes(e.id))),0===r.length)return[];const i=[...r].sort(()=>Math.random()-.5);return i.slice(0,Math.min(2,i.length)).map(e=>e.id)},Xe=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.length<=1||null===t)return e;const{stratagemSelection:r,targetPlayerSelection:o,targetStratagemSelection:i}=n;if(r&&null!==o&&void 0!==o){const t=[...e],{stratagemId:n}=r;if(i){const{stratagemSlotIndex:e}=i;t[o].loadout.stratagems[e]=n,t[o].inventory.includes(n)||t[o].inventory.push(n)}else{const e=Ge(t[o].loadout);-1!==e&&(t[o].loadout.stratagems[e]=n,t[o].inventory.includes(n)||t[o].inventory.push(n))}return t}const a=e[t].loadout.stratagems.filter(e=>null!==e);if(0===a.length)return e;const s=a[Math.floor(Math.random()*a.length)],l=e.map((e,t)=>({player:e,idx:t})).filter((e,n)=>n!==t);if(0===l.length)return e;const c=l[Math.floor(Math.random()*l.length)],u=[...e],d=Ge(u[c.idx].loadout);return-1!==d&&(u[c.idx].loadout.stratagems[d]=s,u[c.idx].inventory.push(s)),u},Je=(e,t,n,r,o)=>{if(null===t)return{players:e,transformedSlots:[],burnedCards:[]};const i=[...e],a=i[t],s=[],l=[],c=r.burnMode,u=[];a.loadout.primary&&u.push({slot:"primary",type:Z.PRIMARY,current:a.loadout.primary}),a.loadout.secondary&&u.push({slot:"secondary",type:Z.SECONDARY,current:a.loadout.secondary}),a.loadout.grenade&&u.push({slot:"grenade",type:Z.GRENADE,current:a.loadout.grenade}),a.loadout.armor&&u.push({slot:"armor",type:Z.ARMOR,current:a.loadout.armor}),a.loadout.booster&&u.push({slot:"booster",type:Z.BOOSTER,current:a.loadout.booster}),a.loadout.stratagems.forEach((e,t)=>{e&&u.push({slot:"stratagem_".concat(t),slotIndex:t,type:Z.STRATAGEM,current:e})});const d=[...u].sort(()=>Math.random()-.5),p=-1===n?d.length:Math.min(n,d.length),h=[...o];for(let f=0;f<p;f++){const e=d[f],t=je.filter(t=>t.type===e.type&&(!c||!h.includes(t.id)));if(t.length>0){const n=t[Math.floor(Math.random()*t.length)],r=je.find(t=>t.id===e.current);"primary"===e.slot?a.loadout.primary=n.id:"secondary"===e.slot?a.loadout.secondary=n.id:"grenade"===e.slot?a.loadout.grenade=n.id:"armor"===e.slot?a.loadout.armor=n.id:"booster"===e.slot?a.loadout.booster=n.id:e.slot.startsWith("stratagem_")&&(a.loadout.stratagems[e.slotIndex]=n.id);const o=a.inventory.indexOf(e.current);-1!==o&&a.inventory.splice(o,1),a.inventory.includes(n.id)||a.inventory.push(n.id),s.push({slot:e.slot,oldItem:r?r.name:"Unknown",newItem:n.name}),c&&!h.includes(n.id)&&(h.push(n.id),l.push(n.id))}}return{players:i,transformedSlots:s,burnedCards:l}},Ze=(e,t)=>{const n=c({},e),r=[...t];return n.armor||(n.armor="a_b01",r.includes("a_b01")||r.push("a_b01")),n.primary||n.secondary||(n.secondary="s_peacemaker",r.includes("s_peacemaker")||r.push("s_peacemaker")),{loadout:n,inventory:r}},et=e=>{if(!e)return[];const t=[];if(e.loadout.primary&&e.loadout.primary!==Le.primary){const n=je.find(t=>t.id===e.loadout.primary);n&&t.push(n.name)}if(e.loadout.secondary&&e.loadout.secondary!==Le.secondary){const n=je.find(t=>t.id===e.loadout.secondary);n&&t.push(n.name)}if(e.loadout.grenade&&e.loadout.grenade!==Le.grenade){const n=je.find(t=>t.id===e.loadout.grenade);n&&t.push(n.name)}if(e.loadout.armor&&e.loadout.armor!==Le.armor){const n=je.find(t=>t.id===e.loadout.armor);n&&t.push(n.name)}return e.loadout.stratagems.forEach(e=>{if(e){const n=je.find(t=>t.id===e);n&&t.push(n.name)}}),e.inventory.forEach(n=>{if(!(n===e.loadout.primary||n===e.loadout.secondary||n===e.loadout.grenade||n===e.loadout.armor||n===e.loadout.booster||e.loadout.stratagems.includes(n))){const e=je.find(e=>e.id===n);e&&t.push(e.name)}}),t},tt=(e,t)=>{if(null===t)return e;const n=e[t],r=[...e],o={primary:Le.primary,secondary:Le.secondary,grenade:Le.grenade,armor:Le.armor,booster:n.loadout.booster,stratagems:[...Le.stratagems]},i=[Le.secondary,Le.grenade,Le.armor].filter(e=>null!==e);n.loadout.booster&&!i.includes(n.loadout.booster)&&i.push(n.loadout.booster);const{loadout:a,inventory:s}=Ze(o,i);return r[t]=c(c({},n),{},{inventory:s,loadout:a}),r},nt=(e,t)=>{if(!e)return 0;const n=e.inventory.length;return Math.ceil(n/(t||1))},rt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.length<=1||null===t)return e;const{stratagemSelection:r,targetPlayerSelection:o,targetStratagemSelection:i}=n;if(r&&null!==o&&void 0!==o&&i){const n=[...e],{stratagemSlotIndex:a}=r,{stratagemSlotIndex:s}=i,l=n[t].loadout.stratagems[a];return n[t].loadout.stratagems[a]=n[o].loadout.stratagems[s],n[o].loadout.stratagems[s]=l,n}if(r&&null!==o&&void 0!==o){const n=[...e],{stratagemSlotIndex:i}=r,a=n[o].loadout.stratagems.map((e,t)=>({stratagem:e,idx:t})).filter(e=>null!==e.stratagem);if(0===a.length)return e;const s=a[0],l=n[t].loadout.stratagems[i];return n[t].loadout.stratagems[i]=n[o].loadout.stratagems[s.idx],n[o].loadout.stratagems[s.idx]=l,n}const a=e[t].loadout.stratagems.map((e,t)=>({stratagem:e,idx:t})).filter(e=>null!==e.stratagem);if(0===a.length)return e;const s=e.map((e,t)=>({player:e,idx:t})).filter((e,n)=>n!==t);if(0===s.length)return e;const l=s[Math.floor(Math.random()*s.length)],c=l.player.loadout.stratagems.map((e,t)=>({stratagem:e,idx:t})).filter(e=>null!==e.stratagem);if(0===c.length)return e;const u=a[Math.floor(Math.random()*a.length)],d=c[Math.floor(Math.random()*c.length)],p=[...e],h=p[t].loadout.stratagems[u.idx];return p[t].loadout.stratagems[u.idx]=p[l.idx].loadout.stratagems[d.idx],p[l.idx].loadout.stratagems[d.idx]=h,p},ot=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e.requiresRequisition&&t<e.requiresRequisition)return!1;if(e.outcomes&&e.outcomes.some(e=>e.type===B)&&n&&null!==r&&n[r]){if(0===et(n[r]).length)return!1}return!0},it=e=>{switch(e.type){case E:return"+".concat(e.value," Requisition");case R:case T:return"-".concat(e.value," Requisition");case k:return"Switch to different theater";case A:return"Draft ".concat(e.value," extra card").concat(e.value>1?"s":"");case I:return"Skip ".concat(e.value," difficulty level").concat(e.value>1?"s":"");case P:return"Replay current difficulty";case M:return"Remove a ".concat(e.value);case D:const t="all"===e.targetPlayer?"(All Helldivers)":"";return"Gain random Booster ".concat(t);case W:return"Gain random Secondary";case U:return"Gain random Throwable";case q:if(e.possibleOutcomes&&e.possibleOutcomes.length>0){return e.possibleOutcomes.map(e=>it(e)).join(" OR ")}return"Random outcome";case O:return"Remove an item";case N:return"Gain specific item";case j:return"Copy stratagem to another Helldiver";case L:return"Swap stratagem with another Helldiver";case z:return"Use only 1 weapon next mission (no stratagems)";case B:return"Redraft: Discard all items, draft ".concat(e.value?Math.ceil(1/e.value):1,"x per discarded");case F:return-1===e.value?"Transform entire loadout randomly":"Transform ".concat(e.value," random item").concat(e.value>1?"s":"");case Y:return"All Helldivers: Random Light Armor + Choose Throwable";case H:return"All Helldivers: Random Heavy Armor + Choose Secondary";case G:return"Duplicate chosen Helldiver's loadout to all";default:return""}},at=e=>e&&0!==e.length?e.map(it).filter(e=>e).join(", "):"No effect",st=e=>!(!e||"single"!==e.targetPlayer||!e.choices)&&e.choices.some(e=>!(!e.outcomes||!Array.isArray(e.outcomes))&&e.outcomes.some(e=>"choose"===e.targetPlayer||!(!e.possibleOutcomes||!Array.isArray(e.possibleOutcomes))&&e.possibleOutcomes.some(e=>"choose"===e.targetPlayer))),lt=e=>{const t=(e=>({phase:e.phase,gameConfig:e.gameConfig,currentDiff:e.currentDiff,requisition:e.requisition,samples:e.samples,burnedCards:e.burnedCards,players:e.players,draftState:e.draftState,eventsEnabled:e.eventsEnabled,currentEvent:e.currentEvent,eventPlayerChoice:e.eventPlayerChoice,seenEvents:e.seenEvents,customSetup:e.customSetup,selectedPlayer:e.selectedPlayer,exportedAt:(new Date).toISOString()}))(e),n=JSON.stringify(t,null,2),r=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download="helldrafters-save-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)},ct={PRIMARY:"#F5C642",PRIMARY_HOVER:"#f7d058",PRIMARY_DARK:"#d4a935",BG_MAIN:"#1a2332",BG_GRADIENT_START:"#1a2332",BG_GRADIENT_END:"#0f1419",CARD_BG:"#283548",CARD_INNER:"#1e293b",CARD_BORDER:"rgba(100, 116, 139, 0.5)",CARD_BORDER_ACTIVE:"#F5C642",TEXT_PRIMARY:"#ffffff",TEXT_SECONDARY:"#cbd5e1",TEXT_MUTED:"#94a3b8",TEXT_DISABLED:"#64748b",ACCENT_BLUE:"#3b82f6",ACCENT_PURPLE:"#a855f7",ACCENT_RED:"#ef4444",ACCENT_GREEN:"#22c55e",COMMON:"#94a3b8",UNCOMMON:"#3b82f6",RARE:"#a855f7",VERYRARE:"#F5C642",TERMINIDS:"#e59f61",AUTOMATONS:"#cf6559",ILLUMINATE:"#b28ac1"},ut={terminid:{PRIMARY:"#e59f61",PRIMARY_HOVER:"#e2914b",SHADOW:"0 4px 16px rgba(229, 159, 97, 0.4)",SHADOW_HOVER:"0 6px 20px rgba(229, 159, 97, 0.5)",GLOW:"0 4px 20px rgba(229, 159, 97, 0.3)"},automaton:{PRIMARY:"#cf6559",PRIMARY_HOVER:"#c95245",SHADOW:"0 4px 16px rgba(207, 101, 89, 0.4)",SHADOW_HOVER:"0 6px 20px rgba(207, 101, 89, 0.5)",GLOW:"0 4px 20px rgba(207, 101, 89, 0.3)"},illuminate:{PRIMARY:"#b28ac1",PRIMARY_HOVER:"#a779b9",SHADOW:"0 4px 16px rgba(178, 138, 193, 0.4)",SHADOW_HOVER:"0 6px 20px rgba(178, 138, 193, 0.5)",GLOW:"0 4px 20px rgba(178, 138, 193, 0.3)"}},dt=e=>ut[e]||ut.terminid,pt={BUTTON_PRIMARY:"0 4px 16px rgba(245, 198, 66, 0.4)",BUTTON_PRIMARY_HOVER:"0 6px 20px rgba(245, 198, 66, 0.5)",CARD:"0 8px 32px rgba(0, 0, 0, 0.4)",GLOW_PRIMARY:"0 4px 20px rgba(245, 198, 66, 0.3)",GLOW_BLUE:"0 4px 20px rgba(59, 130, 246, 0.3)",GLOW_PURPLE:"0 4px 20px rgba(168, 85, 247, 0.3)",GLOW_GREEN:"0 4px 20px rgba(34, 197, 94, 0.3)"},ht="linear-gradient(to right, #5a5142, #6b6052)",ft="linear-gradient(to bottom, #1a2332, #0f1419)",mt="0.05em",gt={PRIMARY:{backgroundColor:ct.PRIMARY,color:"black",border:"2px solid ".concat(ct.PRIMARY),fontWeight:"900",textTransform:"uppercase",letterSpacing:mt,cursor:"pointer",transition:"all 0.2s",boxShadow:pt.BUTTON_PRIMARY},SECONDARY:{backgroundColor:"transparent",color:ct.TEXT_MUTED,border:"2px solid ".concat(ct.CARD_BORDER),fontWeight:"900",textTransform:"uppercase",letterSpacing:mt,cursor:"pointer",transition:"all 0.2s"}};"2px solid ".concat(ct.CARD_BORDER),"1px solid ".concat(ct.CARD_BORDER);var yt=n(579);function bt(e){var t,n;let{currentDiff:r,requisition:o,faction:i,subfaction:a,samples:s,onExport:l,onCancelRun:c}=e;const u=dt(i),d=(null===(t=Ue.SUBFACTION_CONFIG[a])||void 0===t?void 0:t.name)||"Unknown";return(0,yt.jsx)("div",{style:{backgroundColor:"#0f1419",borderBottom:"1px solid ".concat(u.PRIMARY,"4D"),padding:"16px",position:"sticky",top:0,zIndex:10},children:(0,yt.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,yt.jsxs)("div",{style:{backgroundColor:u.PRIMARY,color:"black",padding:"4px 12px",fontWeight:"900",fontSize:"20px",borderRadius:"4px"},children:["D",r]}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("h1",{style:{fontSize:"18px",fontWeight:"bold",textTransform:"uppercase",color:"white",letterSpacing:"1px",margin:0},children:null===(n=ze[r-1])||void 0===n?void 0:n.name}),(0,yt.jsxs)("div",{style:{fontSize:"12px",color:u.PRIMARY,fontFamily:"monospace"},children:["Theater: ",i," - ",d]})]})]}),(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"24px"},children:[(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:u.PRIMARY},children:[(0,yt.jsx)("img",{src:"https://helldivers.wiki.gg/images/Requisition_Slip.svg",alt:"Requisition",style:{width:"20px",height:"20px"}}),(0,yt.jsx)("span",{style:{fontFamily:"monospace",fontWeight:"bold",fontSize:"20px"},children:Math.floor(o)})]}),(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,yt.jsx)("img",{src:"https://helldivers.wiki.gg/images/Common_Sample_Logo.svg",alt:"Common Samples",style:{width:"18px",height:"18px"}}),(0,yt.jsx)("span",{style:{fontFamily:"monospace",fontWeight:"bold",fontSize:"16px",color:"#22c55e"},children:(null===s||void 0===s?void 0:s.common)||0})]}),(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,yt.jsx)("img",{src:"https://helldivers.wiki.gg/images/Rare_Sample_Logo.svg",alt:"Rare Samples",style:{width:"18px",height:"18px"}}),(0,yt.jsx)("span",{style:{fontFamily:"monospace",fontWeight:"bold",fontSize:"16px",color:"#f97316"},children:(null===s||void 0===s?void 0:s.rare)||0})]}),(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,yt.jsx)("img",{src:"https://helldivers.wiki.gg/images/Super_Sample_Logo.svg",alt:"Super Rare Samples",style:{width:"18px",height:"18px"}}),(0,yt.jsx)("span",{style:{fontFamily:"monospace",fontWeight:"bold",fontSize:"16px",color:"#a855f7"},children:(null===s||void 0===s?void 0:s.superRare)||0})]})]}),(0,yt.jsx)("button",{onClick:l,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"rgba(100, 116, 139, 0.3)",color:"#94a3b8",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.5)",e.currentTarget.style.color=u.PRIMARY},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.3)",e.currentTarget.style.color="#94a3b8"},children:"\ud83d\udcbe Export"}),(0,yt.jsxs)("button",{onClick:()=>{window.confirm("Are you sure you want to cancel this run? All progress will be lost.")&&c()},style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"rgba(127, 29, 29, 0.3)",color:"#ef4444",border:"1px solid #7f1d1d",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(127, 29, 29, 0.5)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgba(127, 29, 29, 0.3)",children:[(0,yt.jsx)(v,{size:16}),"Cancel Run"]})]})]})})}const vt=y("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);function _t(){return(0,yt.jsx)("div",{style:{backgroundColor:"transparent",padding:"20px 16px",marginTop:"auto"},children:(0,yt.jsx)("div",{style:{margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,yt.jsxs)("a",{href:"https://ko-fi.com/theinsomnolent",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"rgba(255, 94, 77, 0.1)",color:"#ff5e4d",border:"1px solid rgba(255, 94, 77, 0.3)",borderRadius:"6px",fontSize:"13px",fontWeight:"bold",textDecoration:"none",textTransform:"uppercase",transition:"all 0.2s",letterSpacing:"0.5px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255, 94, 77, 0.2)",e.currentTarget.style.borderColor="#ff5e4d"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255, 94, 77, 0.1)",e.currentTarget.style.borderColor="rgba(255, 94, 77, 0.3)"},children:[(0,yt.jsx)(vt,{size:16}),"Support Our Costs"]})})})}function xt(e){let{currentEvent:t,eventPlayerChoice:n,players:o,currentDiff:i,requisition:a,isHost:s=!0,needsPlayerChoice:l,canAffordChoice:u,formatOutcome:d,formatOutcomes:p,onPlayerChoice:h,onEventChoice:f,onAutoContinue:m,eventStratagemSelection:g,eventTargetPlayerSelection:y,eventTargetStratagemSelection:b,eventBoosterDraft:v,eventBoosterSelection:_,eventSpecialDraft:x,eventSpecialDraftType:w,pendingFaction:E,pendingSubfactionSelection:R,onStratagemSelection:T,onTargetPlayerSelection:k,onTargetStratagemSelection:A,onBoosterSelection:I,onSubfactionSelection:P,onConfirmSubfaction:M,onSpecialDraftSelection:D,onConfirmSelections:O}=e;const N=e=>{const t=je.find(t=>t.id===e);return t?t.name:"Unknown"},z=e=>!(!e||!e.outcomes)&&e.outcomes.some(e=>e.type===L),B=e=>!(!e||!e.outcomes)&&e.outcomes.some(e=>e.type===j),[F,W]=(0,r.useState)(null),[U,q]=(0,r.useState)({}),Y=e=>{(e=>!(!e||!e.outcomes)&&e.outcomes.some(e=>e.type===j||e.type===L))(e)?W(e):f(e)},H=(e,t)=>{if(null===e||void 0===e)return!1;return o[e].loadout.stratagems.includes(t)},G=e=>{if(null===e||void 0===e)return!1;return o[e].loadout.stratagems.some(e=>null===e)},V=(()=>{if(null===n)return[];return o[n].loadout.stratagems.map((e,t)=>({stratagemId:e,stratagemSlotIndex:t,name:N(e)})).filter(e=>null!==e.stratagemId)})(),Q=(()=>{if(null===y||void 0===y)return[];const e=o[y];if(z(F)&&g){const t=o[n];return e.loadout.stratagems.map((e,t)=>({stratagemId:e,stratagemSlotIndex:t,name:N(e)})).filter(e=>{if(null===e.stratagemId)return!1;return!t.loadout.stratagems.some((t,n)=>t===e.stratagemId&&n!==g.stratagemSlotIndex)})}return e.loadout.stratagems.map((e,t)=>({stratagemId:e,stratagemSlotIndex:t,name:N(e)})).filter(e=>null!==e.stratagemId)})(),K=(()=>{if(null===n)return[];const e=o.map((e,t)=>({player:e,idx:t})).filter((e,t)=>t!==n);if(B(F)&&g)return e.filter(e=>{let{player:t,idx:n}=e;const r=H(n,g.stratagemId),o=G(n);return!r||!o});if(z(F)&&g){const t=g.stratagemId;return e.filter(e=>{let{player:n,idx:r}=e;return!H(r,t)})}return e})(),$=B(F)&&null!==y&&!G(y),X=null!==g&&null!==y&&(!z(F)||null!==b)&&(!$||null!==b);return(0,yt.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#1a2332",color:"#e0e0e0",padding:"24px"},children:[(0,yt.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,backgroundColor:"#0f1419",padding:"16px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"2px solid #F5C642",zIndex:100},children:[(0,yt.jsxs)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#F5C642"},children:["EVENT - DIFFICULTY ",i]}),(0,yt.jsx)("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,yt.jsx)("img",{src:"https://helldivers.wiki.gg/images/Requisition_Slip.svg",alt:"Requisition",style:{width:"20px",height:"20px"}}),(0,yt.jsx)("span",{style:{fontWeight:"bold"},children:Math.floor(a)})]})})]}),(0,yt.jsx)("div",{style:{maxWidth:"800px",margin:"100px auto 0",display:"flex",flexDirection:"column",gap:"24px"},children:(0,yt.jsxs)("div",{style:{backgroundColor:"#283548",border:"2px solid #F5C642",borderRadius:"8px",padding:"32px",textAlign:"center"},children:[(0,yt.jsx)("h2",{style:{fontSize:"32px",color:"#F5C642",marginBottom:"16px",fontWeight:"bold"},children:t.name}),(0,yt.jsx)("p",{style:{fontSize:"18px",lineHeight:"1.6",marginBottom:"32px",color:"#b0b0b0"},children:t.description}),l(t)&&null===n&&(0,yt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,yt.jsx)("div",{style:{fontSize:"16px",marginBottom:"12px",color:"#F5C642"},children:s?"Choose a Helldiver:":"Waiting for host to choose a Helldiver..."}),(0,yt.jsx)("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:o.map((e,t)=>(0,yt.jsxs)("button",{onClick:()=>s&&h(t),disabled:!s,style:{padding:"12px 24px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#1a2332",color:"#F5C642",border:"2px solid #F5C642",borderRadius:"4px",cursor:s?"pointer":"not-allowed",opacity:s?1:.6,transition:"all 0.2s"},onMouseEnter:e=>s&&(e.currentTarget.style.backgroundColor="#283548"),onMouseLeave:e=>s&&(e.currentTarget.style.backgroundColor="#1a2332"),children:["HELLDIVER ",t+1]},t))}),t.type===S&&t.choices&&t.choices.length>0&&(0,yt.jsxs)("div",{style:{marginTop:"24px",opacity:.5},children:[(0,yt.jsx)("div",{style:{fontSize:"14px",color:"#64748b",marginBottom:"12px",textAlign:"center"},children:"Available choices (select a Helldiver first):"}),(0,yt.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.choices.map((e,t)=>{const n=p(e.outcomes),r=e.requiresRequisition;return(0,yt.jsxs)("div",{style:{padding:"12px 16px",backgroundColor:"#283548",border:"1px solid #555",borderRadius:"4px",textAlign:"left"},children:[(0,yt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px",color:"#b0b0b0"},children:[(0,yt.jsx)("span",{children:e.text}),r&&(0,yt.jsxs)("span",{style:{fontSize:"12px",fontWeight:"bold"},children:["Costs ",r," requisition"]})]}),(0,yt.jsx)("div",{style:{fontSize:"12px",opacity:.7,fontStyle:"italic",marginTop:"4px",color:"#94a3b8"},children:n})]},t)})})]})]}),F&&(!l(t)||null!==n)&&(0,yt.jsx)("div",{style:{marginBottom:"24px"},children:(0,yt.jsxs)("div",{style:{backgroundColor:"#1f2937",border:"2px solid #F5C642",borderRadius:"8px",padding:"24px",marginBottom:"16px"},children:[F.outcomes.some(e=>e.type===j)&&(0,yt.jsx)("div",{style:{fontSize:"18px",marginBottom:"16px",color:"#F5C642",textAlign:"center"},children:"Select a stratagem to duplicate and a player to receive it:"}),F.outcomes.some(e=>e.type===L)&&(0,yt.jsx)("div",{style:{fontSize:"18px",marginBottom:"16px",color:"#F5C642",textAlign:"center"},children:"Select a stratagem to swap and a player to swap with:"}),(0,yt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,yt.jsx)("div",{style:{fontSize:"14px",marginBottom:"8px",color:"#b0b0b0"},children:"Your Stratagems:"}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"8px"},children:V.map((e,t)=>(0,yt.jsx)("button",{onClick:()=>T({stratagemId:e.stratagemId,stratagemSlotIndex:e.stratagemSlotIndex}),style:{padding:"12px",fontSize:"14px",backgroundColor:(null===g||void 0===g?void 0:g.stratagemId)===e.stratagemId?"#F5C642":"#283548",color:(null===g||void 0===g?void 0:g.stratagemId)===e.stratagemId?"#0f1419":"#e0e0e0",border:"2px solid "+((null===g||void 0===g?void 0:g.stratagemId)===e.stratagemId?"#F5C642":"#555"),borderRadius:"4px",cursor:"pointer",fontWeight:(null===g||void 0===g?void 0:g.stratagemId)===e.stratagemId?"bold":"normal",transition:"all 0.2s",textAlign:"left"},children:e.name},t))})]}),(0,yt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,yt.jsxs)("div",{style:{fontSize:"14px",marginBottom:"8px",color:"#b0b0b0",display:"flex",alignItems:"center",gap:"12px"},children:[(0,yt.jsx)("span",{children:"Target Helldiver:"}),null!==y&&(0,yt.jsx)("button",{onClick:()=>{k(null),A(null)},style:{padding:"4px 12px",fontSize:"12px",fontWeight:"bold",backgroundColor:"#6b7280",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#4b5563",onMouseLeave:e=>e.target.style.backgroundColor="#6b7280",children:"\u2190 Change Target"})]}),(0,yt.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",justifyContent:"center"},children:K.map(e=>{let{player:t,idx:n}=e;return(0,yt.jsxs)("button",{onClick:()=>k(n),style:{padding:"12px 24px",fontSize:"14px",fontWeight:y===n?"bold":"normal",backgroundColor:y===n?"#F5C642":"#283548",color:y===n?"#0f1419":"#e0e0e0",border:"2px solid "+(y===n?"#F5C642":"#555"),borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},children:["HELLDIVER ",n+1]},n)})})]}),(z(F)&&null!==y&&Q.length>0||B(F)&&$&&Q.length>0)&&(0,yt.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,yt.jsx)("div",{style:{fontSize:"14px",marginBottom:"8px",color:"#b0b0b0"},children:z(F)?"Target Helldiver's Stratagems (select one to swap):":"Target Helldiver's Stratagems (select one to overwrite):"}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"8px"},children:Q.map((e,t)=>(0,yt.jsx)("button",{onClick:()=>A({stratagemId:e.stratagemId,stratagemSlotIndex:e.stratagemSlotIndex}),style:{padding:"12px",fontSize:"14px",backgroundColor:(null===b||void 0===b?void 0:b.stratagemId)===e.stratagemId?"#4ade80":"#283548",color:(null===b||void 0===b?void 0:b.stratagemId)===e.stratagemId?"#0f1419":"#e0e0e0",border:"2px solid "+((null===b||void 0===b?void 0:b.stratagemId)===e.stratagemId?"#4ade80":"#555"),borderRadius:"4px",cursor:"pointer",fontWeight:(null===b||void 0===b?void 0:b.stratagemId)===e.stratagemId?"bold":"normal",transition:"all 0.2s",textAlign:"left"},children:e.name},t))})]}),(0,yt.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[(0,yt.jsx)("button",{onClick:()=>{F&&(O(F),W(null))},disabled:!X,style:{padding:"12px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:X?"#4ade80":"#555",color:X?"#0f1419":"#888",border:"none",borderRadius:"4px",cursor:X?"pointer":"not-allowed",transition:"all 0.2s"},onMouseEnter:e=>X&&(e.target.style.backgroundColor="#22c55e"),onMouseLeave:e=>X&&(e.target.style.backgroundColor="#4ade80"),children:"CONFIRM"}),(0,yt.jsx)("button",{onClick:()=>{W(null),T(null),k(null),A(null),I(null)},style:{padding:"12px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#ef4444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#dc2626",onMouseLeave:e=>e.target.style.backgroundColor="#ef4444",children:"CANCEL"})]})]})}),v&&v.length>0&&(0,yt.jsx)("div",{style:{marginBottom:"24px"},children:(0,yt.jsxs)("div",{style:{backgroundColor:"#1f2937",border:"2px solid #F5C642",borderRadius:"8px",padding:"24px",marginBottom:"16px"},children:[(0,yt.jsxs)("div",{style:{fontSize:"18px",marginBottom:"16px",color:"#F5C642",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:[(0,yt.jsx)("span",{children:"Select a Booster:"}),l(t)&&null!==n&&(0,yt.jsx)("button",{onClick:()=>{h(null),I(null)},style:{padding:"6px 14px",fontSize:"12px",fontWeight:"bold",backgroundColor:"#6b7280",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#4b5563",onMouseLeave:e=>e.target.style.backgroundColor="#6b7280",children:"\u2190 Change Helldiver"})]}),(0,yt.jsx)("div",{style:{marginBottom:"20px"},children:(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"12px"},children:v.map((e,t)=>{const n=N(e);return(0,yt.jsx)("button",{onClick:()=>I(e),style:{padding:"16px",fontSize:"15px",backgroundColor:_===e?"#F5C642":"#283548",color:_===e?"#0f1419":"#e0e0e0",border:"2px solid "+(_===e?"#F5C642":"#555"),borderRadius:"4px",cursor:"pointer",fontWeight:_===e?"bold":"normal",transition:"all 0.2s",textAlign:"center"},onMouseEnter:t=>{_!==e&&(t.target.style.backgroundColor="#374151",t.target.style.borderColor="#F5C642")},onMouseLeave:t=>{_!==e&&(t.target.style.backgroundColor="#283548",t.target.style.borderColor="#555")},children:n},t)})})}),(0,yt.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[(0,yt.jsx)("button",{onClick:m,disabled:!_,style:{padding:"12px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:_?"#4ade80":"#555",color:_?"#0f1419":"#888",border:"none",borderRadius:"4px",cursor:_?"pointer":"not-allowed",transition:"all 0.2s"},onMouseEnter:e=>_&&(e.target.style.backgroundColor="#22c55e"),onMouseLeave:e=>_&&(e.target.style.backgroundColor="#4ade80"),children:"CONFIRM"}),(0,yt.jsx)("button",{onClick:m,style:{padding:"12px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#6b7280",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#4b5563",onMouseLeave:e=>e.target.style.backgroundColor="#6b7280",children:"SKIP"})]})]})}),E&&(0,yt.jsx)("div",{style:{marginBottom:"24px"},children:(0,yt.jsxs)("div",{style:{backgroundColor:"#1f2937",border:"2px solid ".concat(dt(E).PRIMARY),borderRadius:"8px",padding:"24px",marginBottom:"16px"},children:[(0,yt.jsxs)("div",{style:{fontSize:"18px",marginBottom:"16px",color:dt(E).PRIMARY,textAlign:"center"},children:["Select Enemy Variant for ",E]}),(0,yt.jsx)("div",{style:{marginBottom:"20px"},children:(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:(0,Ue.getSubfactionsForFaction)(E).map(e=>{const t=Ue.SUBFACTION_CONFIG[e],n=R===e,r=dt(E).PRIMARY;return(0,yt.jsxs)("button",{onClick:()=>P(e),style:{padding:"16px",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",transition:"all 0.2s",fontSize:"13px",letterSpacing:"0.5px",backgroundColor:n?"".concat(r,"15"):"transparent",color:n?r:"#64748b",border:n?"2px solid ".concat(r):"1px solid rgba(100, 116, 139, 0.5)",cursor:"pointer",textAlign:"left"},onMouseEnter:e=>{n||(e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.1)",e.currentTarget.style.color="#94a3b8")},onMouseLeave:e=>{n||(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#64748b")},children:[(0,yt.jsx)("div",{style:{fontSize:"14px",marginBottom:"4px"},children:t.name}),(0,yt.jsxs)("div",{style:{fontSize:"11px",color:n?r:"#64748b",opacity:.8},children:[t.description," \u2022 Req: ",t.reqMultiplier,"x \u2022 Rares: ",t.rareWeightMultiplier,"x"]})]},e)})})}),(0,yt.jsx)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:(0,yt.jsx)("button",{onClick:M,disabled:!R,style:{padding:"12px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:R?"#4ade80":"#555",color:R?"#0f1419":"#888",border:"none",borderRadius:"4px",cursor:R?"pointer":"not-allowed",transition:"all 0.2s"},onMouseEnter:e=>R&&(e.target.style.backgroundColor="#22c55e"),onMouseLeave:e=>R&&(e.target.style.backgroundColor="#4ade80"),children:"CONFIRM"})})]})}),x&&x.length>0&&w&&(0,yt.jsx)("div",{style:{marginBottom:"24px"},children:(0,yt.jsxs)("div",{style:{backgroundColor:"#1f2937",border:"2px solid #F5C642",borderRadius:"8px",padding:"24px",marginBottom:"16px"},children:[(0,yt.jsxs)("div",{style:{fontSize:"18px",marginBottom:"24px",color:"#F5C642",textAlign:"center"},children:["All Helldivers Select: ","throwable"===w?"Throwable":"Secondary Weapon"]}),o.map((e,t)=>(0,yt.jsxs)("div",{style:{marginBottom:"24px",padding:"16px",backgroundColor:"#283548",borderRadius:"8px"},children:[(0,yt.jsxs)("div",{style:{fontSize:"16px",marginBottom:"12px",color:"#F5C642",fontWeight:"bold"},children:["Helldiver ",t+1]}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"8px"},children:x.map(e=>{const n=U[t]===e.id;return(0,yt.jsx)("button",{onClick:()=>{q(n=>c(c({},n),{},{[t]:e.id})),D(t,e.id)},style:{padding:"12px",fontSize:"14px",backgroundColor:n?"#F5C642":"#1f2937",color:n?"#0f1419":"#e0e0e0",border:"2px solid "+(n?"#F5C642":"#555"),borderRadius:"4px",cursor:"pointer",fontWeight:n?"bold":"normal",transition:"all 0.2s",textAlign:"center"},onMouseEnter:e=>{n||(e.target.style.backgroundColor="#374151",e.target.style.borderColor="#F5C642")},onMouseLeave:e=>{n||(e.target.style.backgroundColor="#1f2937",e.target.style.borderColor="#555")},children:e.name},e.id)})})]},t)),(0,yt.jsx)("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"24px"},children:(0,yt.jsx)("button",{onClick:m,disabled:Object.keys(U).length<o.length,style:{padding:"12px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:Object.keys(U).length<o.length?"#555":"#4ade80",color:Object.keys(U).length<o.length?"#888":"#0f1419",border:"none",borderRadius:"4px",cursor:Object.keys(U).length<o.length?"not-allowed":"pointer",transition:"all 0.2s"},onMouseEnter:e=>{Object.keys(U).length>=o.length&&(e.target.style.backgroundColor="#22c55e")},onMouseLeave:e=>{Object.keys(U).length>=o.length&&(e.target.style.backgroundColor="#4ade80")},children:"CONFIRM ALL SELECTIONS"})})]})}),t.type===S&&(!l(t)||null!==n)&&!F&&(0,yt.jsxs)(yt.Fragment,{children:[l(t)&&null!==n&&(0,yt.jsx)("div",{style:{marginBottom:"16px",textAlign:"center"},children:s?(0,yt.jsx)("button",{onClick:()=>h(null),style:{padding:"8px 16px",fontSize:"13px",fontWeight:"bold",backgroundColor:"#6b7280",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#4b5563",onMouseLeave:e=>e.target.style.backgroundColor="#6b7280",children:"\u2190 Change Selected Helldiver"}):(0,yt.jsxs)("div",{style:{fontSize:"13px",color:"#64748b",fontStyle:"italic"},children:["Host selected Helldiver ",n+1]})}),!s&&(0,yt.jsx)("div",{style:{textAlign:"center",marginBottom:"16px",padding:"12px 24px",backgroundColor:"rgba(100, 116, 139, 0.2)",border:"1px solid rgba(100, 116, 139, 0.4)",borderRadius:"4px"},children:(0,yt.jsx)("div",{style:{color:"#94a3b8",fontSize:"14px"},children:"Waiting for host to make a choice..."})}),(0,yt.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",opacity:s?1:.6},children:t.choices.map((e,t)=>{const r=u(e,a,o,n),i=s&&r,l=p(e.outcomes),c=e.requiresRequisition;return(0,yt.jsxs)("button",{onClick:()=>i&&Y(e),disabled:!i,style:{padding:"16px",fontSize:"16px",fontWeight:"bold",backgroundColor:r?"#F5C642":"#555",color:r?"#0f1419":"#888",border:"none",borderRadius:"4px",cursor:i?"pointer":"not-allowed",transition:"all 0.2s",textAlign:"left",display:"flex",flexDirection:"column",gap:"8px"},onMouseEnter:e=>i&&(e.target.style.backgroundColor="#ffd95a"),onMouseLeave:e=>i&&(e.target.style.backgroundColor="#F5C642"),children:[(0,yt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"16px"},children:[(0,yt.jsx)("span",{children:e.text}),c&&(0,yt.jsxs)("span",{style:{fontSize:"13px",fontWeight:"bold",opacity:r?1:.6},children:["Costs ",c," requisition"]})]}),(0,yt.jsx)("div",{style:{fontSize:"13px",fontWeight:"normal",opacity:.85,fontStyle:"italic"},children:l})]},t)})})]}),t.type!==S&&(0,yt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px",alignItems:"center"},children:[t.outcomes&&t.outcomes.length>0&&(0,yt.jsxs)("div",{style:{backgroundColor:"#1f2937",padding:"12px 24px",borderRadius:"4px",border:"1px solid rgba(245, 198, 66, 0.3)"},children:[(0,yt.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px",textTransform:"uppercase"},children:t.type===C?"Possible Outcomes:":"Outcome:"}),(0,yt.jsx)("div",{style:{fontSize:"14px",color:"#F5C642"},children:t.type===C?t.outcomes.map((e,t)=>(0,yt.jsxs)("div",{children:[d(e)," ",e.weight?"(".concat(e.weight,"% chance)"):""]},t)):p(t.outcomes)})]}),s?(0,yt.jsx)("button",{onClick:m,style:{padding:"16px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#F5C642",color:"#0f1419",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#ffd95a",onMouseLeave:e=>e.target.style.backgroundColor="#F5C642",children:"Continue"}):(0,yt.jsx)("div",{style:{padding:"12px 24px",backgroundColor:"rgba(100, 116, 139, 0.2)",border:"1px solid rgba(100, 116, 139, 0.4)",borderRadius:"4px",color:"#94a3b8",fontSize:"14px"},children:"Waiting for host to continue..."})]})]})})]})}const St=y("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Ct=y("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);function wt(e){var t,n,r,o;let{player:i,getItemById:a,getArmorComboDisplayName:s,faction:l,requisition:c,slotLockCost:u,maxLockedSlots:d,onLockSlot:p,onUnlockSlot:h}=e;const f=dt(l);if(!i||!i.loadout)return(0,yt.jsxs)("div",{style:{backgroundColor:"#283548",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.5)",overflow:"hidden"},children:[(0,yt.jsx)("div",{style:{backgroundColor:"#1f2937",padding:"12px",borderBottom:"1px solid rgba(100, 116, 139, 0.5)"},children:(0,yt.jsx)("h3",{style:{fontWeight:"bold",color:"#64748b",margin:0},children:"Loading..."})}),(0,yt.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#64748b"},children:"Waiting for player data..."})]});const m=a(i.loadout.armor),g=m&&s?s(m.passive,m.armorClass,i.inventory):(null===m||void 0===m?void 0:m.name)||"None",y=i.lockedSlots||[],b=(e,t,n)=>{const r=y.includes(n),o=!r&&c>=u&&y.length<d,a=r;return(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,yt.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,yt.jsx)("div",{style:{fontSize:"10px",color:"#64748b",textTransform:"uppercase",marginBottom:"4px"},children:e}),(0,yt.jsx)("div",{style:{fontSize:"Primary"===e?"14px":"12px",fontWeight:"Primary"===e?"bold":"normal",color:"Primary"===e?f.PRIMARY:"Secondary"===e?"white":"#cbd5e1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:t,children:t})]}),p&&h&&(0,yt.jsx)("button",{onClick:()=>r?h(i.id,n):p(i.id,n),disabled:!o&&!a,style:{padding:"4px",backgroundColor:r?"".concat(f.PRIMARY,"20"):"transparent",border:r?"1px solid ".concat(f.PRIMARY):"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"3px",cursor:o||a?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",color:r?f.PRIMARY:o?"#94a3b8":"#334155",transition:"all 0.2s",minWidth:"24px",minHeight:"24px"},onMouseEnter:e=>{(o||a)&&(e.currentTarget.style.borderColor=f.PRIMARY,e.currentTarget.style.color=f.PRIMARY)},onMouseLeave:e=>{(o||a)&&(e.currentTarget.style.borderColor=r?f.PRIMARY:"rgba(100, 116, 139, 0.5)",e.currentTarget.style.color=r?f.PRIMARY:o?"#94a3b8":"#334155")},title:r?"Unlock slot (free)":"Lock slot (".concat(u," Req)"),children:r?(0,yt.jsx)(St,{size:12}):(0,yt.jsx)(Ct,{size:12})})]})};return(0,yt.jsxs)("div",{style:{backgroundColor:"#283548",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.5)",overflow:"hidden"},children:[(0,yt.jsxs)("div",{style:{backgroundColor:"#1f2937",padding:"12px",borderBottom:"1px solid rgba(100, 116, 139, 0.5)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,yt.jsx)("h3",{style:{fontWeight:"bold",color:"#cbd5e1",textTransform:"uppercase",letterSpacing:"1px",margin:0},children:i.name}),(0,yt.jsx)("span",{style:{fontSize:"12px",color:"#64748b"},children:"Loadout Active"})]}),(0,yt.jsxs)("div",{style:{padding:"16px",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[(0,yt.jsx)("div",{style:{gridColumn:"span 2"},children:b("Primary",(null===(t=a(i.loadout.primary))||void 0===t?void 0:t.name)||"None",Z.PRIMARY)}),(0,yt.jsx)("div",{style:{gridColumn:"span 2"},children:b("Secondary",null===(n=a(i.loadout.secondary))||void 0===n?void 0:n.name,Z.SECONDARY)}),(0,yt.jsx)("div",{style:{gridColumn:"span 2"},children:b("Grenade",null===(r=a(i.loadout.grenade))||void 0===r?void 0:r.name,Z.GRENADE)}),(0,yt.jsx)("div",{style:{gridColumn:"span 2"},children:b("Armor",g,Z.ARMOR)}),(0,yt.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,yt.jsx)("div",{style:{fontSize:"10px",color:"#64748b",textTransform:"uppercase",marginBottom:"4px"},children:"Booster"}),(0,yt.jsx)("div",{style:{fontSize:"12px",color:"#cbd5e1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(null===(o=a(i.loadout.booster))||void 0===o?void 0:o.name)||"None"})]}),y.length>0&&(0,yt.jsx)("div",{style:{gridColumn:"span 2"},children:(0,yt.jsxs)("div",{style:{fontSize:"9px",color:f.PRIMARY,backgroundColor:"".concat(f.PRIMARY,"15"),padding:"4px 8px",borderRadius:"3px",border:"1px solid ".concat(f.PRIMARY,"40")},children:["\ud83d\udd12 ",y.length,"/",d," slots locked"]})}),(0,yt.jsxs)("div",{style:{gridColumn:"span 4",marginTop:"8px"},children:[(0,yt.jsx)("div",{style:{fontSize:"10px",color:"#64748b",textTransform:"uppercase",marginBottom:"4px"},children:"Stratagems"}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:(i.loadout.stratagems||[null,null,null,null]).map((e,t)=>{var n;return(0,yt.jsx)("div",{style:{backgroundColor:"#1f2937",height:"64px",borderRadius:"4px",border:"1px solid rgba(71, 85, 105, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"4px",textAlign:"center",position:"relative"},children:e?(0,yt.jsx)("span",{style:{fontSize:"9px",lineHeight:"1.2",color:"white",fontWeight:"600"},children:null===(n=a(e))||void 0===n?void 0:n.name}):(0,yt.jsx)("span",{style:{color:"#334155",fontSize:"12px"},children:"EMPTY"})},t)})})]})]})]})}const Et=y("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),Rt=y("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),Tt="STANDARD",kt="PREMIUM",At="LEGENDARY",It={HELLDIVERS_MOBILIZE:{id:"helldivers_mobilize",name:"Helldivers Mobilize!",type:Tt,order:1,image:"https://helldivers.wiki.gg/images/Helldivers_Mobilize_Warbond_Cover.png"},STEELED_VETERANS:{id:"steeled_veterans",name:"Steeled Veterans",type:kt,order:2,image:"https://helldivers.wiki.gg/images/Steeled_Veterans_Premium_Warbond_Cover.png"},CUTTING_EDGE:{id:"cutting_edge",name:"Cutting Edge",type:kt,order:3,image:"https://helldivers.wiki.gg/images/Cutting_Edge_Premium_Warbond_Cover.png"},DEMOCRATIC_DETONATION:{id:"democratic_detonation",name:"Democratic Detonation",type:kt,order:4,image:"https://helldivers.wiki.gg/images/Democratic_Detonation_Premium_Warbond_Cover.png"},POLAR_PATRIOTS:{id:"polar_patriots",name:"Polar Patriots",type:kt,order:5,image:"https://helldivers.wiki.gg/images/Polar_Patriots_Premium_Warbond_Cover.png"},VIPER_COMMANDOS:{id:"viper_commandos",name:"Viper Commandos",type:kt,order:6,image:"https://helldivers.wiki.gg/images/Viper_Commandos_Premium_Warbond_Cover.png"},FREEDOMS_FLAME:{id:"freedoms_flame",name:"Freedom's Flame",type:kt,order:7,image:"https://helldivers.wiki.gg/images/Freedom%27s_Flame_Premium_Warbond_Cover.png"},CHEMICAL_AGENTS:{id:"chemical_agents",name:"Chemical Agents",type:kt,order:8,image:"https://helldivers.wiki.gg/images/Chemical_Agents_Premium_Warbond_Cover.png"},TRUTH_ENFORCERS:{id:"truth_enforcers",name:"Truth Enforcers",type:kt,order:9,image:"https://helldivers.wiki.gg/images/Truth_Enforcers_Premium_Warbond_Cover.png"},URBAN_LEGENDS:{id:"urban_legends",name:"Urban Legends",type:kt,order:10,image:"https://helldivers.wiki.gg/images/Urban_Legends_Premium_Warbond_Cover.png"},SERVANTS_OF_FREEDOM:{id:"servants_of_freedom",name:"Servants of Freedom",type:kt,order:11,image:"https://helldivers.wiki.gg/images/Servants_of_Freedom_Premium_Warbond_Cover.png"},BORDERLINE_JUSTICE:{id:"borderline_justice",name:"Borderline Justice",type:kt,order:12,image:"https://helldivers.wiki.gg/images/Borderline_Justice_Premium_Warbond_Cover.png"},MASTERS_OF_CEREMONY:{id:"masters_of_ceremony",name:"Masters of Ceremony",type:kt,order:13,image:"https://helldivers.wiki.gg/images/Masters_of_Ceremony_Premium_Warbond_Cover.png"},FORCE_OF_LAW:{id:"force_of_law",name:"Force of Law",type:kt,order:14,image:"https://helldivers.wiki.gg/images/thumb/Force_of_Law_Premium_Warbond_Cover.png/1920px-Force_of_Law_Premium_Warbond_Cover.png"},CONTROL_GROUP:{id:"control_group",name:"Control Group",type:kt,order:15,image:"https://helldivers.wiki.gg/images/thumb/Control_Group_Premium_Warbond_Cover.png/1920px-Control_Group_Premium_Warbond_Cover.png"},DUST_DEVILS:{id:"dust_devils",name:"Dust Devils",type:kt,order:16,image:"https://helldivers.wiki.gg/images/thumb/Dust_Devils_Premium_Warbond_Cover.png/1920px-Dust_Devils_Premium_Warbond_Cover.png"},PYTHON_COMMANDOS:{id:"python_commandos",name:"Python Commandos",type:kt,order:17,image:"https://helldivers.wiki.gg/images/thumb/Python_Commandos_Premium_Warbond_Cover.png/1920px-Python_Commandos_Premium_Warbond_Cover.png"},OBEDIENT_DEMOCRACY:{id:"obedient_democracy",name:"Obedient Democracy Support Troopers",type:At,order:18,image:"https://helldivers.wiki.gg/images/thumb/Halo_ODST_Legendary_Warbond_Cover.png/1920px-Halo_ODST_Legendary_Warbond_Cover.png"},RIGHTEOUS_REVENANTS:{id:"righteous_revenants",name:"Righteous Revenants",type:At,order:19,image:"https://helldivers.wiki.gg/images/Righteous_Revenants_Legendary_Warbond_Cover.png"}},Pt=[It.HELLDIVERS_MOBILIZE.id],Mt=!1,Dt=!1,Ot="${JSCORE_VERSION}",Nt=function(e,t){if(!e)throw jt(t)},jt=function(e){return new Error("Firebase Database ("+Ot+") INTERNAL ASSERT FAILED: "+e)},Lt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},zt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],i=o+1<e.length,a=i?e[o+1]:0,s=o+2<e.length,l=s?e[o+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,p=63&l;s||(p=64,i||(d=64)),r.push(n[c],n[u],n[d],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Lt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&i)}else if(o>239&&o<365){const i=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(i>>10)),t[r++]=String.fromCharCode(56320+(1023&i))}else{const i=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&i)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],i=o<e.length?n[e.charAt(o)]:0;++o;const a=o<e.length?n[e.charAt(o)]:64;++o;const s=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==i||null==a||null==s)throw new Bt;const l=t<<2|i>>4;if(r.push(l),64!==a){const e=i<<4&240|a>>2;if(r.push(e),64!==s){const e=a<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Bt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ft=function(e){const t=Lt(e);return zt.encodeByteArray(t,!0)},Wt=function(e){return Ft(e).replace(/\./g,"")},Ut=function(e){try{return zt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qt(e){return Yt(void 0,e)}function Yt(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Ht(n)&&(e[n]=Yt(e[n],t[n]));return e}function Ht(e){return"__proto__"!==e}const Gt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Vt=()=>{try{return Gt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/helldrafters",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_TIME:"2026-01-18T16:57:36+11:00",REACT_APP_COMMIT_SHA:"ac275b9659f17adf442823c84c2a30d3d930d855",REACT_APP_FIREBASE_API_KEY:"AIzaSyARJLpsPz2mv9BMnOU5kOO9bPfw7XcCLqA",REACT_APP_FIREBASE_AUTH_DOMAIN:"helldrafters.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://helldrafters-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_PROJECT_ID:"helldrafters",REACT_APP_FIREBASE_STORAGE_BUCKET:"helldrafters.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"939935234211",REACT_APP_FIREBASE_APP_ID:"1:939935234211:web:714e4ab600a05445116716"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ut(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Qt=e=>{const t=(e=>{var t;return null===(t=Vt())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Kt=()=>{var e;return null===(e=Vt())||void 0===e?void 0:e.config};class $t{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function Xt(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const Jt={};let Zt=!1;function en(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Xt(window.location.host)||Jt[e]===t||Jt[e]||Zt)return;function n(e){return"__firebase__banner__".concat(e)}Jt[e]=t;const r="__firebase__banner",o=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Jt))Jt[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function i(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Zt=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),a=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=i();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}o?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}function tn(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function nn(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function rn(){return!0===Mt||!0===Dt}class on extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,on.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}}class an{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],o=r?function(e,t){return e.replace(sn,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",i="".concat(this.serviceName,": ").concat(o," (").concat(n,").");return new on(n,i,t)}}const sn=/\{\$([^}]+)}/g;function ln(e){return JSON.parse(e)}function cn(e){return JSON.stringify(e)}const un=function(e){let t={},n={},r={},o="";try{const i=e.split(".");t=ln(Ut(i[0])||""),n=ln(Ut(i[1])||""),o=i[2],r=n.d||{},delete n.d}catch(i){}return{header:t,claims:n,data:r,signature:o}};function dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function pn(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function hn(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function fn(e,t,n){const r={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}function mn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],i=t[o];if(gn(n)&&gn(i)){if(!mn(n,i))return!1}else if(n!==i)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function gn(e){return null!==e&&"object"===typeof e}class yn{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,o,i=this.chain_[0],a=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^a&(s^l),o=1518500249):(r=a^s^l,o=1859775393):u<60?(r=a&s|l&(a|s),o=2400959708):(r=a^s^l,o=3395469782);const e=(i<<5|i>>>27)+r+c+o+n[u]&4294967295;c=l,l=s,s=4294967295&(a<<30|a>>>2),a=i,i=e}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const o=this.buf_;let i=this.inbuf_;for(;r<t;){if(0===i)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[i]=e.charCodeAt(r),++i,++r,i===this.blockSize){this.compress_(o),i=0;break}}else for(;r<t;)if(o[i]=e[r],++i,++r,i===this.blockSize){this.compress_(o),i=0;break}}this.inbuf_=i,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function bn(e,t){return"".concat(e," failed: ").concat(t," argument ")}const vn=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function _n(e){return e&&e._delegate?e._delegate:e}class xn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Sn="[DEFAULT]";class Cn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new $t;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Sn})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,i]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&i.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const i=this.instances.get(r);return i&&e(i,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(o=t,o===Sn?void 0:o),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}var o;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sn;return this.component?this.component.multipleInstances?e:Sn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class wn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Cn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const En=[];var Rn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Rn||(Rn={}));const Tn={debug:Rn.DEBUG,verbose:Rn.VERBOSE,info:Rn.INFO,warn:Rn.WARN,error:Rn.ERROR,silent:Rn.SILENT},kn=Rn.INFO,An={[Rn.DEBUG]:"log",[Rn.VERBOSE]:"log",[Rn.INFO]:"info",[Rn.WARN]:"warn",[Rn.ERROR]:"error"},In=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=An[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,i=new Array(o>2?o-2:0),a=2;a<o;a++)i[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...i)};class Pn{constructor(e){this.name=e,this._logLevel=kn,this._logHandler=In,this._userLogHandler=null,En.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rn))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Tn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Rn.DEBUG,...t),this._logHandler(this,Rn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Rn.VERBOSE,...t),this._logHandler(this,Rn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Rn.INFO,...t),this._logHandler(this,Rn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Rn.WARN,...t),this._logHandler(this,Rn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Rn.ERROR,...t),this._logHandler(this,Rn.ERROR,...t)}}let Mn,Dn;const On=new WeakMap,Nn=new WeakMap,jn=new WeakMap,Ln=new WeakMap,zn=new WeakMap;let Bn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Nn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||jn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Un(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Fn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Dn||(Dn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qn(this),n),Un(On.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Un(e.apply(qn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const i=e.call(qn(this),t,...r);return jn.set(i,t.sort?t.sort():[t]),Un(i)}}function Wn(e){return"function"===typeof e?Fn(e):(e instanceof IDBTransaction&&function(e){if(Nn.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",i),e.removeEventListener("abort",i)},o=()=>{t(),r()},i=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",i),e.addEventListener("abort",i)});Nn.set(e,t)}(e),t=e,(Mn||(Mn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Bn):e);var t}function Un(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",i)},o=()=>{t(Un(e.result)),r()},i=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",i)});return t.then(t=>{t instanceof IDBCursor&&On.set(t,e)}).catch(()=>{}),zn.set(t,e),t}(e);if(Ln.has(e))return Ln.get(e);const t=Wn(e);return t!==e&&(Ln.set(e,t),zn.set(t,e)),t}const qn=e=>zn.get(e);const Yn=["get","getKey","getAll","getAllKeys","count"],Hn=["put","add","delete","clear"],Gn=new Map;function Vn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Gn.get(t))return Gn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=Hn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!Yn.includes(n))return;const i=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let i=t.store;for(var a=arguments.length,s=new Array(a>1?a-1:0),l=1;l<a;l++)s[l-1]=arguments[l];return r&&(i=i.index(s.shift())),(await Promise.all([i[n](...s),o&&t.done]))[0]};return Gn.set(t,i),i}Bn=(e=>c(c({},e),{},{get:(t,n,r)=>Vn(t,n)||e.get(t,n,r),has:(t,n)=>!!Vn(t,n)||e.has(t,n)}))(Bn);class Qn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const Kn="@firebase/app",$n="0.14.7",Xn=new Pn("@firebase/app"),Jn="@firebase/app-compat",Zn="@firebase/analytics-compat",er="@firebase/analytics",tr="@firebase/app-check-compat",nr="@firebase/app-check",rr="@firebase/auth",or="@firebase/auth-compat",ir="@firebase/database",ar="@firebase/data-connect",sr="@firebase/database-compat",lr="@firebase/functions",cr="@firebase/functions-compat",ur="@firebase/installations",dr="@firebase/installations-compat",pr="@firebase/messaging",hr="@firebase/messaging-compat",fr="@firebase/performance",mr="@firebase/performance-compat",gr="@firebase/remote-config",yr="@firebase/remote-config-compat",br="@firebase/storage",vr="@firebase/storage-compat",_r="@firebase/firestore",xr="@firebase/ai",Sr="@firebase/firestore-compat",Cr="firebase",wr="[DEFAULT]",Er={[Kn]:"fire-core",[Jn]:"fire-core-compat",[er]:"fire-analytics",[Zn]:"fire-analytics-compat",[nr]:"fire-app-check",[tr]:"fire-app-check-compat",[rr]:"fire-auth",[or]:"fire-auth-compat",[ir]:"fire-rtdb",[ar]:"fire-data-connect",[sr]:"fire-rtdb-compat",[lr]:"fire-fn",[cr]:"fire-fn-compat",[ur]:"fire-iid",[dr]:"fire-iid-compat",[pr]:"fire-fcm",[hr]:"fire-fcm-compat",[fr]:"fire-perf",[mr]:"fire-perf-compat",[gr]:"fire-rc",[yr]:"fire-rc-compat",[br]:"fire-gcs",[vr]:"fire-gcs-compat",[_r]:"fire-fst",[Sr]:"fire-fst-compat",[xr]:"fire-vertex","fire-js":"fire-js",[Cr]:"fire-js-all"},Rr=new Map,Tr=new Map,kr=new Map;function Ar(e,t){try{e.container.addComponent(t)}catch(n){Xn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ir(e){const t=e.name;if(kr.has(t))return Xn.debug("There were multiple attempts to register component ".concat(t,".")),!1;kr.set(t,e);for(const n of Rr.values())Ar(n,e);for(const n of Tr.values())Ar(n,e);return!0}function Pr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Mr=new an("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Dr{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}function Or(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:wr,automaticDataCollectionEnabled:!0},t),o=r.name;if("string"!==typeof o||!o)throw Mr.create("bad-app-name",{appName:String(o)});if(n||(n=Kt()),!n)throw Mr.create("no-options");const i=Rr.get(o);if(i){if(mn(n,i.options)&&mn(r,i.config))return i;throw Mr.create("duplicate-app",{appName:o})}const a=new wn(o);for(const l of kr.values())a.addComponent(l);const s=new Dr(n,r,a);return Rr.set(o,s),s}function Nr(e,t,n){var r;let o=null!==(r=Er[e])&&void 0!==r?r:e;n&&(o+="-".concat(n));const i=o.match(/\s|\//),a=t.match(/\s|\//);if(i||a){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return i&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),i&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Xn.warn(e.join(" "))}Ir(new xn("".concat(o,"-version"),()=>({library:o,version:t}),"VERSION"))}const jr="firebase-heartbeat-store";let Lr=null;function zr(){return Lr||(Lr=function(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),s=Un(a);return r&&a.addEventListener("upgradeneeded",e=>{r(Un(a.result),e.oldVersion,e.newVersion,Un(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{i&&e.addEventListener("close",()=>i()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(jr)}catch(n){console.warn(n)}}}).catch(e=>{throw Mr.create("idb-open",{originalErrorMessage:e.message})})),Lr}async function Br(e,t){try{const n=(await zr()).transaction(jr,"readwrite"),r=n.objectStore(jr);await r.put(t,Fr(e)),await n.done}catch(n){if(n instanceof on)Xn.warn(n.message);else{const e=Mr.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Xn.warn(e.message)}}}function Fr(e){return"".concat(e.name,"!").concat(e.options.appId)}class Wr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new qr(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ur();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Xn.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Ur(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),Yr(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Yr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=Wt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Xn.warn(t),""}}}function Ur(){return(new Date).toISOString().substring(0,10)}class qr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"===typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(uo){t(uo)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await zr()).transaction(jr),n=await t.objectStore(jr).get(Fr(e));return await t.done,n}catch(t){if(t instanceof on)Xn.warn(t.message);else{const e=Mr.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Xn.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Br(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return Br(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Yr(e){return Wt(JSON.stringify({version:2,heartbeats:e})).length}var Hr;Hr="",Ir(new xn("platform-logger",e=>new Qn(e),"PRIVATE")),Ir(new xn("heartbeat",e=>new Wr(e),"PRIVATE")),Nr(Kn,$n,Hr),Nr(Kn,$n,"esm2020"),Nr("fire-js","");Nr("firebase","12.8.0","app");const Gr="@firebase/database",Vr="1.1.0";let Qr="";function Kr(e){Qr=e}class $r{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),cn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:ln(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Xr{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return dn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Jr=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new $r(t)}}catch(t){}return new Xr},Zr=Jr("localStorage"),eo=Jr("sessionStorage"),to=new Pn("@firebase/database"),no=function(){let e=1;return function(){return e++}}(),ro=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const t=o-55296;r++,Nt(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}(e),n=new yn;n.update(t);const r=n.digest();return zt.encodeByteArray(r)},oo=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=oo.apply(null,n):e+="object"===typeof n?cn(n):n,e+=" "}return e};let io=null,ao=!0;const so=function(e,t){Nt(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(to.logLevel=Rn.VERBOSE,io=to.log.bind(to),t&&eo.set("logging_enabled",!0)):"function"===typeof e?io=e:(io=null,eo.remove("logging_enabled"))},lo=function(){if(!0===ao&&(ao=!1,null===io&&!0===eo.get("logging_enabled")&&so(!0)),io){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=oo.apply(null,t);io(r)}},co=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];lo(e,...n)}},uo=function(){const e="FIREBASE INTERNAL ERROR: "+oo(...arguments);to.error(e)},po=function(){const e="FIREBASE FATAL ERROR: ".concat(oo(...arguments));throw to.error(e),new Error(e)},ho=function(){const e="FIREBASE WARNING: "+oo(...arguments);to.warn(e)},fo=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},mo="[MIN_NAME]",go="[MAX_NAME]",yo=function(e,t){if(e===t)return 0;if(e===mo||t===go)return-1;if(t===mo||e===go)return 1;{const n=Eo(e),r=Eo(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},bo=function(e,t){return e===t?0:e<t?-1:1},vo=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+cn(t))},_o=function(e){if("object"!==typeof e||null===e)return cn(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=cn(t[r]),n+=":",n+=_o(e[t[r]]);return n+="}",n},xo=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function So(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const Co=function(e){Nt(!fo(e),"Invalid JSON number");const t=1023;let n,r,o,i,a;0===e?(r=0,o=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=i+t,o=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(r=0,o=Math.round(e/Math.pow(2,-1074))));const s=[];for(a=52;a;a-=1)s.push(o%2?1:0),o=Math.floor(o/2);for(a=11;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);s.push(n?1:0),s.reverse();const l=s.join("");let c="";for(a=0;a<64;a+=8){let e=parseInt(l.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const wo=new RegExp("^-?(0*)\\d{1,10}$"),Eo=function(e){if(wo.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},Ro=function(e){try{e()}catch(t){setTimeout(()=>{const e=t.stack||"";throw ho("Exception was thrown by user callback.",e),t},Math.floor(0))}},To=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class ko{constructor(e,t){var n;this.appCheckProvider=t,this.appName=e.name,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){ho('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class Ao{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(lo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ho(e)}}class Io{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Io.OWNER="owner";const Po="5",Mo=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Do="ac",Oo="websocket",No="long_polling";class jo{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",a=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=i,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=s,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zr.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Zr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Lo(e,t,n){let r;if(Nt("string"===typeof t,"typeof type must == string"),Nt("object"===typeof n,"typeof params must == object"),t===Oo)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==No)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const o=[];return So(n,(e,t)=>{o.push(e+"="+t)}),r+o.join("&")}class zo{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;dn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return qt(this.counters_)}}const Bo={},Fo={};function Wo(e){const t=e.toString();return Bo[t]||(Bo[t]=new zo),Bo[t]}class Uo{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&Ro(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const qo="start";class Yo{constructor(e,t,n,r,o,i,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=i,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=co(e),this.stats_=Wo(t),this.urlFn=e=>(this.appCheckToken&&(e[Do]=this.appCheckToken),Lo(t,No,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Uo(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(rn()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ho(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i,a,s,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===qo)n.id=i,n.password=a;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,i]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,i)},()=>{this.onClosed_()},this.urlFn);const e={};e[qo]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=Po,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[Do]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&Mo.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yo.forceAllow_=!0}static forceDisallow(){Yo.forceDisallow_=!0}static isAvailable(){return!rn()&&(!!Yo.forceAllow_||!Yo.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=cn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Ft(t),r=xo(n,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(rn())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=cn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Ho{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,rn())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=no(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Ho.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(o){lo("frame writing exception"),o.stack&&lo(o.stack),lo(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||lo("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){rn()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{lo("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let Go=null;"undefined"!==typeof MozWebSocket?Go=MozWebSocket:"undefined"!==typeof WebSocket&&(Go=WebSocket);class Vo{constructor(e,t,n,r,o,i,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=co(this.connId),this.stats_=Wo(t),this.connURL=Vo.connectionURL_(t,i,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,o){const i={};return i.v=Po,!rn()&&"undefined"!==typeof location&&location.hostname&&Mo.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i[Do]=r),o&&(i.p=o),Lo(e,Oo,i)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zr.set("previous_websocket_failure",!0);try{let e;if(rn()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(Po,"/").concat(Qr,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/helldrafters",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_TIME:"2026-01-18T16:57:36+11:00",REACT_APP_COMMIT_SHA:"ac275b9659f17adf442823c84c2a30d3d930d855",REACT_APP_FIREBASE_API_KEY:"AIzaSyARJLpsPz2mv9BMnOU5kOO9bPfw7XcCLqA",REACT_APP_FIREBASE_AUTH_DOMAIN:"helldrafters.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://helldrafters-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_PROJECT_ID:"helldrafters",REACT_APP_FIREBASE_STORAGE_BUCKET:"helldrafters.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"939935234211",REACT_APP_FIREBASE_APP_ID:"1:939935234211:web:714e4ab600a05445116716"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Go(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Vo.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Go&&!Vo.forceDisallow_}static previouslyFailed(){return Zr.isInMemoryStorage||!0===Zr.get("previous_websocket_failure")}markConnectionHealthy(){Zr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=ln(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Nt(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=cn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=xo(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Vo.responsesRequiredToBeHealthy=2,Vo.healthyTimeout=3e4;class Qo{static get ALL_TRANSPORTS(){return[Yo,Vo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Vo&&Vo.isAvailable();let n=t&&!Vo.previouslyFailed();if(e.webSocketOnly&&(t||ho("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Vo];else{const e=this.transports_=[];for(const t of Qo.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Qo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Qo.globalTransportInitialized_=!1;class Ko{constructor(e,t,n,r,o,i,a,s,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=i,this.onReady_=a,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=co("c:"+this.id+":"),this.transportManager_=new Qo(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=To(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=vo("t",e),n=vo("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=vo("t",e),n=vo("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=vo("t",e);if("d"in e){const n=e.d;if("h"===t){const e=c({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?uo("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uo("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Po!==n&&ho("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),To(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):To(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class $o{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Xo{constructor(e){this.allowedEvents_=e,this.listeners_={},Nt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<o.length;e++)o[e].callback.apply(o[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!n||n===r[o].context))return void r.splice(o,1)}validateEventType_(e){Nt(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Jo extends Xo{static getInstance(){return new Jo}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||nn()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return Nt("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Zo{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function ei(){return new Zo("")}function ti(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ni(e){return e.pieces_.length-e.pieceNum_}function ri(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Zo(e.pieces_,t)}function oi(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function ii(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function ai(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Zo(t,0)}function si(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Zo)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Zo(n,0)}function li(e){return e.pieceNum_>=e.pieces_.length}function ci(e,t){const n=ti(e),r=ti(t);if(null===n)return t;if(n===r)return ci(ri(e),ri(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function ui(e,t){const n=ii(e,0),r=ii(t,0);for(let o=0;o<n.length&&o<r.length;o++){const e=yo(n[o],r[o]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function di(e,t){if(ni(e)!==ni(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function pi(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ni(e)>ni(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class hi{constructor(e,t){this.errorPrefix_=t,this.parts_=ii(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=vn(this.parts_[n]);fi(this)}}function fi(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+mi(e))}function mi(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class gi extends Xo{static getInstance(){return new gi}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return Nt("visible"===e,"Unknown event type: "+e),[this.visible_]}}const yi=1e3;class bi extends $o{constructor(e,t,n,r,o,i,a,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.authOverride_=s,this.id=bi.nextPersistentConnectionId_++,this.log_=co("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yi,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s&&!rn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gi.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Jo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(cn(o)),Nt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new $t,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const o=e._queryIdentifier,i=e._path.toString();this.log_("Listen called for "+i+" "+o),this.listens.has(i)||this.listens.set(i,new Map),Nt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Nt(!this.listens.get(i).has(o),"listen() called twice for same path/queryId.");const a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(i).set(o,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const o={p:n};e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,o=>{const i=o.d,a=o.s;bi.warnOnListenWarnings_(i,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",o),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,i))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&dn(e,"w")){const n=pn(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();ho("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=un(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=un(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Nt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e};r&&(o.q=n,o.t=r),this.sendRequest("n",o)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const o={p:t,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,o){this.initConnection_();const i={p:t,d:n};void 0!==o&&(i.h=o),this.outstandingPuts_.push({action:e,request:i,onComplete:r}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+cn(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):uo("Unrecognized action received from server: "+cn(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Nt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=yi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yi),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+bi.nextConnectionId_++,o=this.lastSessionId;let i=!1,a=null;const s=function(){a?a.close():(i=!0,n())},l=function(e){Nt(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)};this.realtime_={close:s,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);i?lo("getToken() completed but was canceled"):(lo("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,a=new Ko(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{ho(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},o))}catch(uo){this.log_("Failed to get token: "+uo),i||(this.repoInfo_.nodeAdmin&&ho(uo),s())}}}interrupt(e){lo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],hn(this.interruptReasons_)&&(this.reconnectDelay_=yi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>_o(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Zo(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){lo("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){lo("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";rn()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Qr.replace(/\./g,"-")]=1,nn()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Jo.getInstance().currentlyOnline();return hn(this.interruptReasons_)&&e}}bi.nextPersistentConnectionId_=0,bi.nextConnectionId_=0;class vi{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new vi(e,t)}}class _i{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new vi(mo,e),r=new vi(mo,t);return 0!==this.compare(n,r)}minPost(){return vi.MIN}}let xi;class Si extends _i{static get __EMPTY_NODE(){return xi}static set __EMPTY_NODE(e){xi=e}compare(e,t){return yo(e.name,t.name)}isDefinedOn(e){throw jt("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return vi.MIN}maxPost(){return new vi(go,xi)}makePost(e,t){return Nt("string"===typeof e,"KeyIndex indexValue must always be a string."),new vi(e,xi)}toString(){return".key"}}const Ci=new Si;class wi{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse_?e.left:e.right;else{if(0===i){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ei{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:Ei.RED,this.left=null!=r?r:Ri.EMPTY_NODE,this.right=null!=o?o:Ri.EMPTY_NODE}copy(e,t,n,r,o){return new Ei(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ri.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ri.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ei.RED=!0,Ei.BLACK=!1;class Ri{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ri.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new Ri(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ei.BLACK,null,null))}remove(e){return new Ri(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ei.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new wi(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new wi(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new wi(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new wi(this.root_,null,this.comparator_,!0,e)}}function Ti(e,t){return yo(e.name,t.name)}function ki(e,t){return yo(e,t)}let Ai;Ri.EMPTY_NODE=new class{copy(e,t,n,r,o){return this}insert(e,t,n){return new Ei(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Ii=function(e){return"number"===typeof e?"number:"+Co(e):"string:"+e},Pi=function(e){if(e.isLeafNode()){const t=e.val();Nt("string"===typeof t||"number"===typeof t||"object"===typeof t&&dn(t,".sv"),"Priority must be a string or number.")}else Nt(e===Ai||e.isEmpty(),"priority of unexpected type.");Nt(e===Ai||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Mi,Di,Oi;class Ni{static set __childrenNodeConstructor(e){Mi=e}static get __childrenNodeConstructor(){return Mi}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ni.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Nt(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Pi(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ni(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:Ni.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return li(e)?this:".priority"===ti(e)?this.priorityNode_:Ni.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:Ni.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=ti(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Nt(".priority"!==n||1===ni(e),".priority must be the last token in a path"),this.updateImmediateChild(n,Ni.__childrenNodeConstructor.EMPTY_NODE.updateChild(ri(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ii(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?Co(this.value_):this.value_,this.lazyHash_=ro(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ni.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ni.__childrenNodeConstructor?-1:(Nt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=Ni.VALUE_TYPE_ORDER.indexOf(t),o=Ni.VALUE_TYPE_ORDER.indexOf(n);return Nt(r>=0,"Unknown leaf type: "+t),Nt(o>=0,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}Ni.VALUE_TYPE_ORDER=["object","boolean","number","string"];const ji=new class extends _i{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?yo(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return vi.MIN}maxPost(){return new vi(go,new Ni("[PRIORITY-POST]",Oi))}makePost(e,t){const n=Di(e);return new vi(t,new Ni("[PRIORITY-POST]",n))}toString(){return".priority"}},Li=Math.log(2);class zi{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Li,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Bi=function(e,t,n,r){e.sort(t);const o=function(t,r){const i=r-t;let a,s;if(0===i)return null;if(1===i)return a=e[t],s=n?n(a):a,new Ei(s,a.node,Ei.BLACK,null,null);{const l=parseInt(i/2,10)+t,c=o(t,l),u=o(l+1,r);return a=e[l],s=n?n(a):a,new Ei(s,a.node,Ei.BLACK,c,u)}},i=function(t){let r=null,i=null,a=e.length;const s=function(t,r){const i=a-t,s=a;a-=t;const c=o(i+1,s),u=e[i],d=n?n(u):u;l(new Ei(d,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(i=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,Ei.BLACK):(s(r,Ei.BLACK),s(r,Ei.RED))}return i}(new zi(e.length));return new Ri(r||t,i)};let Fi;const Wi={};class Ui{static get Default(){return Nt(Wi&&ji,"ChildrenNode.ts has not been loaded"),Fi=Fi||new Ui({".priority":Wi},{".priority":ji}),Fi}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=pn(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ri?t:null}hasIndex(e){return dn(this.indexSet_,e.toString())}addIndex(e,t){Nt(e!==Ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=t.getIterator(vi.Wrap);let i,a=o.getNext();for(;a;)r=r||e.isDefinedOn(a.node),n.push(a),a=o.getNext();i=r?Bi(n,e.getCompare()):Wi;const s=e.toString(),l=c({},this.indexSet_);l[s]=e;const u=c({},this.indexes_);return u[s]=i,new Ui(u,l)}addToIndexes(e,t){const n=fn(this.indexes_,(n,r)=>{const o=pn(this.indexSet_,r);if(Nt(o,"Missing index implementation for "+r),n===Wi){if(o.isDefinedOn(e.node)){const n=[],r=t.getIterator(vi.Wrap);let i=r.getNext();for(;i;)i.name!==e.name&&n.push(i),i=r.getNext();return n.push(e),Bi(n,o.getCompare())}return Wi}{const r=t.get(e.name);let o=n;return r&&(o=o.remove(new vi(e.name,r))),o.insert(e,e.node)}});return new Ui(n,this.indexSet_)}removeFromIndexes(e,t){const n=fn(this.indexes_,n=>{if(n===Wi)return n;{const r=t.get(e.name);return r?n.remove(new vi(e.name,r)):n}});return new Ui(n,this.indexSet_)}}let qi;class Yi{static get EMPTY_NODE(){return qi||(qi=new Yi(new Ri(ki),null,Ui.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Pi(this.priorityNode_),this.children_.isEmpty()&&Nt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qi}updatePriority(e){return this.children_.isEmpty()?this:new Yi(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?qi:t}}getChild(e){const t=ti(e);return null===t?this:this.getImmediateChild(t).getChild(ri(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Nt(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new vi(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(n,this.children_));const i=r.isEmpty()?qi:this.priorityNode_;return new Yi(r,i,o)}}updateChild(e,t){const n=ti(e);if(null===n)return t;{Nt(".priority"!==ti(e)||1===ni(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(ri(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,o=!0;if(this.forEachChild(ji,(i,a)=>{t[i]=a.val(e),n++,o&&Yi.INTEGER_REGEXP_.test(i)?r=Math.max(r,Number(i)):o=!1}),!e&&o&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ii(this.getPriority().val())+":"),this.forEachChild(ji,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":ro(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new vi(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new vi(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new vi(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,vi.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,vi.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Hi?-1:0}withIndex(e){if(e===Ci||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Yi(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===Ci||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(ji),n=t.getIterator(ji);let r=e.getNext(),o=n.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=e.getNext(),o=n.getNext()}return null===r&&null===o}return!1}return!1}}resolveIndex_(e){return e===Ci?null:this.indexMap_.get(e.toString())}}Yi.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Hi=new class extends Yi{constructor(){super(new Ri(ki),Yi.EMPTY_NODE,Ui.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Yi.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(vi,{MIN:{value:new vi(mo,Yi.EMPTY_NODE)},MAX:{value:new vi(go,Hi)}}),Si.__EMPTY_NODE=Yi.EMPTY_NODE,Ni.__childrenNodeConstructor=Yi,Ai=Hi,function(e){Oi=e}(Hi);function Gi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Yi.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Nt(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new Ni(e,Gi(t))}if(e instanceof Array){let n=Yi.EMPTY_NODE;return So(e,(t,r)=>{if(dn(e,t)&&"."!==t.substring(0,1)){const e=Gi(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(Gi(t))}{const n=[];let r=!1;if(So(e,(e,t)=>{if("."!==e.substring(0,1)){const o=Gi(t);o.isEmpty()||(r=r||!o.getPriority().isEmpty(),n.push(new vi(e,o)))}}),0===n.length)return Yi.EMPTY_NODE;const o=Bi(n,Ti,e=>e.name,ki);if(r){const e=Bi(n,ji.getCompare());return new Yi(o,Gi(t),new Ui({".priority":e},{".priority":ji}))}return new Yi(o,Gi(t),Ui.Default)}}!function(e){Di=e}(Gi);class Vi extends _i{constructor(e){super(),this.indexPath_=e,Nt(!li(e)&&".priority"!==ti(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?yo(e.name,t.name):o}makePost(e,t){const n=Gi(e),r=Yi.EMPTY_NODE.updateChild(this.indexPath_,n);return new vi(t,r)}maxPost(){const e=Yi.EMPTY_NODE.updateChild(this.indexPath_,Hi);return new vi(go,e)}toString(){return ii(this.indexPath_,0).join("/")}}const Qi=new class extends _i{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?yo(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return vi.MIN}maxPost(){return vi.MAX}makePost(e,t){const n=Gi(e);return new vi(t,n)}toString(){return".value"}};function Ki(e){return{type:"value",snapshotNode:e}}function $i(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Xi(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Ji(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Zi{constructor(e){this.index_=e}updateChild(e,t,n,r,o,i){Nt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=i&&(n.isEmpty()?e.hasChild(t)?i.trackChildChange(Xi(t,a)):Nt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?i.trackChildChange($i(t,n)):i.trackChildChange(Ji(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(ji,(e,r)=>{t.hasChild(e)||n.trackChildChange(Xi(e,r))}),t.isLeafNode()||t.forEachChild(ji,(t,r)=>{if(e.hasChild(t)){const o=e.getImmediateChild(t);o.equals(r)||n.trackChildChange(Ji(t,r,o))}else n.trackChildChange($i(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Yi.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ea{constructor(e){this.indexedFilter_=new Zi(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ea.getStartPost_(e),this.endPost_=ea.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,o,i){return this.matches(new vi(t,n))||(n=Yi.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,o,i)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Yi.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Yi.EMPTY_NODE);const o=this;return t.forEachChild(ji,(e,t)=>{o.matches(new vi(e,t))||(r=r.updateImmediateChild(e,Yi.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class ta{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new ea(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,o,i){return this.rangedFilter_.matches(new vi(t,n))||(n=Yi.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,o,i):this.fullLimitUpdateChild_(e,t,n,o,i)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Yi.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Yi.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Yi.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Yi.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,o){let i;if(this.reverse_){const e=this.index_.getCompare();i=(t,n)=>e(n,t)}else i=this.index_.getCompare();const a=e;Nt(a.numChildren()===this.limit_,"");const s=new vi(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(a.hasChild(t)){const e=a.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||a.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:i(u,s);if(c&&!n.isEmpty()&&d>=0)return null!=o&&o.trackChildChange(Ji(t,n,e)),a.updateImmediateChild(t,n);{null!=o&&o.trackChildChange(Xi(t,e));const n=a.updateImmediateChild(t,Yi.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=o&&o.trackChildChange($i(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&i(l,s)>=0?(null!=o&&(o.trackChildChange(Xi(l.name,l.node)),o.trackChildChange($i(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,Yi.EMPTY_NODE)):e}}class na{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ji}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Nt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Nt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mo}hasEnd(){return this.endSet_}getIndexEndValue(){return Nt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Nt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:go}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Nt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ji}copy(){const e=new na;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ra(e){const t={};if(e.isDefault())return t;let n;if(e.index_===ji?n="$priority":e.index_===Qi?n="$value":e.index_===Ci?n="$key":(Nt(e.index_ instanceof Vi,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=cn(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=cn(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+cn(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=cn(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+cn(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function oa(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==ji&&(t.i=e.index_.toString()),t}class ia extends $o{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Nt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=co("p:rest:"),this.listens_={}}listen(e,t,n,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const i=ia.getListenId_(e,n),a={};this.listens_[i]=a;const s=ra(e._queryParams);this.restRequest_(o+".json",s,(e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(o,s,!1,n),pn(this.listens_,i)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=ia.getListenId_(e,t);delete this.listens_[n]}get(e){const t=ra(e._queryParams),n=e._path.toString(),r=new $t;return this.restRequest_(n+".json",t,(e,t)=>{let o=t;404===e&&(o=null,e=null),null===e?(this.onDataUpdate_(n,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[o,i]=r;o&&o.accessToken&&(t.auth=o.accessToken),i&&i.token&&(t.ac=i.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+a);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);let t=null;if(s.status>=200&&s.status<300){try{t=ln(s.responseText)}catch(e){ho("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&ho("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})}}class aa{constructor(){this.rootNode_=Yi.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function sa(){return{value:null,children:new Map}}function la(e,t,n){if(li(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=ti(t);e.children.has(r)||e.children.set(r,sa());la(e.children.get(r),t=ri(t),n)}}function ca(e,t){if(li(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(ji,(t,n)=>{la(e,new Zo(t),n)}),ca(e,t)}}if(e.children.size>0){const n=ti(t);if(t=ri(t),e.children.has(n)){ca(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function ua(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{ua(r,new Zo(t.toString()+"/"+e),n)})}class da{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=c({},e);return this.last_&&So(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class pa{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new da(e);const n=1e4+2e4*Math.random();To(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;So(e,(e,r)=>{r>0&&dn(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),To(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ha;function fa(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ha||(ha={}));class ma{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ha.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(li(this.path)){if(null!=this.affectedTree.value)return Nt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Zo(e));return new ma(ei(),t,this.revert)}}return Nt(ti(this.path)===e,"operationForChild called for unrelated child."),new ma(ri(this.path),this.affectedTree,this.revert)}}class ga{constructor(e,t){this.source=e,this.path=t,this.type=ha.LISTEN_COMPLETE}operationForChild(e){return li(this.path)?new ga(this.source,ei()):new ga(this.source,ri(this.path))}}class ya{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ha.OVERWRITE}operationForChild(e){return li(this.path)?new ya(this.source,ei(),this.snap.getImmediateChild(e)):new ya(this.source,ri(this.path),this.snap)}}class ba{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ha.MERGE}operationForChild(e){if(li(this.path)){const t=this.children.subtree(new Zo(e));return t.isEmpty()?null:t.value?new ya(this.source,ei(),t.value):new ba(this.source,ei(),t)}return Nt(ti(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ba(this.source,ri(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class va{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(li(e))return this.isFullyInitialized()&&!this.filtered_;const t=ti(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class _a{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function xa(e,t,n,r,o,i){const a=r.filter(e=>e.type===n);a.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw jt("Should only compare child_ events.");const r=new vi(t.childName,t.snapshotNode),o=new vi(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n)),a.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,i);o.forEach(o=>{o.respondsTo(n.type)&&t.push(o.createEvent(r,e.query_))})})}function Sa(e,t){return{eventCache:e,serverCache:t}}function Ca(e,t,n,r){return Sa(new va(t,n,r),e.serverCache)}function wa(e,t,n,r){return Sa(e.eventCache,new va(t,n,r))}function Ea(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Ra(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let Ta;class ka{static fromObject(e){let t=new ka(null);return So(e,(e,n)=>{t=t.set(new Zo(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(Ta||(Ta=new Ri(bo)),Ta);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:ei(),value:this.value};if(li(e))return null;{const n=ti(e),r=this.children.get(n);if(null!==r){const o=r.findRootMostMatchingPathAndValue(ri(e),t);if(null!=o){return{path:si(new Zo(n),o.path),value:o.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(li(e))return this;{const t=ti(e),n=this.children.get(t);return null!==n?n.subtree(ri(e)):new ka(null)}}set(e,t){if(li(e))return new ka(t,this.children);{const n=ti(e),r=(this.children.get(n)||new ka(null)).set(ri(e),t),o=this.children.insert(n,r);return new ka(this.value,o)}}remove(e){if(li(e))return this.children.isEmpty()?new ka(null):new ka(null,this.children);{const t=ti(e),n=this.children.get(t);if(n){const r=n.remove(ri(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new ka(null):new ka(this.value,o)}return this}}get(e){if(li(e))return this.value;{const t=ti(e),n=this.children.get(t);return n?n.get(ri(e)):null}}setTree(e,t){if(li(e))return t;{const n=ti(e),r=(this.children.get(n)||new ka(null)).setTree(ri(e),t);let o;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new ka(this.value,o)}}fold(e){return this.fold_(ei(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,o)=>{n[r]=o.fold_(si(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,ei(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(li(e))return null;{const r=ti(e),o=this.children.get(r);return o?o.findOnPath_(ri(e),si(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,ei(),t)}foreachOnPath_(e,t,n){if(li(e))return this;{this.value&&n(t,this.value);const r=ti(e),o=this.children.get(r);return o?o.foreachOnPath_(ri(e),si(t,r),n):new ka(null)}}foreach(e){this.foreach_(ei(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(si(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class Aa{constructor(e){this.writeTree_=e}static empty(){return new Aa(new ka(null))}}function Ia(e,t,n){if(li(t))return new Aa(new ka(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let i=r.value;const a=ci(o,t);return i=i.updateChild(a,n),new Aa(e.writeTree_.set(o,i))}{const r=new ka(n),o=e.writeTree_.setTree(t,r);return new Aa(o)}}}function Pa(e,t,n){let r=e;return So(n,(e,n)=>{r=Ia(r,si(t,e),n)}),r}function Ma(e,t){if(li(t))return Aa.empty();{const n=e.writeTree_.setTree(t,new ka(null));return new Aa(n)}}function Da(e,t){return null!=Oa(e,t)}function Oa(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(ci(n.path,t)):null}function Na(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ji,(e,n)=>{t.push(new vi(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new vi(e,n.value))}),t}function ja(e,t){if(li(t))return e;{const n=Oa(e,t);return new Aa(null!=n?new ka(n):e.writeTree_.subtree(t))}}function La(e){return e.writeTree_.isEmpty()}function za(e,t){return Ba(ei(),e.writeTree_,t)}function Ba(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,o)=>{".priority"===t?(Nt(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=Ba(si(e,t),o,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(si(e,".priority"),r)),n}}function Fa(e,t){return Za(t,e)}function Wa(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);Nt(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,i=!1,a=e.allWrites.length-1;for(;o&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&Ua(t,r.path)?o=!1:pi(r.path,t.path)&&(i=!0)),a--}if(o){if(i)return function(e){e.visibleWrites=Ya(e.allWrites,qa,ei()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=Ma(e.visibleWrites,r.path);else{So(r.children,t=>{e.visibleWrites=Ma(e.visibleWrites,si(r.path,t))})}return!0}return!1}function Ua(e,t){if(e.snap)return pi(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&pi(si(e.path,n),t))return!0;return!1}function qa(e){return e.visible}function Ya(e,t,n){let r=Aa.empty();for(let o=0;o<e.length;++o){const i=e[o];if(t(i)){const e=i.path;let t;if(i.snap)pi(n,e)?(t=ci(n,e),r=Ia(r,t,i.snap)):pi(e,n)&&(t=ci(e,n),r=Ia(r,ei(),i.snap.getChild(t)));else{if(!i.children)throw jt("WriteRecord should have .snap or .children");if(pi(n,e))t=ci(n,e),r=Pa(r,t,i.children);else if(pi(e,n))if(t=ci(e,n),li(t))r=Pa(r,ei(),i.children);else{const e=pn(i.children,ti(t));if(e){const n=e.getChild(ri(t));r=Ia(r,ei(),n)}}}}}return r}function Ha(e,t,n,r,o){if(r||o){const i=ja(e.visibleWrites,t);if(!o&&La(i))return n;if(o||null!=n||Da(i,ei())){const i=function(e){return(e.visible||o)&&(!r||!~r.indexOf(e.writeId))&&(pi(e.path,t)||pi(t,e.path))};return za(Ya(e.allWrites,i,t),n||Yi.EMPTY_NODE)}return null}{const r=Oa(e.visibleWrites,t);if(null!=r)return r;{const r=ja(e.visibleWrites,t);if(La(r))return n;if(null!=n||Da(r,ei())){return za(r,n||Yi.EMPTY_NODE)}return null}}}function Ga(e,t,n,r){return Ha(e.writeTree,e.treePath,t,n,r)}function Va(e,t){return function(e,t,n){let r=Yi.EMPTY_NODE;const o=Oa(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(ji,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const o=ja(e.visibleWrites,t);return n.forEachChild(ji,(e,t)=>{const n=za(ja(o,new Zo(e)),t);r=r.updateImmediateChild(e,n)}),Na(o).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return Na(ja(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function Qa(e,t,n,r){return function(e,t,n,r,o){Nt(r||o,"Either existingEventSnap or existingServerSnap must exist");const i=si(t,n);if(Da(e.visibleWrites,i))return null;{const t=ja(e.visibleWrites,i);return La(t)?o.getChild(n):za(t,o.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Ka(e,t){return function(e,t){return Oa(e.visibleWrites,t)}(e.writeTree,si(e.treePath,t))}function $a(e,t,n,r,o,i){return function(e,t,n,r,o,i,a){let s;const l=ja(e.visibleWrites,t),c=Oa(l,ei());if(null!=c)s=c;else{if(null==n)return[];s=za(l,n)}if(s=s.withIndex(a),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=a.getCompare(),n=i?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a);let l=n.getNext();for(;l&&e.length<o;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,o,i)}function Xa(e,t,n){return function(e,t,n,r){const o=si(t,n),i=Oa(e.visibleWrites,o);if(null!=i)return i;if(r.isCompleteForChild(n))return za(ja(e.visibleWrites,o),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Ja(e,t){return Za(si(e.treePath,t),e.writeTree)}function Za(e,t){return{treePath:e,writeTree:t}}class es{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Nt("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Nt(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,Ji(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,Xi(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,$i(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw jt("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Ji(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const ts=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class ns{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new va(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Xa(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ra(this.viewCache_),o=$a(this.writes_,r,t,1,n,e);return 0===o.length?null:o[0]}}function rs(e,t,n,r,o){const i=new es;let a,s;if(n.type===ha.OVERWRITE){const l=n;l.source.fromUser?a=as(e,t,l.path,l.snap,r,o,i):(Nt(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!li(l.path),a=is(e,t,l.path,l.snap,r,o,s,i))}else if(n.type===ha.MERGE){const l=n;l.source.fromUser?a=function(e,t,n,r,o,i,a){let s=t;return r.foreach((r,l)=>{const c=si(n,r);ss(t,ti(c))&&(s=as(e,s,c,l,o,i,a))}),r.foreach((r,l)=>{const c=si(n,r);ss(t,ti(c))||(s=as(e,s,c,l,o,i,a))}),s}(e,t,l.path,l.children,r,o,i):(Nt(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=cs(e,t,l.path,l.children,r,o,s,i))}else if(n.type===ha.ACK_USER_WRITE){const s=n;a=s.revert?function(e,t,n,r,o,i){let a;if(null!=Ka(r,n))return t;{const s=new ns(r,t,o),l=t.eventCache.getNode();let c;if(li(n)||".priority"===ti(n)){let n;if(t.serverCache.isFullyInitialized())n=Ga(r,Ra(t));else{const e=t.serverCache.getNode();Nt(e instanceof Yi,"serverChildren would be complete if leaf node"),n=Va(r,e)}c=e.filter.updateFullNode(l,n,i)}else{const o=ti(n);let u=Xa(r,o,t.serverCache);null==u&&t.serverCache.isCompleteForChild(o)&&(u=l.getImmediateChild(o)),c=null!=u?e.filter.updateChild(l,o,u,ri(n),s,i):t.eventCache.getNode().hasChild(o)?e.filter.updateChild(l,o,Yi.EMPTY_NODE,ri(n),s,i):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=Ga(r,Ra(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,i)))}return a=t.serverCache.isFullyInitialized()||null!=Ka(r,ei()),Ca(t,c,a,e.filter.filtersNodes())}}(e,t,s.path,r,o,i):function(e,t,n,r,o,i,a){if(null!=Ka(o,n))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(li(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return is(e,t,n,l.getNode().getChild(n),o,i,s,a);if(li(n)){let r=new ka(null);return l.getNode().forEachChild(Ci,(e,t)=>{r=r.set(new Zo(e),t)}),cs(e,t,n,r,o,i,s,a)}return t}{let c=new ka(null);return r.foreach((e,t)=>{const r=si(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),cs(e,t,n,c,o,i,s,a)}}(e,t,s.path,s.affectedTree,r,o,i)}else{if(n.type!==ha.LISTEN_COMPLETE)throw jt("Unknown operation type: "+n.type);a=function(e,t,n,r,o){const i=t.serverCache,a=wa(t,i.getNode(),i.isFullyInitialized()||li(n),i.isFiltered());return os(e,a,n,r,ts,o)}(e,t,n.path,r,i)}const l=i.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Ea(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Ki(Ea(t)))}}(t,a,l),{viewCache:a,changes:l}}function os(e,t,n,r,o,i){const a=t.eventCache;if(null!=Ka(r,n))return t;{let s,l;if(li(n))if(Nt(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=Ra(t),o=Va(r,n instanceof Yi?n:Yi.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),o,i)}else{const n=Ga(r,Ra(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,i)}else{const c=ti(n);if(".priority"===c){Nt(1===ni(n),"Can't have a priority with additional path components");const o=a.getNode();l=t.serverCache.getNode();const i=Qa(r,n,o,l);s=null!=i?e.filter.updatePriority(o,i):a.getNode()}else{const u=ri(n);let d;if(a.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Qa(r,n,a.getNode(),l);d=null!=e?a.getNode().getImmediateChild(c).updateChild(u,e):a.getNode().getImmediateChild(c)}else d=Xa(r,c,t.serverCache);s=null!=d?e.filter.updateChild(a.getNode(),c,d,u,o,i):a.getNode()}}return Ca(t,s,a.isFullyInitialized()||li(n),e.filter.filtersNodes())}}function is(e,t,n,r,o,i,a,s){const l=t.serverCache;let c;const u=a?e.filter:e.filter.getIndexedFilter();if(li(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=ti(n);if(!l.isCompleteForPath(n)&&ni(n)>1)return t;const o=ri(n),i=l.getNode().getImmediateChild(e).updateChild(o,r);c=".priority"===e?u.updatePriority(l.getNode(),i):u.updateChild(l.getNode(),e,i,o,ts,null)}const d=wa(t,c,l.isFullyInitialized()||li(n),u.filtersNodes());return os(e,d,n,o,new ns(o,d,i),s)}function as(e,t,n,r,o,i,a){const s=t.eventCache;let l,c;const u=new ns(o,t,i);if(li(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,a),l=Ca(t,c,!0,e.filter.filtersNodes());else{const o=ti(n);if(".priority"===o)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=Ca(t,c,s.isFullyInitialized(),s.isFiltered());else{const i=ri(n),c=s.getNode().getImmediateChild(o);let d;if(li(i))d=r;else{const e=u.getCompleteChild(o);d=null!=e?".priority"===oi(i)&&e.getChild(ai(i)).isEmpty()?e:e.updateChild(i,r):Yi.EMPTY_NODE}if(c.equals(d))l=t;else{l=Ca(t,e.filter.updateChild(s.getNode(),o,d,i,u,a),s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function ss(e,t){return e.eventCache.isCompleteForChild(t)}function ls(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function cs(e,t,n,r,o,i,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=li(n)?r:new ka(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const l=ls(0,t.serverCache.getNode().getImmediateChild(n),r);c=is(e,c,new Zo(n),l,o,i,a,s)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=ls(0,t.serverCache.getNode().getImmediateChild(n),r);c=is(e,c,new Zo(n),l,o,i,a,s)}}),c}class us{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new Zi(n.getIndex()),o=(i=n).loadsAllData()?new Zi(i.getIndex()):i.hasLimit()?new ta(i):new ea(i);var i;this.processor_=function(e){return{filter:e}}(o);const a=t.serverCache,s=t.eventCache,l=r.updateFullNode(Yi.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(Yi.EMPTY_NODE,s.getNode(),null),u=new va(l,a.isFullyInitialized(),r.filtersNodes()),d=new va(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Sa(d,u),this.eventGenerator_=new _a(this.query_)}get query(){return this.query_}}function ds(e,t){const n=Ra(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!li(t)&&!n.getImmediateChild(ti(t)).isEmpty())?n.getChild(t):null}function ps(e){return 0===e.eventRegistrations_.length}function hs(e,t,n){const r=[];if(n){Nt(null==t,"A cancel should cancel all event registrations.");const o=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,o);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const o=e.eventRegistrations_[r];if(o.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(o)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function fs(e,t,n,r){t.type===ha.MERGE&&null!==t.source.queryId&&(Nt(Ra(e.viewCache_),"We should always have a full cache before handling merges"),Nt(Ea(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,i=rs(e.processor_,o,t,n,r);var a,s;return a=e.processor_,s=i.viewCache,Nt(s.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),Nt(s.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),Nt(i.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=i.viewCache,ms(e,i.changes,i.viewCache.eventCache.getNode(),null)}function ms(e,t,n,r){const o=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const o=[],i=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&i.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),xa(e,o,"child_removed",t,r,n),xa(e,o,"child_added",t,r,n),xa(e,o,"child_moved",i,r,n),xa(e,o,"child_changed",t,r,n),xa(e,o,"value",t,r,n),o}(e.eventGenerator_,t,n,o)}let gs,ys;class bs{constructor(){this.views=new Map}}function vs(e,t,n,r){const o=t.source.queryId;if(null!==o){const i=e.views.get(o);return Nt(null!=i,"SyncTree gave us an op for an invalid query."),fs(i,t,n,r)}{let o=[];for(const i of e.views.values())o=o.concat(fs(i,t,n,r));return o}}function _s(e,t,n,r,o){const i=t._queryIdentifier,a=e.views.get(i);if(!a){let e=Ga(n,o?r:null),i=!1;e?i=!0:r instanceof Yi?(e=Va(n,r),i=!1):(e=Yi.EMPTY_NODE,i=!1);const a=Sa(new va(e,i,!1),new va(r,o,!1));return new us(t,a)}return a}function xs(e,t,n,r,o,i){const a=_s(e,t,r,o,i);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(ji,(e,t)=>{r.push($i(e,t))});return n.isFullyInitialized()&&r.push(Ki(n.getNode())),ms(e,r,n.getNode(),t)}(a,n)}function Ss(e,t,n,r){const o=t._queryIdentifier,i=[];let a=[];const s=Ts(e);if("default"===o)for(const[l,c]of e.views.entries())a=a.concat(hs(c,n,r)),ps(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||i.push(c.query));else{const t=e.views.get(o);t&&(a=a.concat(hs(t,n,r)),ps(t)&&(e.views.delete(o),t.query._queryParams.loadsAllData()||i.push(t.query)))}return s&&!Ts(e)&&i.push(new(Nt(gs,"Reference.ts has not been loaded"),gs)(t._repo,t._path)),{removed:i,events:a}}function Cs(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function ws(e,t){let n=null;for(const r of e.views.values())n=n||ds(r,t);return n}function Es(e,t){if(t._queryParams.loadsAllData())return ks(e);{const n=t._queryIdentifier;return e.views.get(n)}}function Rs(e,t){return null!=Es(e,t)}function Ts(e){return null!=ks(e)}function ks(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let As=1;class Is{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ka(null),this.pendingWriteTree_={visibleWrites:Aa.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Ps(e,t,n,r,o){return function(e,t,n,r,o){Nt(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=Ia(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?Bs(e,new ya({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Ms(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Wa(e.pendingWriteTree_,t)){let t=new ka(null);return null!=r.snap?t=t.set(ei(),!0):So(r.children,e=>{t=t.set(new Zo(e),!0)}),Bs(e,new ma(r.path,t,n))}return[]}function Ds(e,t,n){return Bs(e,new ya({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function Os(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const i=t._path,a=e.syncPointTree_.get(i);let s=[];if(a&&("default"===t._queryIdentifier||Rs(a,t))){const l=Ss(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const c=l.removed;if(s=l.events,!o){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),o=e.syncPointTree_.findOnPath(i,(e,t)=>Ts(t));if(n&&!o){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&Ts(t)){return[ks(t)]}{let e=[];return t&&(e=Cs(t)),So(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],o=r.query,i=Us(e,r);e.listenProvider_.startListening(Qs(o),qs(e,o),i.hashFn,i.onComplete)}}}if(!o&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Qs(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(Ys(t));e.listenProvider_.stopListening(Qs(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Ys(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return s}function Ns(e,t,n,r){const o=Hs(e,r);if(null!=o){const r=Gs(o),i=r.path,a=r.queryId,s=ci(i,t);return Vs(e,i,new ya(fa(a),s,n))}return[]}function js(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=t._path;let i=null,a=!1;e.syncPointTree_.foreachOnPath(o,(e,t)=>{const n=ci(e,o);i=i||ws(t,n),a=a||Ts(t)});let s,l=e.syncPointTree_.get(o);if(l?(a=a||Ts(l),i=i||ws(l,ei())):(l=new bs,e.syncPointTree_=e.syncPointTree_.set(o,l)),null!=i)s=!0;else{s=!1,i=Yi.EMPTY_NODE;e.syncPointTree_.subtree(o).foreachChild((e,t)=>{const n=ws(t,ei());n&&(i=i.updateImmediateChild(e,n))})}const c=Rs(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Ys(t);Nt(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=As++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=xs(l,t,n,Fa(e.pendingWriteTree_,o),i,s);if(!c&&!a&&!r){const n=Es(l,t);u=u.concat(function(e,t,n){const r=t._path,o=qs(e,t),i=Us(e,n),a=e.listenProvider_.startListening(Qs(t),o,i.hashFn,i.onComplete),s=e.syncPointTree_.subtree(r);if(o)Nt(!Ts(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold((e,t,n)=>{if(!li(e)&&t&&Ts(t))return[ks(t).query];{let e=[];return t&&(e=e.concat(Cs(t).map(e=>e.query))),So(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Qs(r),qs(e,r))}}return a}(e,t,n))}return u}function Ls(e,t,n){const r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=ws(n,ci(e,t));if(r)return r});return Ha(r,t,o,n,!0)}function zs(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const o=ci(e,n);r=r||ws(t,o)});let o=e.syncPointTree_.get(n);o?r=r||ws(o,ei()):(o=new bs,e.syncPointTree_=e.syncPointTree_.set(n,o));const i=null!=r,a=i?new va(r,!0,!1):null;return function(e){return Ea(e.viewCache_)}(_s(o,t,Fa(e.pendingWriteTree_,t._path),i?a.getNode():Yi.EMPTY_NODE,i))}function Bs(e,t){return Fs(t,e.syncPointTree_,null,Fa(e.pendingWriteTree_,ei()))}function Fs(e,t,n,r){if(li(e.path))return Ws(e,t,n,r);{const o=t.get(ei());null==n&&null!=o&&(n=ws(o,ei()));let i=[];const a=ti(e.path),s=e.operationForChild(a),l=t.children.get(a);if(l&&s){const e=n?n.getImmediateChild(a):null,t=Ja(r,a);i=i.concat(Fs(s,l,e,t))}return o&&(i=i.concat(vs(o,e,r,n))),i}}function Ws(e,t,n,r){const o=t.get(ei());null==n&&null!=o&&(n=ws(o,ei()));let i=[];return t.children.inorderTraversal((t,o)=>{const a=n?n.getImmediateChild(t):null,s=Ja(r,t),l=e.operationForChild(t);l&&(i=i.concat(Ws(l,o,a,s)))}),o&&(i=i.concat(vs(o,e,r,n))),i}function Us(e,t){const n=t.query,r=qs(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Yi.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Hs(e,n);if(r){const n=Gs(r),o=n.path,i=n.queryId,a=ci(o,t);return Vs(e,o,new ga(fa(i),a))}return[]}(e,n._path,r):function(e,t){return Bs(e,new ga({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return Os(e,n,null,r)}}}}function qs(e,t){const n=Ys(t);return e.queryToTagMap.get(n)}function Ys(e){return e._path.toString()+"$"+e._queryIdentifier}function Hs(e,t){return e.tagToQueryMap.get(t)}function Gs(e){const t=e.indexOf("$");return Nt(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Zo(e.substr(0,t))}}function Vs(e,t,n){const r=e.syncPointTree_.get(t);Nt(r,"Missing sync point for query tag that we're tracking");return vs(r,n,Fa(e.pendingWriteTree_,t),null)}function Qs(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Nt(ys,"Reference.ts has not been loaded"),ys)(e._repo,e._path):e}class Ks{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ks(t)}node(){return this.node_}}class $s{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=si(this.path_,e);return new $s(this.syncTree_,t)}node(){return Ls(this.syncTree_,this.path_)}}const Xs=function(e,t,n){return e&&"object"===typeof e?(Nt(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Js(e[".sv"],t,n):"object"===typeof e[".sv"]?Zs(e[".sv"],t):void Nt(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Js=function(e,t,n){if("timestamp"===e)return n.timestamp;Nt(!1,"Unexpected server value: "+e)},Zs=function(e,t,n){e.hasOwnProperty("increment")||Nt(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Nt(!1,"Unexpected increment value: "+r);const o=t.node();if(Nt(null!==o&&"undefined"!==typeof o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const i=o.getValue();return"number"!==typeof i?r:i+r},el=function(e,t,n,r){return nl(t,new $s(n,e),r)},tl=function(e,t,n){return nl(e,new Ks(t),n)};function nl(e,t,n){const r=e.getPriority().val(),o=Xs(r,t.getImmediateChild(".priority"),n);let i;if(e.isLeafNode()){const r=e,i=Xs(r.getValue(),t,n);return i!==r.getValue()||o!==r.getPriority().val()?new Ni(i,Gi(o)):e}{const r=e;return i=r,o!==r.getPriority().val()&&(i=i.updatePriority(new Ni(o))),r.forEachChild(ji,(e,r)=>{const o=nl(r,t.getImmediateChild(e),n);o!==r&&(i=i.updateImmediateChild(e,o))}),i}}class rl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function ol(e,t){let n=t instanceof Zo?t:new Zo(t),r=e,o=ti(n);for(;null!==o;){const e=pn(r.node.children,o)||{children:{},childCount:0};r=new rl(o,r,e),n=ri(n),o=ti(n)}return r}function il(e){return e.node.value}function al(e,t){e.node.value=t,dl(e)}function sl(e){return e.node.childCount>0}function ll(e,t){So(e.node.children,(n,r)=>{t(new rl(n,e,r))})}function cl(e,t,n,r){n&&!r&&t(e),ll(e,e=>{cl(e,t,!0,r)}),n&&r&&t(e)}function ul(e){return new Zo(null===e.parent?e.name:ul(e.parent)+"/"+e.name)}function dl(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===il(e)&&!sl(e)}(n),o=dn(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,dl(e)):r||o||(e.node.children[t]=n.node,e.node.childCount++,dl(e))}(e.parent,e.name,e)}const pl=/[\[\].#$\/\u0000-\u001F\u007F]/,hl=/[\[\].#$\u0000-\u001F\u007F]/,fl=10485760,ml=function(e){return"string"===typeof e&&0!==e.length&&!pl.test(e)},gl=function(e){return"string"===typeof e&&0!==e.length&&!hl.test(e)},yl=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!fo(e)||e&&"object"===typeof e&&dn(e,".sv")},bl=function(e,t,n,r){r&&void 0===t||vl(bn(e,"value"),t,n)},vl=function(e,t,n){const r=n instanceof Zo?new hi(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+mi(r));if("function"===typeof t)throw new Error(e+"contains a function "+mi(r)+" with contents = "+t.toString());if(fo(t))throw new Error(e+"contains "+t.toString()+" "+mi(r));if("string"===typeof t&&t.length>fl/3&&vn(t)>fl)throw new Error(e+"contains a string greater than "+fl+" utf8 bytes "+mi(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,o=!1;if(So(t,(t,i)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!ml(t)))throw new Error(e+" contains an invalid key ("+t+") "+mi(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=vn(t),fi(e)}(r,t),vl(e,i,r),function(e){const t=e.parts_.pop();e.byteLength_-=vn(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&o)throw new Error(e+' contains ".value" child '+mi(r)+" in addition to actual children.")}},_l=function(e,t,n,r){if(r&&void 0===t)return;const o=bn(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const i=[];So(t,(e,t)=>{const r=new Zo(e);if(vl(o,t,si(n,r)),".priority"===oi(r)&&!yl(t))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const o=ii(r);for(let t=0;t<o.length;t++)if(".priority"===o[t]&&t===o.length-1);else if(!ml(o[t]))throw new Error(e+"contains an invalid key ("+o[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(ui);let o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&pi(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,i)},xl=function(e,t,n){if(!n||void 0!==t){if(fo(t))throw new Error(bn(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yl(t))throw new Error(bn(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Sl=function(e,t,n,r){if((!r||void 0!==n)&&!gl(n))throw new Error(bn(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Cl=function(e,t){if(".info"===ti(t))throw new Error(e+" failed = Can't modify data under /.info/")},wl=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ml(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),gl(e)}(n))throw new Error(bn(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class El{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Rl(e,t){let n=null;for(let r=0;r<t.length;r++){const o=t[r],i=o.getPath();null===n||di(i,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:i}),n.events.push(o)}n&&e.eventLists_.push(n)}function Tl(e,t,n){Rl(e,n),Al(e,e=>di(e,t))}function kl(e,t,n){Rl(e,n),Al(e,e=>pi(e,t)||pi(t,e))}function Al(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const o=e.eventLists_[r];if(o){t(o.path)?(Il(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Il(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();io&&lo("event: "+n.toString()),Ro(r)}}}const Pl="repo_interrupt";class Ml{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new El,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=sa(),this.transactionQueueTree_=new rl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Dl(e,t,n){if(e.stats_=Wo(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new ia(e.repoInfo_,(t,n,r,o)=>{jl(e,t,n,r,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Ll(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{cn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new bi(e.repoInfo_,t,(t,n,r,o)=>{jl(e,t,n,r,o)},t=>{Ll(e,t)},t=>{!function(e,t){So(t,(t,n)=>{zl(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return Fo[n]||(Fo[n]=t()),Fo[n]}(e.repoInfo_,()=>new pa(e.stats_,e.server_)),e.infoData_=new aa,e.infoSyncTree_=new Is({startListening:(t,n,r,o)=>{let i=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(i=Ds(e.infoSyncTree_,t._path,a),setTimeout(()=>{o("ok")},0)),i},stopListening:()=>{}}),zl(e,"connected",!1),e.serverSyncTree_=new Is({startListening:(t,n,r,o)=>(e.server_.listen(t,r,n,(n,r)=>{const i=o(n,r);kl(e.eventQueue_,t._path,i)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Ol(e){const t=e.infoData_.getNode(new Zo(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Nl(e){return(t=(t={timestamp:Ol(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function jl(e,t,n,r,o){e.dataUpdateCount++;const i=new Zo(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(o)if(r){const t=fn(n,e=>Gi(e));a=function(e,t,n,r){const o=Hs(e,r);if(o){const r=Gs(o),i=r.path,a=r.queryId,s=ci(i,t),l=ka.fromObject(n);return Vs(e,i,new ba(fa(a),s,l))}return[]}(e.serverSyncTree_,i,t,o)}else{const t=Gi(n);a=Ns(e.serverSyncTree_,i,t,o)}else if(r){const t=fn(n,e=>Gi(e));a=function(e,t,n){const r=ka.fromObject(n);return Bs(e,new ba({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,i,t)}else{const t=Gi(n);a=Ds(e.serverSyncTree_,i,t)}let s=i;a.length>0&&(s=Kl(e,i)),kl(e.eventQueue_,s,a)}function Ll(e,t){zl(e,"connected",t),!1===t&&function(e){Hl(e,"onDisconnectEvents");const t=Nl(e),n=sa();ua(e.onDisconnect_,ei(),(r,o)=>{const i=el(r,o,e.serverSyncTree_,t);la(n,r,i)});let r=[];ua(n,ei(),(t,n)=>{r=r.concat(Ds(e.serverSyncTree_,t,n));const o=ec(e,t);Kl(e,o)}),e.onDisconnect_=sa(),kl(e.eventQueue_,ei(),r)}(e)}function zl(e,t,n){const r=new Zo("/.info/"+t),o=Gi(n);e.infoData_.updateSnapshot(r,o);const i=Ds(e.infoSyncTree_,r,o);kl(e.eventQueue_,r,i)}function Bl(e){return e.nextWriteId_++}function Fl(e,t,n,r,o){Hl(e,"set",{path:t.toString(),value:n,priority:r});const i=Nl(e),a=Gi(n,r),s=Ls(e.serverSyncTree_,t),l=tl(a,s,i),c=Bl(e),u=Ps(e.serverSyncTree_,t,l,c,!0);Rl(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),(n,r)=>{const i="ok"===n;i||ho("set at "+t+" failed: "+n);const a=Ms(e.serverSyncTree_,c,!i);kl(e.eventQueue_,t,a),Gl(e,o,n,r)});const d=ec(e,t);Kl(e,d),kl(e.eventQueue_,d,[])}function Wl(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,o)=>{"ok"===r&&ca(e.onDisconnect_,t),Gl(e,n,r,o)})}function Ul(e,t,n,r){const o=Gi(n);e.server_.onDisconnectPut(t.toString(),o.val(!0),(n,i)=>{"ok"===n&&la(e.onDisconnect_,t,o),Gl(e,r,n,i)})}function ql(e,t,n){let r;r=".info"===ti(t._path)?Os(e.infoSyncTree_,t,n):Os(e.serverSyncTree_,t,n),Tl(e.eventQueue_,t._path,r)}function Yl(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Pl)}function Hl(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];lo(t,...r)}function Gl(e,t,n,r){t&&Ro(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let o=e;r&&(o+=": "+r);const i=new Error(o);i.code=e,t(i)}})}function Vl(e,t,n){return Ls(e.serverSyncTree_,t,n)||Yi.EMPTY_NODE}function Ql(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Zl(e,t),il(t)){const n=Xl(e,t);Nt(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),o=Vl(e,t,r);let i=o;const a=o.hash();for(let c=0;c<n.length;c++){const e=n[c];Nt(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=ci(t,e.path);i=i.updateChild(r,e.currentOutputSnapshotRaw)}const s=i.val(!0),l=t;e.server_.put(l.toString(),s,r=>{Hl(e,"transaction put response",{path:l.toString(),status:r});let o=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,o=o.concat(Ms(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();Zl(e,ol(e.transactionQueueTree_,t)),Ql(e,e.transactionQueueTree_),kl(e.eventQueue_,t,o);for(let e=0;e<r.length;e++)Ro(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{ho("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Kl(e,t)}},a)}(e,ul(t),n)}else sl(t)&&ll(t,t=>{Ql(e,t)})}function Kl(e,t){const n=$l(e,t),r=ul(n);return function(e,t,n){if(0===t.length)return;const r=[];let o=[];const i=t.filter(e=>0===e.status),a=i.map(e=>e.currentWriteId);for(let s=0;s<t.length;s++){const i=t[s],l=ci(n,i.path);let c,u=!1;if(Nt(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===i.status)u=!0,c=i.abortReason,o=o.concat(Ms(e.serverSyncTree_,i.currentWriteId,!0));else if(0===i.status)if(i.retryCount>=25)u=!0,c="maxretry",o=o.concat(Ms(e.serverSyncTree_,i.currentWriteId,!0));else{const n=Vl(e,i.path,a);i.currentInputSnapshot=n;const r=t[s].update(n.val());if(void 0!==r){vl("transaction failed: Data returned ",r,i.path);let t=Gi(r);"object"===typeof r&&null!=r&&dn(r,".priority")||(t=t.updatePriority(n.getPriority()));const s=i.currentWriteId,l=Nl(e),c=tl(t,n,l);i.currentOutputSnapshotRaw=t,i.currentOutputSnapshotResolved=c,i.currentWriteId=Bl(e),a.splice(a.indexOf(s),1),o=o.concat(Ps(e.serverSyncTree_,i.path,c,i.currentWriteId,i.applyLocally)),o=o.concat(Ms(e.serverSyncTree_,s,!0))}else u=!0,c="nodata",o=o.concat(Ms(e.serverSyncTree_,i.currentWriteId,!0))}kl(e.eventQueue_,n,o),o=[],u&&(t[s].status=2,function(e){setTimeout(e,Math.floor(0))}(t[s].unwatcher),t[s].onComplete&&("nodata"===c?r.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):r.push(()=>t[s].onComplete(new Error(c),!1,null))))}Zl(e,e.transactionQueueTree_);for(let s=0;s<r.length;s++)Ro(r[s]);Ql(e,e.transactionQueueTree_)}(e,Xl(e,n),r),r}function $l(e,t){let n,r=e.transactionQueueTree_;for(n=ti(t);null!==n&&void 0===il(r);)r=ol(r,n),n=ti(t=ri(t));return r}function Xl(e,t){const n=[];return Jl(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Jl(e,t,n){const r=il(t);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);ll(t,t=>{Jl(e,t,n)})}function Zl(e,t){const n=il(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,al(t,n.length>0?n:void 0)}ll(t,t=>{Zl(e,t)})}function ec(e,t){const n=ul($l(e,t)),r=ol(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{tc(e,t)}),tc(e,r),cl(r,t=>{tc(e,t)}),n}function tc(e,t){const n=il(t);if(n){const r=[];let o=[],i=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Nt(i===t-1,"All SENT items should be at beginning of queue."),i=t,n[t].status=3,n[t].abortReason="set"):(Nt(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),o=o.concat(Ms(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===i?al(t,void 0):n.length=i+1,kl(e.eventQueue_,ul(t),o);for(let e=0;e<r.length;e++)Ro(r[e])}}const nc=function(e,t){const n=rc(e),r=n.namespace;"firebase.com"===n.domain&&po(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||po("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&ho("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new jo(n.host,n.secure,r,o,t,"",r!==n.subdomain),path:new Zo(n.pathString)}},rc=function(e){let t="",n="",r="",o="",i="",a=!0,s="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(o=function(e){let t="";const n=e.split("/");for(let o=0;o<n.length;o++)if(n[o].length>0){let e=n[o];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,d)));const p=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ho("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(a="https"===s||"wss"===s,l=parseInt(t.substring(c+1),10)):c=t.length;const h=t.slice(0,c);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),i=r}"ns"in p&&(i=p.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:s,pathString:o,namespace:i}},oc="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ic=function(){let e=0;const t=[];return function(n){const r=n===e;let o;e=n;const i=new Array(8);for(o=7;o>=0;o--)i[o]=oc.charAt(n%64),n=Math.floor(n/64);Nt(0===n,"Cannot push at time == 0");let a=i.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)a+=oc.charAt(t[o]);return Nt(20===a.length,"nextPushId: Length should be 20."),a}}();class ac{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+cn(this.snapshot.exportVal())}}class sc{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class lc{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Nt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class cc{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new $t;return Wl(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Cl("OnDisconnect.remove",this._path);const e=new $t;return Ul(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Cl("OnDisconnect.set",this._path),bl("OnDisconnect.set",e,this._path,!1);const t=new $t;return Ul(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){Cl("OnDisconnect.setWithPriority",this._path),bl("OnDisconnect.setWithPriority",e,this._path,!1),xl("OnDisconnect.setWithPriority",t,!1);const n=new $t;return function(e,t,n,r,o){const i=Gi(n,r);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,r)=>{"ok"===n&&la(e.onDisconnect_,t,i),Gl(0,o,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){Cl("OnDisconnect.update",this._path),_l("OnDisconnect.update",e,this._path,!1);const t=new $t;return function(e,t,n,r){if(hn(n))return lo("onDisconnect().update() called with empty data.  Don't do anything."),void Gl(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(o,i)=>{"ok"===o&&So(n,(n,r)=>{const o=Gi(r);la(e.onDisconnect_,si(t,n),o)}),Gl(0,r,o,i)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class uc{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return li(this._path)?null:oi(this._path)}get ref(){return new dc(this._repo,this._path)}get _queryIdentifier(){const e=oa(this._queryParams),t=_o(e);return"{}"===t?"default":t}get _queryObject(){return oa(this._queryParams)}isEqual(e){if(!((e=_n(e))instanceof uc))return!1;const t=this._repo===e._repo,n=di(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class dc extends uc{constructor(e,t){super(e,t,new na,!1)}get parent(){const e=ai(this._path);return null===e?null:new dc(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class pc{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Zo(e),n=fc(this.ref,e);return new pc(this._node.getChild(t),n,ji)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new pc(n,fc(this.ref,t),ji)))}hasChild(e){const t=new Zo(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function hc(e,t){return(e=_n(e))._checkNotDeleted("ref"),void 0!==t?fc(e._root,t):e._root}function fc(e,t){var n,r,o,i;return null===ti((e=_n(e))._path)?(n="child",r="path",i=!1,(o=t)&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),Sl(n,r,o,i)):Sl("child","path",t,!1),new dc(e._repo,si(e._path,t))}function mc(e){return e=_n(e),new cc(e._repo,e._path)}function gc(e){return Cl("remove",e._path),yc(e,null)}function yc(e,t){e=_n(e),Cl("set",e._path),bl("set",t,e._path,!1);const n=new $t;return Fl(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function bc(e){e=_n(e);const t=new lc(()=>{}),n=new vc(t);return function(e,t,n){const r=zs(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const o=Gi(r).withIndex(t._queryParams.getIndex());let i;if(js(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())i=Ds(e.serverSyncTree_,t._path,o);else{const n=qs(e.serverSyncTree_,t);i=Ns(e.serverSyncTree_,t._path,o,n)}return kl(e.eventQueue_,t._path,i),Os(e.serverSyncTree_,t,n,null,!0),o},n=>(Hl(e,"get for query "+cn(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new pc(t,new dc(e._repo,e._path),e._queryParams.getIndex()))}class vc{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new ac("value",this,new pc(e.snapshotNode,new dc(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new sc(this,e,t):null}matches(e){return e instanceof vc&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class _c{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new sc(this,e,t):null}createEvent(e,t){Nt(null!=e.childName,"Child events should have a childName.");const n=fc(new dc(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ac(e.type,this,new pc(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof _c&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function xc(e,t,n,r,o){let i;if("object"===typeof r&&(i=void 0,o=r),"function"===typeof r&&(i=r),o&&o.onlyOnce){const t=n,r=(n,r)=>{ql(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const a=new lc(n,i||void 0),s="value"===t?new vc(a):new _c(t,a);return function(e,t,n){let r;r=".info"===ti(t._path)?js(e.infoSyncTree_,t,n):js(e.serverSyncTree_,t,n),Tl(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>ql(e._repo,e,s)}function Sc(e,t,n,r){return xc(e,"value",t,n,r)}!function(e){Nt(!gs,"__referenceConstructor has already been defined"),gs=e}(dc),function(e){Nt(!ys,"__referenceConstructor has already been defined"),ys=e}(dc);const Cc={};let wc=!1;function Ec(e,t,n,r,o){let i=r||e.options.databaseURL;void 0===i&&(e.options.projectId||po("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lo("Using default host for project ",e.options.projectId),i="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let a,s,l=nc(i,o),c=l.repoInfo;"undefined"!==typeof process&&(s={NODE_ENV:"production",PUBLIC_URL:"/helldrafters",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_TIME:"2026-01-18T16:57:36+11:00",REACT_APP_COMMIT_SHA:"ac275b9659f17adf442823c84c2a30d3d930d855",REACT_APP_FIREBASE_API_KEY:"AIzaSyARJLpsPz2mv9BMnOU5kOO9bPfw7XcCLqA",REACT_APP_FIREBASE_AUTH_DOMAIN:"helldrafters.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://helldrafters-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_PROJECT_ID:"helldrafters",REACT_APP_FIREBASE_STORAGE_BUCKET:"helldrafters.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"939935234211",REACT_APP_FIREBASE_APP_ID:"1:939935234211:web:714e4ab600a05445116716"}.FIREBASE_DATABASE_EMULATOR_HOST),s?(a=!0,i="http://".concat(s,"?ns=").concat(c.namespace),l=nc(i,o),c=l.repoInfo):a=!l.repoInfo.secure;const u=o&&a?new Io(Io.OWNER):new Ao(e.name,e.options,t);wl("Invalid Firebase Database URL",l),li(l.path)||po("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function(e,t,n,r){let o=Cc[t.name];o||(o={},Cc[t.name]=o);let i=o[e.toURLString()];i&&po("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return i=new Ml(e,wc,n,r),o[e.toURLString()]=i,i}(c,e,u,new ko(e,n));return new Rc(d,e)}class Rc{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Dl(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new dc(this._repo,ei())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Cc[t];n&&n[e.key]===e||po("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Yl(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&po("Cannot call "+e+" on a deleted database.")}}function Tc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr;const t=Rr.get(e);if(!t&&e===wr&&Kt())return Or();if(!t)throw Mr.create("no-app",{appName:e});return t}(),t=arguments.length>1?arguments[1]:void 0;const n=Pr(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Qt("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=_n(e),e._checkNotDeleted("useEmulator");const o="".concat(t,":").concat(n),i=e._repoInternal;if(e._instanceStarted){if(o===e._repoInternal.repoInfo_.host&&mn(r,i.repoInfo_.emulatorOptions))return;po("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&po('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Io(Io.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Wt(JSON.stringify({alg:"none",type:"JWT"})),Wt(JSON.stringify(i)),""].join(".")}(r.mockUserToken,e.app.options.projectId);a=new Io(t)}Xt(t)&&(!async function(e){(await fetch(e,{credentials:"include"})).ok}(t),en("Database",!0));!function(e,t,n,r){const o=t.lastIndexOf(":"),i=Xt(t.substring(0,o));e.repoInfo_=new jo(t,i,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(i,o,r,a)}(n,...e)}return n}const kc={".sv":"timestamp"};function Ac(){return kc}bi.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},bi.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Kr("12.8.0"),Ir(new xn("database",(e,t)=>{let{instanceIdentifier:n}=t;return Ec(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Nr(Gr,Vr,e),Nr(Gr,Vr,"esm2020")}();const Ic={apiKey:"AIzaSyARJLpsPz2mv9BMnOU5kOO9bPfw7XcCLqA",authDomain:"helldrafters.firebaseapp.com",databaseURL:"https://helldrafters-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"helldrafters",storageBucket:"helldrafters.firebasestorage.app",messagingSenderId:"939935234211",appId:"1:939935234211:web:714e4ab600a05445116716"};let Pc=null,Mc=null;const Dc=()=>{if(!Mc)throw new Error("Firebase not initialized. Call initializeFirebase() first.");return Mc},Oc={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Nc;const jc=new Uint8Array(16);const Lc=[];for(let vd=0;vd<256;++vd)Lc.push((vd+256).toString(16).slice(1));function zc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(Lc[e[t+0]]+Lc[e[t+1]]+Lc[e[t+2]]+Lc[e[t+3]]+"-"+Lc[e[t+4]]+Lc[e[t+5]]+"-"+Lc[e[t+6]]+Lc[e[t+7]]+"-"+Lc[e[t+8]]+Lc[e[t+9]]+"-"+Lc[e[t+10]]+Lc[e[t+11]]+Lc[e[t+12]]+Lc[e[t+13]]+Lc[e[t+14]]+Lc[e[t+15]]).toLowerCase()}function Bc(e,t,n){var r,o,i,a;const s=null!==(r=null!==(o=(e=e||{}).random)&&void 0!==o?o:null===(i=(a=e).rng)||void 0===i?void 0:i.call(a))&&void 0!==r?r:function(){if(!Nc){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Nc=crypto.getRandomValues.bind(crypto)}return Nc(jc)}();if(s.length<16)throw new Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range ".concat(n,":").concat(n+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[n+e]=s[e];return t}return zc(s)}const Fc=function(e,t,n){return!Oc.randomUUID||t||e?Bc(e,t,n):Oc.randomUUID()},Wc=(e,t)=>{const n=Sc(hc(Dc(),"lobbies/".concat(e)),e=>{e.exists()?t(e.val()):t(null)},e=>{console.error("Lobby subscription error:",e),t(null,e)});return n},Uc=["_syncedAt","_version"],qc=["DRAFT_PICK","DRAFT_REROLL","DRAFT_BURN","SKIP_DRAFT","LOCK_PLAYER_DRAFT_SLOT","UNLOCK_PLAYER_DRAFT_SLOT","EVENT_SELECT_CHOICE","EVENT_SELECT_STRATAGEM","EVENT_SELECT_BOOSTER","EVENT_SELECT_TARGET_PLAYER","EVENT_SELECT_TARGET_STRATAGEM","EQUIP_ITEM","STRATAGEM_REPLACEMENT","SACRIFICE_ITEM","SET_PLAYER_EXTRACTED","PLAYER_READY","PLAYER_NOT_READY"],Yc=(e,t)=>{var n,r;return!!qc.includes(e.type)&&((void 0===(null===(n=e.payload)||void 0===n?void 0:n.playerSlot)||e.payload.playerSlot===t)&&(void 0===(null===(r=e.payload)||void 0===r?void 0:r.playerIndex)||e.payload.playerIndex===t))},Hc=e=>{if(void 0===e)return null;if(null===e)return null;if(Array.isArray(e))return e.map(e=>Hc(e));if("object"===typeof e){const t={};for(const n of Object.keys(e)){const r=e[n];t[n]=void 0===r?null:Hc(r)}return t}return e},Gc=async(e,t,n)=>{const r=hc(Dc(),"lobbies/".concat(e,"/clientActions"));try{const e=function(e,t){e=_n(e),Cl("push",e._path),bl("push",t,e._path,!0);const n=Ol(e._repo),r=ic(n),o=fc(e,r),i=fc(e,r);let a;return a=null!=t?yc(i,t).then(()=>i):Promise.resolve(i),o.then=a.then.bind(a),o.catch=a.then.bind(a,void 0),o}(r);return await yc(e,{playerId:t,action:n,timestamp:Ac(),id:e.key}),e.key}catch(uo){throw console.error("Error sending client action:",uo),uo}},Vc=(e,t)=>{const n=function(e,t,n,r){return xc(e,"child_added",t,n,r)}(hc(Dc(),"lobbies/".concat(e,"/clientActions")),e=>{if(e.exists()){const n=e.val();t(n,e.key)}},e=>{console.error("Client actions subscription error:",e)});return n},Qc=async(e,t)=>{const n=hc(Dc(),"lobbies/".concat(e,"/clientActions/").concat(t));try{await gc(n)}catch(uo){console.error("Error removing client action:",uo)}},Kc=(0,r.createContext)(null),$c=()=>{let e=sessionStorage.getItem("helldrafters_player_id");return e||(e=Fc(),sessionStorage.setItem("helldrafters_player_id",e)),e};function Xc(e){let{children:t}=e;const[n,o]=(0,r.useState)(!1),[i,a]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[d,p]=(0,r.useState)(null),[h]=(0,r.useState)($c),[f,m]=(0,r.useState)(null),[g,y]=(0,r.useState)(""),[b,v]=(0,r.useState)("disconnected"),[_,x]=(0,r.useState)(null),[S,C]=(0,r.useState)(!1),[w,E]=(0,r.useState)(!1),R=(0,r.useRef)(null),T=(0,r.useRef)(null),k=(0,r.useRef)(null),A=(0,r.useRef)(null),I=(0,r.useRef)(null),P=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(Ic.apiKey&&Ic.databaseURL){const e=(()=>{if(!Ic.apiKey||!Ic.databaseURL)return console.warn("Firebase config not found. Multiplayer features will be disabled."),!1;try{return Pc=Or(Ic),Mc=Tc(Pc),!0}catch(_){return console.error("Failed to initialize Firebase:",_),!1}})();C(e)}},[]),(0,r.useEffect)(()=>()=>{k.current&&k.current(),A.current&&A.current(),I.current&&I.current()},[]);const M=(0,r.useCallback)(async(e,t)=>{if(!S)return x("Firebase not configured"),null;v("connecting"),x(null);try{const n=Fc(),r={id:h,name:e};return await(async(e,t,n)=>{const r=Dc(),o=hc(r,"lobbies/".concat(e)),i={id:e,hostId:t.id,createdAt:Ac(),status:"waiting",config:n,players:{[t.id]:{id:t.id,name:t.name,slot:0,isHost:!0,connected:!0,joinedAt:Ac()}},gameState:null,clientActions:{}};return await yc(o,i),mc(hc(r,"lobbies/".concat(e,"/players/").concat(t.id,"/connected"))).set(!1),i})(n,r,t),l(n),a(!0),o(!0),m(0),y(e),v("connected"),k.current=Wc(n,e=>{e?p(e):(x("Lobby was closed"),P.current&&P.current())}),n}catch(n){return console.error("Failed to host game:",n),x(n.message),v("disconnected"),null}},[S,h]),D=(0,r.useCallback)(async(e,t,n)=>{if(!S)return x("Firebase not configured"),!1;v("connecting"),x(null);try{const r={id:h,name:t},i=await(async(e,t,n)=>{const r=Dc(),o=hc(r,"lobbies/".concat(e));try{const i=await bc(o);if(!i.exists())return{success:!1,error:"Lobby not found"};const a=i.val();if("completed"===a.status)return{success:!1,error:"Game has already completed"};const s=a.players||{};if(Object.values(s).some(e=>e.slot===n))return{success:!1,error:"Slot is already taken"};if(Object.keys(s).length>=4)return{success:!1,error:"Lobby is full"};const l=hc(r,"lobbies/".concat(e,"/players/").concat(t.id));return await yc(l,{id:t.id,name:t.name,slot:n,isHost:!1,connected:!0,joinedAt:Ac()}),mc(hc(r,"lobbies/".concat(e,"/players/").concat(t.id,"/connected"))).set(!1),{success:!0,lobby:c(c({},a),{},{players:c(c({},s),{},{[t.id]:{id:t.id,name:t.name,slot:n,isHost:!1,connected:!0}})})}}catch(_){return console.error("Error joining lobby:",_),{success:!1,error:_.message}}})(e,r,n);return i.success?(l(e),a(!1),o(!0),m(n),y(t),v("connected"),k.current=Wc(e,e=>{e?p(e):(x("Lobby was closed by host"),E(!0),P.current&&P.current())}),A.current=((e,t)=>{const n=Sc(hc(Dc(),"lobbies/".concat(e,"/gameState")),e=>{if(e.exists()){const n=e.val(),{_syncedAt:r,_version:o}=n,i=u(n,Uc);t(i,o)}},e=>{console.error("Game state subscription error:",e)});return n})(e,e=>{e&&R.current&&R.current({type:"LOAD_GAME_STATE",payload:e})}),!0):(x(i.error),v("disconnected"),!1)}catch(r){return console.error("Failed to join game:",r),x(r.message),v("disconnected"),!1}},[S,h]),O=(0,r.useCallback)(async e=>S?await(async e=>{const t=hc(Dc(),"lobbies/".concat(e));try{const e=await bc(t);if(!e.exists())return null;const n=e.val(),r=n.gameState&&n.gameState.phase&&!["MENU","LOBBY"].includes(n.gameState.phase);return{id:n.id,status:n.status,config:n.config,players:n.players,hostId:n.hostId,isLoadedGame:r}}catch(_){return console.error("Error checking lobby:",_),null}})(e):null,[S]),N=(0,r.useCallback)(()=>d?(e=>{if(!e||!e.config)return[];const t=e.players||{},n=Object.values(t).map(e=>e.slot),r=[];for(let o=0;o<4;o++)n.includes(o)||r.push(o);return r})(d):[],[d]),j=(0,r.useCallback)(async e=>{if(!s||!h)return!1;const t=await(async(e,t,n)=>{const r=Dc();try{const o=hc(r,"lobbies/".concat(e,"/players")),i=await bc(o);if(!i.exists())return{success:!1,error:"Lobby not found"};const a=i.val();if(Object.values(a).some(e=>e.id!==t&&e.slot===n))return{success:!1,error:"Slot is already taken"};const s=hc(r,"lobbies/".concat(e,"/players/").concat(t,"/slot"));return await yc(s,n),{success:!0}}catch(_){return console.error("Error changing slot:",_),{success:!1,error:_.message}}})(s,h,e);return t.success?m(e):x(t.error),t.success},[s,h]),L=(0,r.useCallback)(async e=>{if(!i||!s)return!1;const t=await(async(e,t)=>{const n=hc(Dc(),"lobbies/".concat(e,"/players/").concat(t));try{return await gc(n),{success:!0}}catch(_){return console.error("Error kicking player:",_),{success:!1,error:_.message}}})(s,e);return t.success||x(t.error),t.success},[i,s]),z=(0,r.useCallback)(async()=>{i&&s&&(await(async(e,t)=>{const n=hc(Dc(),"lobbies/".concat(e,"/status"));try{await yc(n,t)}catch(_){console.error("Error updating lobby status:",_)}})(s,"in-game"),I.current=Vc(s,async(e,t)=>{const{playerId:n,action:r}=e,o=Object.values((null===d||void 0===d?void 0:d.players)||{}).find(e=>e.id===n);return o?Yc(r,o.slot)?(T.current&&T.current(r)||R.current&&R.current(r),void await Qc(s,t)):(console.warn("Unauthorized action from player:",r.type),void await Qc(s,t)):(console.warn("Action from unknown player:",n),void await Qc(s,t))}))},[i,s,d]),B=(0,r.useCallback)(async e=>{if(i&&s)try{await(async(e,t)=>{const n=hc(Dc(),"lobbies/".concat(e,"/gameState"));try{const e=c(c({},Hc(t)),{},{_syncedAt:Ac(),_version:(t._version||0)+1});await yc(n,e)}catch(_){throw console.error("Error syncing game state:",_),_}})(s,e)}catch(t){console.error("Failed to sync state:",t)}},[i,s]),F=(0,r.useCallback)(async e=>{if(!i&&s&&h)if(Yc(e,f))try{await Gc(s,h,e)}catch(t){console.error("Failed to send action:",t),x("Failed to send action")}else console.warn("Action not allowed:",e.type)},[i,s,h,f]),W=(0,r.useCallback)(async()=>{k.current&&(k.current(),k.current=null),A.current&&(A.current(),A.current=null),I.current&&(I.current(),I.current=null),s&&h&&(i?await(async e=>{const t=hc(Dc(),"lobbies/".concat(e));try{await gc(t)}catch(_){console.error("Error closing lobby:",_)}})(s):await(async(e,t)=>{const n=hc(Dc(),"lobbies/".concat(e,"/players/").concat(t));try{await gc(n)}catch(_){console.error("Error leaving lobby:",_)}})(s,h)),o(!1),a(!1),l(null),p(null),m(null),v("disconnected"),x(null)},[s,h,i]);(0,r.useEffect)(()=>{P.current=W},[W]);const U=(0,r.useCallback)(async e=>{if(s&&h)try{await(async(e,t,n)=>{const r=Dc();try{const o=[];if(void 0!==n.name){const i=hc(r,"lobbies/".concat(e,"/players/").concat(t,"/name"));o.push(yc(i,n.name))}if(void 0!==n.warbonds){const i=hc(r,"lobbies/".concat(e,"/players/").concat(t,"/warbonds"));o.push(yc(i,n.warbonds))}if(void 0!==n.includeSuperstore){const i=hc(r,"lobbies/".concat(e,"/players/").concat(t,"/includeSuperstore"));o.push(yc(i,n.includeSuperstore))}if(void 0!==n.ready){const i=hc(r,"lobbies/".concat(e,"/players/").concat(t,"/ready"));o.push(yc(i,n.ready))}return await Promise.all(o),{success:!0}}catch(_){return console.error("Error updating player config:",_),{success:!1,error:_.message}}})(s,h,e),void 0!==e.name&&y(e.name)}catch(t){console.error("Failed to update player config:",t),x("Failed to update configuration")}},[s,h]),q=(0,r.useCallback)(async e=>{if(s&&h)try{await(async(e,t,n)=>{const r=hc(Dc(),"lobbies/".concat(e,"/players/").concat(t,"/ready"));try{return await yc(r,n),{success:!0}}catch(_){return console.error("Error setting ready state:",_),{success:!1,error:_.message}}})(s,h,e)}catch(t){console.error("Failed to set ready state:",t),x("Failed to update ready state")}},[s,h]),Y=(0,r.useCallback)(()=>null!==d&&void 0!==d&&d.players?Object.values(d.players).filter(e=>e.connected).sort((e,t)=>e.slot-t.slot):[],[d]),H=(0,r.useCallback)(e=>{R.current=e},[]),G=(0,r.useCallback)(e=>{T.current=e},[]),V={isMultiplayer:n,isHost:i,lobbyId:s,lobbyData:d,playerId:h,playerSlot:f,playerName:g,connectionStatus:b,error:_,firebaseReady:S,hostDisconnected:w,connectedPlayers:null!==d&&void 0!==d&&d.players?Object.values(d.players):[],hostGame:M,joinGame:D,checkLobbyExists:O,getSlots:N,changeSlot:j,kickPlayerFromLobby:L,startMultiplayerGame:z,syncState:B,sendAction:F,disconnect:W,setDispatch:H,setActionHandler:G,updatePlayerConfig:U,setPlayerReady:q,getConnectedPlayers:Y,clearError:()=>x(null),clearHostDisconnected:()=>E(!1)};return(0,yt.jsx)(Kc.Provider,{value:V,children:t})}function Jc(){const e=(0,r.useContext)(Kc);if(!e)throw new Error("useMultiplayer must be used within a MultiplayerProvider");return e}const Zc="helldrafters_player_config";function eu(e){let{gameConfig:t,onStartRun:n,onCancel:o}=e;const i=dt(t.faction),{isMultiplayer:a,isHost:s,lobbyData:l,playerSlot:u,playerName:d,disconnect:p,updatePlayerConfig:h,setPlayerReady:f}=Jc(),m=(()=>{try{const e=localStorage.getItem(Zc);if(e)return JSON.parse(e)}catch(e){console.warn("Failed to load saved config:",e)}return null})(),[g,y]=(0,r.useState)({name:d||(null===m||void 0===m?void 0:m.name)||"Helldiver",warbonds:(null===m||void 0===m?void 0:m.warbonds)||[...Pt],includeSuperstore:(null===m||void 0===m?void 0:m.includeSuperstore)||!1}),[v,_]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),w=r.useRef(!1),E=(0,r.useCallback)(()=>{if(!a)return v;if(null===l||void 0===l||!l.players)return!1;const e=Object.values(l.players);return e.length>0&&e.every(e=>e.ready)},[a,l,v]);(0,r.useEffect)(()=>{a&&d&&!w.current&&(w.current=!0,y(e=>c(c({},e),{},{name:d})))},[a,d]),(0,r.useEffect)(()=>{(e=>{try{localStorage.setItem(Zc,JSON.stringify(e))}catch(t){console.warn("Failed to save config:",t)}})(g)},[g]),(0,r.useEffect)(()=>{a&&h&&h({name:g.name,warbonds:g.warbonds,includeSuperstore:g.includeSuperstore,ready:v})},[a,h,g,v]),(0,r.useEffect)(()=>{if(a&&s&&E()&&null!==l&&void 0!==l&&l.players){const e=Object.values(l.players).sort((e,t)=>e.slot-t.slot).map(e=>({name:e.name,warbonds:e.warbonds||[...Pt],includeSuperstore:e.includeSuperstore||!1}));setTimeout(()=>{n(e)},500)}},[a,s,E,l,n]);const R=e=>{y(t=>c(c({},t),e)),v&&_(!1)},T=e=>{const t=g.warbonds.includes(e)?g.warbonds.filter(t=>t!==e):[...g.warbonds,e];R({warbonds:t})},k=Object.values(It).filter(e=>e.type===Tt),A=Object.values(It).filter(e=>e.type===kt),I=Object.values(It).filter(e=>e.type===At),P=a&&null!==l&&void 0!==l&&l.players?Object.values(l.players).sort((e,t)=>e.slot-t.slot):[];return(0,yt.jsx)("div",{style:{minHeight:"100vh",background:ft,color:"white",padding:"80px 24px"},children:(0,yt.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,yt.jsxs)("div",{style:{textAlign:"center",marginBottom:"48px"},children:[(0,yt.jsx)("h1",{style:{fontSize:"72px",fontWeight:"900",color:i.PRIMARY,margin:"0 0 8px 0",letterSpacing:"0.05em",textTransform:"uppercase",textShadow:i.GLOW},children:a?"SQUAD LOADOUT":"LOADOUT SETUP"}),(0,yt.jsx)("div",{style:{background:ht,padding:"12px",margin:"0 auto 24px auto",maxWidth:"500px"},children:(0,yt.jsx)("p",{style:{fontSize:"18px",fontWeight:"bold",color:"white",textTransform:"uppercase",letterSpacing:"0.3em",margin:0},children:a?"Configure Your Warbonds":"Select Your Equipment"})})]}),a&&P.length>0&&(0,yt.jsxs)("div",{style:{backgroundColor:ct.CARD_BG,borderRadius:"8px",padding:"24px",marginBottom:"32px",border:"1px solid ".concat(ct.CARD_BORDER)},children:[(0,yt.jsxs)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:ct.TEXT_MUTED,marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.15em"},children:[(0,yt.jsx)(b,{size:16,style:{marginRight:"8px",verticalAlign:"middle"}}),"SQUAD STATUS"]}),(0,yt.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:P.map(e=>{const t=e.slot===u,n=t?v:e.ready,r=t?g.name:e.name;return(0,yt.jsxs)("div",{style:{padding:"12px 20px",backgroundColor:n?"rgba(34, 197, 94, 0.2)":ct.BG_MAIN,borderRadius:"4px",border:"2px solid ".concat(n?"#22c55e":t?i.PRIMARY:ct.CARD_BORDER),display:"flex",alignItems:"center",gap:"12px",opacity:e.connected?1:.5},children:[e.isHost&&(0,yt.jsx)(Et,{size:16,style:{color:i.PRIMARY}}),(0,yt.jsx)("span",{style:{fontWeight:"bold",color:t?i.PRIMARY:n?"#22c55e":"white"},children:r}),t&&(0,yt.jsx)("span",{style:{fontSize:"11px",color:ct.TEXT_MUTED},children:"(YOU)"}),n&&(0,yt.jsx)(x,{size:16,style:{color:"#22c55e"}}),!e.connected&&(0,yt.jsx)("span",{style:{fontSize:"11px",color:"#ef4444"},children:"(DISCONNECTED)"})]},e.slot)})})]}),(0,yt.jsxs)("div",{style:{backgroundColor:ct.CARD_BG,padding:"48px",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.5)",marginBottom:"32px",boxShadow:pt.CARD},children:[(0,yt.jsxs)("div",{style:{marginBottom:"48px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:ct.TEXT_MUTED,textTransform:"uppercase",letterSpacing:"0.2em",marginBottom:"12px"},children:"\u25cf HELLDIVER DESIGNATION"}),S?(0,yt.jsx)("input",{type:"text",value:g.name,onChange:e=>R({name:e.target.value}),onBlur:()=>C(!1),onKeyDown:e=>"Enter"===e.key&&C(!1),style:{width:"100%",padding:"20px 24px",backgroundColor:ct.BG_MAIN,border:"3px solid ".concat(i.PRIMARY),borderRadius:"4px",fontSize:"28px",fontWeight:"900",color:i.PRIMARY,textTransform:"uppercase",letterSpacing:"0.05em",outline:"none",boxShadow:i.GLOW},autoFocus:!0,maxLength:30}):(0,yt.jsx)("button",{onClick:()=>C(!0),disabled:v,style:{width:"100%",padding:"20px 24px",backgroundColor:ct.BG_MAIN,border:"2px solid ".concat(ct.CARD_BORDER),borderRadius:"4px",fontSize:"28px",fontWeight:"900",color:"white",textAlign:"left",textTransform:"uppercase",letterSpacing:"0.05em",cursor:v?"not-allowed":"pointer",transition:"all 0.2s",opacity:v?.7:1},onMouseEnter:e=>{v||(e.currentTarget.style.borderColor=i.PRIMARY,e.currentTarget.style.color=i.PRIMARY)},onMouseLeave:e=>{v||(e.currentTarget.style.borderColor=ct.CARD_BORDER,e.currentTarget.style.color="white")},children:g.name})]}),(0,yt.jsxs)("div",{style:{opacity:v?.7:1,pointerEvents:v?"none":"auto"},children:[(0,yt.jsx)("h2",{style:{fontSize:"32px",fontWeight:"900",color:i.PRIMARY,marginBottom:"32px",textTransform:"uppercase",letterSpacing:"0.1em",textShadow:i.GLOW},children:"\u25b8 SELECT WARBONDS"}),(0,yt.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,yt.jsx)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:ct.TEXT_SECONDARY,marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.15em",borderLeft:"4px solid ".concat(i.PRIMARY),paddingLeft:"12px"},children:"STANDARD (FREE)"}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:k.map(e=>(0,yt.jsx)(tu,{warbond:e,selected:g.warbonds.includes(e.id),onToggle:()=>T(e.id),disabled:"helldivers_mobilize"===e.id,factionColors:i},e.id))})]}),(0,yt.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,yt.jsx)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:ct.TEXT_SECONDARY,marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.15em",borderLeft:"4px solid ".concat(ct.ACCENT_BLUE),paddingLeft:"12px"},children:"PREMIUM WARBONDS"}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},children:A.map(e=>(0,yt.jsx)(tu,{warbond:e,selected:g.warbonds.includes(e.id),onToggle:()=>T(e.id),factionColors:i},e.id))})]}),(0,yt.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,yt.jsx)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:ct.TEXT_SECONDARY,marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.15em",borderLeft:"4px solid ".concat(ct.ACCENT_PURPLE),paddingLeft:"12px"},children:"LEGENDARY WARBONDS"}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},children:I.map(e=>(0,yt.jsx)(tu,{warbond:e,selected:g.warbonds.includes(e.id),onToggle:()=>T(e.id),factionColors:i},e.id))})]}),(0,yt.jsx)("div",{style:{backgroundColor:ct.BG_MAIN,borderRadius:"4px",padding:"24px",border:"1px solid ".concat(ct.CARD_BORDER)},children:(0,yt.jsxs)("label",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},children:[(0,yt.jsxs)("div",{style:{flex:1},children:[(0,yt.jsx)("div",{style:{fontSize:"18px",fontWeight:"900",color:ct.ACCENT_PURPLE,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"8px"},children:"\u25b8 INCLUDE SUPERSTORE ITEMS"}),(0,yt.jsx)("div",{style:{fontSize:"13px",color:ct.TEXT_MUTED,lineHeight:"1.5"},children:"Allow items from the rotating Superstore in drafts"})]}),(0,yt.jsx)("input",{type:"checkbox",checked:g.includeSuperstore,onChange:e=>R({includeSuperstore:e.target.checked}),style:{width:"24px",height:"24px",cursor:"pointer",accentColor:ct.ACCENT_PURPLE}})]})})]})]}),(0,yt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"16px"},children:[(0,yt.jsxs)("button",{onClick:async()=>{a&&p&&await p(),o()},style:{padding:"16px 32px",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"2px solid #7f1d1d",borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",letterSpacing:"0.1em",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.2)",e.currentTarget.style.borderColor="#ef4444"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.1)",e.currentTarget.style.borderColor="#7f1d1d"},children:[(0,yt.jsx)(Rt,{size:18}),a?"EXIT LOBBY":"BACK TO MENU"]}),a?(0,yt.jsx)("button",{onClick:()=>{const e=!v;_(e),a&&f&&f(e)},style:c(c({},gt.PRIMARY),{},{padding:"16px 48px",borderRadius:"4px",fontSize:"16px",display:"flex",alignItems:"center",gap:"12px",backgroundColor:v?"#22c55e":i.PRIMARY,color:v?"white":"black"}),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow=v?pt.GLOW_GREEN:i.SHADOW_HOVER},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:v?(0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsx)(x,{size:20}),"READY! (CLICK TO UNREADY)"]}):(0,yt.jsxs)(yt.Fragment,{children:["READY UP ",(0,yt.jsx)(x,{size:20})]})}):(0,yt.jsxs)("button",{onClick:()=>{n([g])},style:c(c({},gt.PRIMARY),{},{padding:"16px 48px",borderRadius:"4px",fontSize:"16px",display:"flex",alignItems:"center",gap:"12px"}),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=i.PRIMARY_HOVER,e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow=i.SHADOW_HOVER},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=i.PRIMARY,e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow=i.SHADOW},children:["START RUN ",(0,yt.jsx)(x,{size:20})]})]}),a&&v&&!E()&&(0,yt.jsx)("div",{style:{textAlign:"center",marginTop:"24px",padding:"16px",backgroundColor:"rgba(34, 197, 94, 0.1)",borderRadius:"4px",border:"1px solid rgba(34, 197, 94, 0.3)"},children:(0,yt.jsx)("p",{style:{color:"#22c55e",margin:0,fontWeight:"bold"},children:"Waiting for all players to ready up..."})})]})})}function tu(e){let{warbond:t,selected:n,onToggle:r,disabled:o=!1,factionColors:i}=e;const a=()=>o?ct.CARD_BORDER:n?t.type===At?ct.ACCENT_PURPLE:t.type===kt?ct.ACCENT_BLUE:i.PRIMARY:ct.CARD_BORDER,s=()=>t.type===At?"#c084fc":t.type===kt?"#60a5fa":i.PRIMARY;return(0,yt.jsxs)("button",{onClick:r,disabled:o,style:{position:"relative",borderRadius:"4px",padding:"16px 20px",border:"2px solid ".concat(a()),transition:"all 0.2s",backgroundColor:n?"rgba(0, 0, 0, 0.4)":ct.BG_MAIN,cursor:o?"not-allowed":"pointer",opacity:o?.6:1,transform:n?"scale(1.02)":"scale(1)",boxShadow:n?t.type===At?pt.GLOW_PURPLE:t.type===kt?pt.GLOW_BLUE:i.GLOW:"none",textAlign:"left"},onMouseEnter:e=>{o||n||(e.currentTarget.style.borderColor="rgba(100, 116, 139, 0.6)",e.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.6)")},onMouseLeave:e=>{o||n||(e.currentTarget.style.borderColor=ct.CARD_BORDER,e.currentTarget.style.backgroundColor=ct.BG_MAIN)},children:[(0,yt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[(0,yt.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,yt.jsx)("div",{style:{fontWeight:"bold",fontSize:"14px",color:n?s():ct.TEXT_SECONDARY,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name}),(0,yt.jsxs)("div",{style:{fontSize:"10px",color:ct.TEXT_DISABLED,fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.1em"},children:[t.type===Tt&&"\u25cf FREE",t.type===kt&&"\u25cf PREMIUM",t.type===At&&"\u25cf LEGENDARY"]})]}),n&&(0,yt.jsx)(x,{style:{color:s(),flexShrink:0},size:20})]}),t.image&&(0,yt.jsx)("div",{style:{width:"100%",aspectRatio:"16 / 9",borderRadius:"4px",overflow:"hidden",border:"1px solid ".concat(n?a():"rgba(100, 116, 139, 0.3)"),backgroundColor:"rgba(0, 0, 0, 0.3)"},children:(0,yt.jsx)("img",{src:t.image,alt:t.name,style:{width:"100%",height:"100%",objectFit:"contain",backgroundColor:"#000"},onError:e=>{e.target.style.display="none",e.target.parentElement.innerHTML='<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: #64748b; font-size: 12px; font-weight: bold;">IMAGE UNAVAILABLE</div>'}})})]}),o&&(0,yt.jsx)("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:"4px"},children:(0,yt.jsx)("span",{style:{fontSize:"11px",fontWeight:"bold",color:i.PRIMARY,textTransform:"uppercase",letterSpacing:"0.1em"},children:"\u25cf REQUIRED"})})]})}function nu(e){let{gameConfig:t,eventsEnabled:n,onUpdateGameConfig:r,onSetSubfaction:o,onSetEventsEnabled:i,factionColors:a}=e;const s=a||dt(t.faction);return(0,yt.jsxs)("div",{children:[(0,yt.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Theatre of War"}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"12px"},children:["terminid","automaton","illuminate"].map(e=>{const n=t.faction===e,i=dt(e);return(0,yt.jsx)("button",{onClick:()=>{r({faction:e});const t=(0,Ue.getSubfactionsForFaction)(e);t.length>0&&o(t[0])},style:{padding:"16px",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",transition:"all 0.2s",backgroundColor:n?"".concat(i.PRIMARY,"20"):"transparent",color:n?i.PRIMARY:"#64748b",border:n?"2px solid ".concat(i.PRIMARY):"1px solid rgba(100, 116, 139, 0.5)",cursor:"pointer",fontSize:"13px",letterSpacing:"0.5px"},onMouseEnter:e=>{n||(e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.1)",e.currentTarget.style.color="#94a3b8")},onMouseLeave:e=>{n||(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#64748b")},children:"terminid"===e?"Terminids":"automaton"===e?"Automatons":"Illuminate"},e)})})]}),(0,yt.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Enemy Variant"}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:(0,Ue.getSubfactionsForFaction)(t.faction).map(e=>{const n=t.subfaction===e,r=Ue.SUBFACTION_CONFIG[e];return(0,yt.jsxs)("button",{onClick:()=>o(e),style:{padding:"16px",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",transition:"all 0.2s",fontSize:"13px",letterSpacing:"0.5px",backgroundColor:n?"".concat(s.PRIMARY,"15"):"transparent",color:n?s.PRIMARY:"#64748b",border:n?"2px solid ".concat(s.PRIMARY):"1px solid rgba(100, 116, 139, 0.5)",cursor:"pointer",textAlign:"left"},onMouseEnter:e=>{n||(e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.1)",e.currentTarget.style.color="#94a3b8")},onMouseLeave:e=>{n||(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#64748b")},children:[(0,yt.jsx)("div",{style:{fontSize:"14px",marginBottom:"4px"},children:r.name}),(0,yt.jsxs)("div",{style:{fontSize:"11px",color:n?s.PRIMARY:"#64748b",opacity:.8},children:[r.description," \u2022 Req: ",r.reqMultiplier,"x \u2022 Rares: ",r.rareWeightMultiplier,"x"]})]},e)})})]}),(0,yt.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Game Mode Options"}),(0,yt.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",textAlign:"left"},children:[(0,yt.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:t.globalUniqueness?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,yt.jsx)("input",{type:"checkbox",checked:t.globalUniqueness,onChange:e=>r({globalUniqueness:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px"},children:"Global Card Uniqueness"}),(0,yt.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Cards drafted by one player cannot appear for other players"})]})]}),(0,yt.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:t.burnCards?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,yt.jsx)("input",{type:"checkbox",checked:t.burnCards,onChange:e=>r({burnCards:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px"},children:"Burn Cards After Viewing"}),(0,yt.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Once a card appears in a draft, it cannot appear again this run"})]})]}),(0,yt.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:t.customStart?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,yt.jsx)("input",{type:"checkbox",checked:t.customStart,onChange:e=>r({customStart:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px"},children:"Custom Start Mode"}),(0,yt.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Choose starting difficulty and loadouts for each player"})]})]}),(0,yt.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:n?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,yt.jsx)("input",{type:"checkbox",checked:n,onChange:e=>i(e.target.checked),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px"},children:"Enable Events"}),(0,yt.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Random high-risk, high-reward events between missions"})]})]}),(0,yt.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:t.endlessMode?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,yt.jsx)("input",{type:"checkbox",checked:t.endlessMode,onChange:e=>r({endlessMode:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px"},children:"Endless Mode"}),(0,yt.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Continue running D10 missions indefinitely. Otherwise, win after completing D10"})]})]}),(0,yt.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:t.brutalityMode?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,yt.jsx)("input",{type:"checkbox",checked:t.brutalityMode,onChange:e=>r({brutalityMode:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px"},children:"Brutality Mode"}),(0,yt.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Non-extracted Helldivers sacrifice loadout items (down to Peacemaker & B-01). If disabled, only all-fail triggers sacrifice."})]})]})]})]})]})}function ru(e){var t,n;let{gameConfig:r}=e;const o=(e,t)=>{const n=(0,Ue.getRareWeightMultiplier)(e,t);return{[K]:60,[$]:35,[X]:10+Math.round(5*n),[J]:10+Math.round(2*n)}},i=e=>{const t=Object.values(e).reduce((e,t)=>e+t,0);return Object.entries(e).reduce((e,n)=>{let[r,o]=n;return e[r]=(o/t*100).toFixed(1),e},{})},a=o(r.playerCount,r.subfaction),s=i(a),l={[K]:"#9CA3AF",[$]:"#60A5FA",[X]:"#A78BFA",[J]:"#FBBF24"},c=(null===(t=Ue.SUBFACTION_CONFIG[r.subfaction])||void 0===t?void 0:t.name)||"Unknown",u=(null===(n=Ue.SUBFACTION_CONFIG[r.subfaction])||void 0===n?void 0:n.rareWeightMultiplier)||1;return(0,yt.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.8)",border:"2px solid ".concat(ct.ACCENT_YELLOW),borderRadius:"8px",padding:"24px",maxWidth:"800px",margin:"0 auto 24px auto",boxShadow:pt.GLOW},children:[(0,yt.jsx)("h3",{style:{fontSize:"20px",fontWeight:"bold",color:ct.ACCENT_YELLOW,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"16px",textAlign:"center"},children:"Debug: Rarity Weight Visualization"}),(0,yt.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"4px",padding:"12px",marginBottom:"20px",fontSize:"14px"},children:[(0,yt.jsxs)("p",{style:{margin:"0 0 4px 0"},children:[(0,yt.jsx)("strong",{children:"Player Count:"})," ",r.playerCount," ","(Rare Multiplier: ",Math.pow(.7,r.playerCount-1).toFixed(3),"\xd7)"]}),(0,yt.jsxs)("p",{style:{margin:"0"},children:[(0,yt.jsx)("strong",{children:"Subfaction:"})," ",c," ","(Rare Multiplier: ",u.toFixed(2),"\xd7)"]})]}),(0,yt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,yt.jsx)("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"12px"},children:"Current Draw Weights"}),(0,yt.jsx)("div",{style:{display:"flex",height:"60px",borderRadius:"4px",overflow:"hidden",marginBottom:"12px"},children:Object.entries(a).map(e=>{let[t,n]=e;const r=s[t];return(0,yt.jsxs)("div",{style:{flex:n,background:l[t],display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"12px",textShadow:"0 1px 2px rgba(0,0,0,0.8)",minWidth:"60px"},children:[(0,yt.jsx)("div",{children:t}),(0,yt.jsxs)("div",{style:{fontSize:"10px"},children:[r,"%"]})]},t)})}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px",fontSize:"12px"},children:Object.entries(a).map(e=>{let[t,n]=e;return(0,yt.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:"8px",borderRadius:"4px",borderLeft:"4px solid ".concat(l[t])},children:[(0,yt.jsx)("div",{style:{fontWeight:"bold"},children:t}),(0,yt.jsxs)("div",{style:{fontSize:"11px",opacity:.8},children:["Weight: ",n]})]},t)})})]}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"12px"},children:"Weight Comparison (by Player Count)"}),(0,yt.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"4px",overflow:"hidden"},children:(0,yt.jsxs)("table",{style:{width:"100%",fontSize:"12px",borderCollapse:"collapse"},children:[(0,yt.jsx)("thead",{children:(0,yt.jsxs)("tr",{style:{background:"rgba(255, 255, 255, 0.1)"},children:[(0,yt.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"Players"}),(0,yt.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Common"}),(0,yt.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Uncommon"}),(0,yt.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Rare"}),(0,yt.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Legendary"})]})}),(0,yt.jsx)("tbody",{children:[1,2,3,4].map(e=>{const t=o(e,r.subfaction),n=i(t),a=e===r.playerCount;return(0,yt.jsxs)("tr",{style:{background:a?"rgba(255, 255, 255, 0.1)":"transparent",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,yt.jsxs)("td",{style:{padding:"8px",fontWeight:a?"bold":"normal"},children:[e," ",a&&"\u2190"]}),(0,yt.jsxs)("td",{style:{padding:"8px",textAlign:"center"},children:[t[K]," (",n[K],"%)"]}),(0,yt.jsxs)("td",{style:{padding:"8px",textAlign:"center"},children:[t[$]," (",n[$],"%)"]}),(0,yt.jsxs)("td",{style:{padding:"8px",textAlign:"center"},children:[t[X]," (",n[X],"%)"]}),(0,yt.jsxs)("td",{style:{padding:"8px",textAlign:"center"},children:[t[J]," (",n[J],"%)"]})]},e)})})]})})]}),(0,yt.jsxs)("div",{style:{marginTop:"20px"},children:[(0,yt.jsxs)("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"12px"},children:["Weight Comparison (by Subfaction @ ",r.playerCount,"P)"]}),(0,yt.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"4px",overflow:"hidden",maxHeight:"300px",overflowY:"auto"},children:(0,yt.jsxs)("table",{style:{width:"100%",fontSize:"11px",borderCollapse:"collapse"},children:[(0,yt.jsx)("thead",{style:{position:"sticky",top:0,background:"rgba(0, 0, 0, 0.9)"},children:(0,yt.jsxs)("tr",{style:{background:"rgba(255, 255, 255, 0.1)"},children:[(0,yt.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"Subfaction"}),(0,yt.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Mult"}),(0,yt.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Rare"}),(0,yt.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Legendary"})]})}),(0,yt.jsx)("tbody",{children:Object.entries(Ue.SUBFACTION_CONFIG).map(e=>{let[t,n]=e;const i=o(r.playerCount,t),a=t===r.subfaction;return(0,yt.jsxs)("tr",{style:{background:a?"rgba(255, 255, 255, 0.1)":"transparent",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,yt.jsxs)("td",{style:{padding:"6px",fontWeight:a?"bold":"normal"},children:[n.name," ",a&&"\u2190"]}),(0,yt.jsxs)("td",{style:{padding:"6px",textAlign:"center"},children:[n.rareWeightMultiplier.toFixed(2),"\xd7"]}),(0,yt.jsx)("td",{style:{padding:"6px",textAlign:"center"},children:i[X]}),(0,yt.jsx)("td",{style:{padding:"6px",textAlign:"center"},children:i[J]})]},t)})})]})})]}),(0,yt.jsxs)("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(251, 191, 36, 0.1)",borderLeft:"4px solid ".concat(ct.ACCENT_YELLOW),borderRadius:"4px",fontSize:"12px",opacity:.8},children:[(0,yt.jsx)("strong",{children:"Note:"})," Weights shown are base rarity weights before additional modifiers like faction synergy, AT requirements, or backpack restrictions are applied."]})]})}const ou=y("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),iu=y("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),au=y("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),su=y("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function lu(e){let{gameConfig:t,onHost:n,onJoin:r,onBack:o}=e;const i=dt(t.faction),{firebaseReady:a,error:s,clearError:l}=Jc();return a?(0,yt.jsx)("div",{style:{minHeight:"100vh",background:ft,color:"white",padding:"80px 24px"},children:(0,yt.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[(0,yt.jsxs)("div",{style:{textAlign:"center",marginBottom:"64px"},children:[(0,yt.jsx)("h1",{style:{fontSize:"72px",fontWeight:"900",color:i.PRIMARY,margin:"0 0 8px 0",letterSpacing:"0.05em",textTransform:"uppercase",textShadow:i.GLOW},children:"MULTIPLAYER"}),(0,yt.jsx)("div",{style:{background:ht,padding:"12px",margin:"0 auto",maxWidth:"400px"},children:(0,yt.jsx)("p",{style:{fontSize:"16px",fontWeight:"bold",color:"white",textTransform:"uppercase",letterSpacing:"0.3em",margin:0},children:"Squad Up"})})]}),s&&(0,yt.jsxs)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"4px",padding:"16px",marginBottom:"32px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,yt.jsx)("span",{style:{color:"#ef4444"},children:s}),(0,yt.jsx)("button",{onClick:l,style:{color:"#ef4444",background:"none",border:"none",cursor:"pointer"},children:"\u2715"})]}),(0,yt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"32px",marginBottom:"48px"},children:[(0,yt.jsxs)("button",{onClick:n,style:{backgroundColor:ct.CARD_BG,border:"2px solid ".concat(ct.CARD_BORDER),borderRadius:"8px",padding:"48px 32px",cursor:"pointer",transition:"all 0.2s",textAlign:"center"},onMouseEnter:e=>{e.currentTarget.style.borderColor=i.PRIMARY,e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow=i.SHADOW},onMouseLeave:e=>{e.currentTarget.style.borderColor=ct.CARD_BORDER,e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,yt.jsx)(Et,{size:64,style:{color:i.PRIMARY,marginBottom:"24px"}}),(0,yt.jsx)("h2",{style:{fontSize:"28px",fontWeight:"900",color:i.PRIMARY,marginBottom:"12px",textTransform:"uppercase"},children:"HOST GAME"}),(0,yt.jsx)("p",{style:{fontSize:"14px",color:ct.TEXT_MUTED,margin:0},children:"Create a new lobby and invite your squad"})]}),(0,yt.jsxs)("button",{onClick:r,style:{backgroundColor:ct.CARD_BG,border:"2px solid ".concat(ct.CARD_BORDER),borderRadius:"8px",padding:"48px 32px",cursor:"pointer",transition:"all 0.2s",textAlign:"center"},onMouseEnter:e=>{e.currentTarget.style.borderColor=ct.ACCENT_BLUE,e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow=pt.GLOW_BLUE},onMouseLeave:e=>{e.currentTarget.style.borderColor=ct.CARD_BORDER,e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,yt.jsx)(b,{size:64,style:{color:ct.ACCENT_BLUE,marginBottom:"24px"}}),(0,yt.jsx)("h2",{style:{fontSize:"28px",fontWeight:"900",color:ct.ACCENT_BLUE,marginBottom:"12px",textTransform:"uppercase"},children:"JOIN GAME"}),(0,yt.jsx)("p",{style:{fontSize:"14px",color:ct.TEXT_MUTED,margin:0},children:"Enter a lobby code to join your squad"})]})]}),(0,yt.jsx)("div",{style:{textAlign:"center"},children:(0,yt.jsx)("button",{onClick:o,style:{padding:"16px 32px",backgroundColor:"transparent",color:ct.TEXT_MUTED,border:"2px solid ".concat(ct.CARD_BORDER),borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor=ct.TEXT_DISABLED,e.currentTarget.style.color=ct.TEXT_SECONDARY},onMouseLeave:e=>{e.currentTarget.style.borderColor=ct.CARD_BORDER,e.currentTarget.style.color=ct.TEXT_MUTED},children:"\u2190 BACK TO MENU"})})]})}):(0,yt.jsx)("div",{style:{minHeight:"100vh",background:ft,color:"white",padding:"80px 24px"},children:(0,yt.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[(0,yt.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:"#ef4444",marginBottom:"24px"},children:"MULTIPLAYER UNAVAILABLE"}),(0,yt.jsx)("p",{style:{fontSize:"16px",color:ct.TEXT_MUTED,marginBottom:"32px"},children:"Firebase is not configured. Please add your Firebase configuration to enable multiplayer features."}),(0,yt.jsx)("p",{style:{fontSize:"14px",color:ct.TEXT_DISABLED,marginBottom:"48px"},children:"See src/systems/multiplayer/firebaseConfig.js for setup instructions."}),(0,yt.jsx)("button",{onClick:o,style:{padding:"16px 32px",backgroundColor:"transparent",color:ct.TEXT_MUTED,border:"2px solid ".concat(ct.CARD_BORDER),borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",cursor:"pointer"},children:"\u2190 BACK TO MENU"})]})})}function cu(e){let{gameConfig:t,onJoinLobby:n,onBack:o}=e;const i=dt(t.faction),{checkLobbyExists:a,error:s,clearError:l}=Jc(),[c,u]=(0,r.useState)(""),[d,p]=(0,r.useState)(()=>{try{return localStorage.getItem("helldrafters_mp_name")||""}catch(e){return""}}),[h,f]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),[y,b]=(0,r.useState)(null),v=(0,r.useRef)("");(0,r.useEffect)(()=>{const e=c.trim();if(/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)&&e!==v.current&&!h){v.current=e;(async()=>{f(!0),l();const t=await a(e);if(g(t),f(!1),t&&!t.isLoadedGame){const e=t.players||{},n=Object.values(e).map(e=>e.slot);for(let t=0;t<4;t++)if(!n.includes(t)){b(t);break}}else b(null)})()}},[c,h,a,l]);const x=null===m||void 0===m?void 0:m.isLoadedGame,S=(()=>{if(!m)return[];const e=m.players||{},t=Object.values(e).map(e=>e.slot),n=[];for(let r=0;r<4;r++)t.includes(r)||n.push(r);return n})();return(0,yt.jsx)("div",{style:{minHeight:"100vh",background:ft,color:"white",padding:"80px 24px"},children:(0,yt.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[(0,yt.jsxs)("div",{style:{textAlign:"center",marginBottom:"48px"},children:[(0,yt.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:ct.ACCENT_BLUE,marginBottom:"8px",textTransform:"uppercase"},children:"JOIN GAME"}),(0,yt.jsx)("p",{style:{fontSize:"16px",color:ct.TEXT_MUTED},children:"Enter the lobby code shared by your host"})]}),s&&(0,yt.jsx)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"4px",padding:"16px",marginBottom:"24px"},children:(0,yt.jsx)("span",{style:{color:"#ef4444"},children:s})}),(0,yt.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:ct.TEXT_MUTED,textTransform:"uppercase",marginBottom:"8px"},children:"LOBBY CODE"}),(0,yt.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,yt.jsx)("input",{type:"text",value:c,onChange:e=>{u(e.target.value),g(null),b(null)},placeholder:"Enter lobby code (UUID)",style:{flex:1,padding:"16px",backgroundColor:ct.BG_MAIN,border:"2px solid ".concat(ct.CARD_BORDER),borderRadius:"4px",fontSize:"16px",color:"white",outline:"none"}}),(0,yt.jsx)("button",{onClick:async()=>{if(!c.trim())return;f(!0),l();const e=await a(c.trim());if(g(e),f(!1),e&&!e.isLoadedGame){const t=e.players||{},n=Object.values(t).map(e=>e.slot);for(let e=0;e<4;e++)if(!n.includes(e)){b(e);break}}else b(null)},disabled:!c.trim()||h,style:{padding:"16px 24px",backgroundColor:ct.ACCENT_BLUE,color:"white",border:"none",borderRadius:"4px",fontWeight:"bold",cursor:c.trim()&&!h?"pointer":"not-allowed",opacity:c.trim()&&!h?1:.5},children:h?(0,yt.jsx)(_,{size:20,className:"spin"}):"CHECK"})]})]}),m&&(0,yt.jsxs)("div",{style:{backgroundColor:ct.CARD_BG,borderRadius:"8px",padding:"24px",marginBottom:"32px",border:"1px solid ".concat(ct.CARD_BORDER)},children:[(0,yt.jsx)("h3",{style:{color:i.PRIMARY,marginBottom:"16px",textTransform:"uppercase"},children:"LOBBY FOUND"}),(0,yt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,yt.jsx)("div",{style:{fontSize:"12px",color:ct.TEXT_MUTED,marginBottom:"8px"},children:"PLAYERS IN LOBBY"}),(0,yt.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Object.values(m.players||{}).map(e=>(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",backgroundColor:ct.BG_MAIN,borderRadius:"4px",border:"1px solid ".concat(e.isHost?i.PRIMARY:ct.CARD_BORDER)},children:[e.isHost&&(0,yt.jsx)(Et,{size:14,style:{color:i.PRIMARY}}),(0,yt.jsx)("span",{style:{color:e.connected?"white":ct.TEXT_DISABLED},children:e.name}),(0,yt.jsxs)("span",{style:{fontSize:"10px",color:ct.TEXT_MUTED},children:["(Slot ",e.slot+1,")"]})]},e.id))})]}),(0,yt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:ct.TEXT_MUTED,textTransform:"uppercase",marginBottom:"8px"},children:"YOUR NAME"}),(0,yt.jsx)("input",{type:"text",value:d,onChange:e=>p(e.target.value),placeholder:"Enter your helldiver name",maxLength:30,style:{width:"100%",padding:"16px",backgroundColor:ct.BG_MAIN,border:"2px solid ".concat(ct.CARD_BORDER),borderRadius:"4px",fontSize:"16px",color:"white",outline:"none"}})]}),x&&(0,yt.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:ct.TEXT_MUTED,textTransform:"uppercase",marginBottom:"8px"},children:"SELECT YOUR SLOT"}),(0,yt.jsx)("p",{style:{fontSize:"12px",color:ct.TEXT_SECONDARY,marginBottom:"12px"},children:"This is a saved game. Select which helldiver slot you want to play as."}),0===S.length?(0,yt.jsx)("p",{style:{color:"#ef4444"},children:"No slots available - lobby is full"}):(0,yt.jsx)("div",{style:{display:"flex",gap:"12px"},children:S.map(e=>(0,yt.jsxs)("button",{onClick:()=>b(e),style:{padding:"16px 24px",backgroundColor:y===e?i.PRIMARY:ct.BG_MAIN,color:y===e?"black":"white",border:"2px solid ".concat(y===e?i.PRIMARY:ct.CARD_BORDER),borderRadius:"4px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s"},children:["Slot ",e+1]},e))})]}),!x&&null!==y&&(0,yt.jsx)("div",{style:{marginBottom:"24px"},children:(0,yt.jsx)("div",{style:{padding:"12px 16px",backgroundColor:"".concat(i.PRIMARY,"20"),border:"1px solid ".concat(i.PRIMARY,"40"),borderRadius:"4px"},children:(0,yt.jsxs)("span",{style:{color:i.PRIMARY,fontWeight:"bold"},children:["You will join as Helldiver ",y+1]})})}),(0,yt.jsx)("button",{onClick:()=>{if(d.trim()&&null!==y){try{localStorage.setItem("helldrafters_mp_name",d.trim())}catch(e){}n(c.trim(),d.trim(),y)}},disabled:!d.trim()||null===y,style:{width:"100%",padding:"16px",backgroundColor:d.trim()&&null!==y?ct.ACCENT_BLUE:ct.BG_MAIN,color:"white",border:"none",borderRadius:"4px",fontWeight:"900",fontSize:"16px",textTransform:"uppercase",cursor:d.trim()&&null!==y?"pointer":"not-allowed",opacity:d.trim()&&null!==y?1:.5},children:"JOIN LOBBY"})]}),c&&!h&&!m&&!s&&(0,yt.jsx)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"4px",padding:"24px",marginBottom:"32px",textAlign:"center"},children:(0,yt.jsx)("p",{style:{color:"#ef4444",margin:0},children:"Lobby not found. Check the code and try again."})}),(0,yt.jsx)("div",{style:{textAlign:"center"},children:(0,yt.jsx)("button",{onClick:o,style:{padding:"16px 32px",backgroundColor:"transparent",color:ct.TEXT_MUTED,border:"2px solid ".concat(ct.CARD_BORDER),borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",cursor:"pointer"},children:"\u2190 BACK"})})]})})}function uu(e){let{gameConfig:t,eventsEnabled:n,onUpdateGameConfig:o,onSetSubfaction:i,onSetEventsEnabled:a,onStartGame:s,onLeave:l,isConfiguring:c=!1}=e;const u=dt(t.faction),{isHost:d,lobbyId:p,lobbyData:h,playerSlot:f,disconnect:m,changeSlot:g,kickPlayerFromLobby:y}=Jc(),[b,v]=(0,r.useState)(!1),[_,x]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),w=null!==h&&void 0!==h&&h.players?Object.values(h.players):[],E=w.length>=1,R=w.map(e=>e.slot),T=[];for(let r=0;r<4;r++)R.includes(r)||T.push(r);return c?null:(0,yt.jsx)("div",{style:{minHeight:"100vh",background:ft,color:"white",padding:"80px 24px"},children:(0,yt.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[(0,yt.jsxs)("div",{style:{textAlign:"center",marginBottom:"48px"},children:[(0,yt.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:u.PRIMARY,marginBottom:"8px",textTransform:"uppercase"},children:d?"HOSTING GAME":"WAITING FOR HOST"}),(0,yt.jsx)("p",{style:{fontSize:"16px",color:ct.TEXT_MUTED},children:d?"Share the lobby code with your squad":"Waiting for host to start the game..."})]}),(0,yt.jsxs)("div",{style:{backgroundColor:ct.CARD_BG,borderRadius:"8px",padding:"32px",marginBottom:"32px",textAlign:"center",border:"1px solid ".concat(ct.CARD_BORDER)},children:[(0,yt.jsxs)("div",{style:{fontSize:"12px",color:ct.TEXT_MUTED,marginBottom:"8px",textTransform:"uppercase"},children:["LOBBY CODE ",!S&&"(hover to reveal)"]}),(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",backgroundColor:ct.BG_MAIN,padding:"16px 24px",borderRadius:"4px",border:"1px solid ".concat(ct.CARD_BORDER),cursor:"pointer",transition:"all 0.2s"},onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),children:[(0,yt.jsx)("code",{style:{fontSize:"18px",fontFamily:"monospace",color:S?u.PRIMARY:ct.TEXT_DISABLED,letterSpacing:"0.05em",filter:S?"none":"blur(8px)",transition:"all 0.2s",userSelect:S?"text":"none"},children:p}),(0,yt.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(p),v(!0),setTimeout(()=>v(!1),2e3)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:b?"#22c55e":"transparent",color:b?"white":ct.TEXT_MUTED,border:"1px solid ".concat(b?"#22c55e":ct.CARD_BORDER),borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},children:[b?(0,yt.jsx)(ou,{size:16}):(0,yt.jsx)(iu,{size:16}),b?"Copied!":"Copy"]})]}),(0,yt.jsx)("p",{style:{fontSize:"11px",color:ct.TEXT_DISABLED,marginTop:"8px",margin:"8px 0 0 0"},children:"Hidden for streaming - hover to reveal"})]}),(0,yt.jsxs)("div",{style:{backgroundColor:ct.CARD_BG,borderRadius:"8px",padding:"32px",marginBottom:"32px",border:"1px solid ".concat(ct.CARD_BORDER)},children:[(0,yt.jsxs)("h3",{style:{color:u.PRIMARY,marginBottom:"24px",textTransform:"uppercase"},children:["SQUAD (",w.length,"/",4,")"]}),(0,yt.jsx)("div",{style:{display:"grid",gap:"12px"},children:Array.from({length:4},(e,t)=>{const n=w.find(e=>e.slot===t),r=n&&n.slot===f;return(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",backgroundColor:ct.BG_MAIN,borderRadius:"4px",border:"2px solid ".concat(n?r?u.PRIMARY:ct.CARD_BORDER:"rgba(100, 116, 139, 0.3)"),opacity:n?1:.5},children:[(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,yt.jsxs)("span",{style:{fontSize:"12px",fontWeight:"bold",color:ct.TEXT_MUTED,minWidth:"60px"},children:["SLOT ",t+1]}),n?(0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsx)("span",{style:{fontWeight:"bold",color:"white"},children:n.name}),n.isHost&&(0,yt.jsx)(Et,{size:16,style:{color:u.PRIMARY}}),r&&(0,yt.jsx)("span",{style:{fontSize:"10px",padding:"2px 8px",backgroundColor:"".concat(u.PRIMARY,"30"),color:u.PRIMARY,borderRadius:"4px"},children:"YOU"})]}):(0,yt.jsx)("span",{style:{color:ct.TEXT_DISABLED,fontStyle:"italic"},children:"Waiting for player..."})]}),(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n&&(n.connected?(0,yt.jsx)(au,{size:16,style:{color:"#22c55e"}}):(0,yt.jsx)(su,{size:16,style:{color:"#ef4444"}})),d&&n&&!n.isHost&&!n.connected&&(0,yt.jsx)("button",{onClick:()=>(async e=>{window.confirm("Are you sure you want to kick this player? They can rejoin with the lobby code.")&&await y(e)})(n.id),style:{padding:"4px 12px",backgroundColor:"transparent",color:"#ef4444",border:"1px solid #7f1d1d",borderRadius:"4px",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.1)",e.currentTarget.style.borderColor="#ef4444"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.borderColor="#7f1d1d"},title:"Kick this player to free up their slot for rejoining",children:"Kick"}),!n&&!d&&(0,yt.jsx)("button",{onClick:()=>(async e=>{x(!0),await g(e),x(!1)})(t),disabled:_,style:{padding:"4px 12px",backgroundColor:"transparent",color:ct.ACCENT_BLUE,border:"1px solid ".concat(ct.ACCENT_BLUE),borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Switch Here"})]})]},t)})})]}),d&&(0,yt.jsxs)("div",{style:{backgroundColor:ct.CARD_BG,borderRadius:"8px",padding:"32px",marginBottom:"32px",border:"1px solid ".concat(ct.CARD_BORDER)},children:[(0,yt.jsx)("h3",{style:{color:u.PRIMARY,marginBottom:"24px",textTransform:"uppercase"},children:"GAME CONFIGURATION"}),(0,yt.jsx)(nu,{gameConfig:t,eventsEnabled:n,onUpdateGameConfig:o,onSetSubfaction:i,onSetEventsEnabled:a,factionColors:u})]}),(0,yt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"16px"},children:[(0,yt.jsx)("button",{onClick:async()=>{await m(),l()},style:{padding:"16px 32px",backgroundColor:"transparent",color:"#ef4444",border:"2px solid #7f1d1d",borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",cursor:"pointer"},children:d?"CLOSE LOBBY":"LEAVE LOBBY"}),d&&(0,yt.jsx)("button",{onClick:()=>{s(w.length)},disabled:!E,style:{padding:"16px 32px",backgroundColor:E?u.PRIMARY:ct.BG_MAIN,color:E?"black":ct.TEXT_DISABLED,border:"none",borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",cursor:E?"pointer":"not-allowed",opacity:E?1:.5},children:E?"START WITH ".concat(w.length," PLAYER").concat(w.length>1?"S":""," \u2192"):"WAITING FOR HOST..."})]})]})})}function du(e){let{gameConfig:t,onDisconnect:n}=e;const{isHost:o,lobbyId:i,connectedPlayers:a,playerSlot:s}=Jc(),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(!1),p=dt((null===t||void 0===t?void 0:t.faction)||"terminid"),h=i?"".concat(i.substring(0,8),"..."):"",f=Object.keys(a||{}).length,m=(null===t||void 0===t?void 0:t.playerCount)||4;return(0,yt.jsxs)("div",{style:{backgroundColor:"rgba(15, 23, 42, 0.95)",borderBottom:"2px solid ".concat(o?p.PRIMARY:ct.ACCENT_BLUE),padding:"8px 16px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",position:"sticky",top:0,zIndex:1e3},children:[(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,yt.jsx)(au,{size:16,style:{color:"#22c55e"}}),(0,yt.jsx)("span",{style:{fontSize:"11px",fontWeight:"900",color:o?p.PRIMARY:ct.ACCENT_BLUE,textTransform:"uppercase",letterSpacing:"0.1em"},children:o?"\ud83d\udc51 HOST":"PLAYER ".concat(s+1)})]}),(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[(0,yt.jsx)("span",{style:{fontSize:"11px",color:ct.TEXT_DISABLED,textTransform:"uppercase"},children:"Lobby:"}),(0,yt.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(i),c(!0),setTimeout(()=>c(!1),2e3)},style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"rgba(100, 116, 139, 0.2)",border:"1px solid rgba(100, 116, 139, 0.3)",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},title:u?"Copy full lobby code: ".concat(i):"Hover to reveal lobby code",children:[(0,yt.jsx)("code",{style:{fontSize:"11px",color:u?ct.TEXT_SECONDARY:ct.TEXT_DISABLED,fontFamily:"monospace",filter:u?"none":"blur(4px)",transition:"filter 0.2s",userSelect:u?"text":"none"},children:h}),l?(0,yt.jsx)(ou,{size:12,style:{color:"#22c55e"}}):(0,yt.jsx)(iu,{size:12,style:{color:ct.TEXT_DISABLED}})]})]}),(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,yt.jsx)(b,{size:14,style:{color:ct.TEXT_MUTED}}),(0,yt.jsxs)("span",{style:{fontSize:"12px",color:ct.TEXT_SECONDARY},children:[f,"/",m]})]})]}),(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,yt.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:Object.values(a||{}).map((e,t)=>{var n;return(0,yt.jsxs)("span",{style:{fontSize:"11px",padding:"2px 8px",backgroundColor:e.isHost?"".concat(p.PRIMARY,"20"):"rgba(59, 130, 246, 0.2)",color:e.isHost?p.PRIMARY:ct.ACCENT_BLUE,borderRadius:"4px",fontWeight:e.id===(null===a||void 0===a||null===(n=a.self)||void 0===n?void 0:n.id)?"900":"600"},children:[e.isHost&&(0,yt.jsx)(Et,{size:10,style:{marginRight:"4px",verticalAlign:"middle"}}),e.name||"Player ".concat(e.slot+1)]},e.id||t)})}),(0,yt.jsxs)("button",{onClick:n,style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 12px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",color:"#ef4444",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.2)",e.currentTarget.style.borderColor="#ef4444"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.1)",e.currentTarget.style.borderColor="rgba(239, 68, 68, 0.3)"},children:[(0,yt.jsx)(su,{size:12}),o?"END SESSION":"DISCONNECT"]})]})]})}const pu="SET_PHASE",hu="UPDATE_GAME_CONFIG",fu="SET_DIFFICULTY",mu="SET_REQUISITION",gu="ADD_REQUISITION",yu="SPEND_REQUISITION",bu="SET_SUBFACTION",vu="LOCK_PLAYER_DRAFT_SLOT",_u="UNLOCK_PLAYER_DRAFT_SLOT",xu="ADD_SAMPLES",Su="RESET_SAMPLES",Cu="SET_PLAYERS",wu="SET_PLAYER_EXTRACTED",Eu="SET_DRAFT_STATE",Ru="UPDATE_DRAFT_STATE",Tu="SET_SACRIFICE_STATE",ku="UPDATE_SACRIFICE_STATE",Au="SET_CURRENT_EVENT",Iu="SET_EVENT_PLAYER_CHOICE",Pu="SET_EVENTS_ENABLED",Mu="ADD_SEEN_EVENT",Du="RESET_SEEN_EVENTS",Ou="SET_EVENT_STRATAGEM_SELECTION",Nu="SET_EVENT_TARGET_PLAYER_SELECTION",ju="SET_EVENT_TARGET_STRATAGEM_SELECTION",Lu="SET_EVENT_BOOSTER_DRAFT",zu="SET_EVENT_BOOSTER_SELECTION",Bu="SET_EVENT_SPECIAL_DRAFT",Fu="SET_EVENT_SPECIAL_DRAFT_TYPE",Wu="SET_PENDING_FACTION",Uu="SET_PENDING_SUBFACTION_SELECTION",qu="RESET_EVENT_SELECTIONS",Yu="SET_CUSTOM_SETUP",Hu="UPDATE_CUSTOM_SETUP",Gu="ADD_BURNED_CARD",Vu="SET_BURNED_CARDS",Qu="LOAD_GAME_STATE",Ku={phase:"MENU",gameConfig:{playerCount:1,faction:ee.BUGS,subfaction:(0,Ue.getDefaultSubfaction)(ee.BUGS),starRating:3,globalUniqueness:!0,burnCards:!0,customStart:!1,endlessMode:!1,debugEventsMode:(()=>{if("undefined"===typeof window)return!1;return"true"===new URLSearchParams(window.location.search).get("debug")})(),debugRarityWeights:!1,brutalityMode:!1},currentDiff:1,requisition:0,samples:{common:0,rare:0,superRare:0},players:[],draftState:{activePlayerIndex:0,roundCards:[],isRerolling:!1,pendingStratagem:null,extraDraftRound:0,draftOrder:[]},sacrificeState:{activePlayerIndex:0,sacrificesRequired:[]},burnedCards:[],customSetup:{difficulty:1,loadouts:[]},selectedPlayer:0,eventsEnabled:!0,currentEvent:null,eventPlayerChoice:null,eventStratagemSelection:null,eventTargetPlayerSelection:null,eventTargetStratagemSelection:null,eventBoosterDraft:null,eventBoosterSelection:null,eventSpecialDraft:null,eventSpecialDraftType:null,pendingFaction:null,pendingSubfactionSelection:null,seenEvents:[],settingsOpen:!1,disabledWarbonds:[]};function $u(e,t){switch(t.type){case pu:return c(c({},e),{},{phase:t.payload,seenEvents:"MENU"===t.payload?[]:e.seenEvents});case hu:return c(c({},e),{},{gameConfig:c(c({},e.gameConfig),t.payload)});case"SET_GAME_CONFIG":return c(c({},e),{},{gameConfig:t.payload});case fu:return c(c({},e),{},{currentDiff:t.payload});case mu:return c(c({},e),{},{requisition:t.payload});case gu:return c(c({},e),{},{requisition:e.requisition+t.payload});case yu:return c(c({},e),{},{requisition:Math.max(0,e.requisition-t.payload)});case bu:return c(c({},e),{},{gameConfig:c(c({},e.gameConfig),{},{subfaction:t.payload})});case vu:return c(c({},e),{},{players:e.players.map(e=>e.id===t.payload.playerId?c(c({},e),{},{lockedSlots:e.lockedSlots&&e.lockedSlots.includes(t.payload.slotType)?e.lockedSlots:[...e.lockedSlots||[],t.payload.slotType]}):e)});case _u:return c(c({},e),{},{players:e.players.map(e=>e.id===t.payload.playerId?c(c({},e),{},{lockedSlots:(e.lockedSlots||[]).filter(e=>e!==t.payload.slotType)}):e)});case xu:return c(c({},e),{},{samples:{common:e.samples.common+(t.payload.common||0),rare:e.samples.rare+(t.payload.rare||0),superRare:e.samples.superRare+(t.payload.superRare||0)}});case Su:return c(c({},e),{},{samples:{common:0,rare:0,superRare:0}});case"SET_SAMPLES":return c(c({},e),{},{samples:t.payload});case Cu:return c(c({},e),{},{players:t.payload});case"UPDATE_PLAYER":return c(c({},e),{},{players:e.players.map((e,n)=>n===t.payload.index?c(c({},e),t.payload.updates):e)});case"UPDATE_PLAYER_LOADOUT":return c(c({},e),{},{players:e.players.map((e,n)=>n===t.payload.index?c(c({},e),{},{loadout:c(c({},e.loadout),t.payload.loadout)}):e)});case"ADD_ITEM_TO_PLAYER":return c(c({},e),{},{players:e.players.map((e,n)=>n===t.payload.playerIndex?c(c({},e),{},{inventory:[...e.inventory,t.payload.itemId]}):e)});case"ADD_ARMOR_COMBO_TO_PLAYER":return c(c({},e),{},{players:e.players.map((e,n)=>n===t.payload.playerIndex?c(c({},e),{},{inventory:[...e.inventory,...t.payload.armorCombo.items.map(e=>e.id)]}):e)});case"SET_PLAYER_WARBONDS":return c(c({},e),{},{players:e.players.map((e,n)=>n===t.payload.playerIndex?c(c({},e),{},{warbonds:t.payload.warbonds}):e)});case"SET_PLAYER_SUPERSTORE":return c(c({},e),{},{players:e.players.map((e,n)=>n===t.payload.playerIndex?c(c({},e),{},{includeSuperstore:t.payload.includeSuperstore}):e)});case wu:return c(c({},e),{},{players:e.players.map((e,n)=>n===t.payload.playerIndex?c(c({},e),{},{extracted:t.payload.extracted}):e)});case"SACRIFICE_ITEM":return c(c({},e),{},{players:e.players.map((e,n)=>{if(n!==t.payload.playerIndex)return e;const r=t.payload.itemId;let o=e.inventory.filter(e=>e!==r);const i=c(c({},e.loadout),{},{stratagems:[...e.loadout.stratagems]});i.primary===r&&(i.primary=null),i.secondary===r&&(i.secondary="s_peacemaker",o.includes("s_peacemaker")||o.push("s_peacemaker")),i.grenade===r&&(i.grenade="g_he",o.includes("g_he")||o.push("g_he")),i.armor===r&&(i.armor="a_b01",o.includes("a_b01")||o.push("a_b01")),i.booster===r&&(i.booster=null);for(let t=0;t<i.stratagems.length;t++)i.stratagems[t]===r&&(i.stratagems[t]=null);return c(c({},e),{},{inventory:o,loadout:i})})});case Tu:return c(c({},e),{},{sacrificeState:t.payload});case ku:return c(c({},e),{},{sacrificeState:c(c({},e.sacrificeState),t.payload)});case Eu:return c(c({},e),{},{draftState:t.payload});case Ru:return c(c({},e),{},{draftState:c(c({},e.draftState),t.payload)});case"SET_DRAFT_CARDS":return c(c({},e),{},{draftState:c(c({},e.draftState),{},{roundCards:t.payload})});case"SET_ACTIVE_PLAYER_INDEX":return c(c({},e),{},{draftState:c(c({},e.draftState),{},{activePlayerIndex:t.payload})});case"SET_PENDING_STRATAGEM":return c(c({},e),{},{draftState:c(c({},e.draftState),{},{pendingStratagem:t.payload})});case Au:return c(c({},e),{},{currentEvent:t.payload});case Iu:return c(c({},e),{},{eventPlayerChoice:t.payload});case Pu:return c(c({},e),{},{eventsEnabled:t.payload});case Mu:return c(c({},e),{},{seenEvents:[...e.seenEvents,t.payload]});case Du:return c(c({},e),{},{seenEvents:[]});case Ou:return c(c({},e),{},{eventStratagemSelection:t.payload});case Nu:return c(c({},e),{},{eventTargetPlayerSelection:t.payload});case ju:return c(c({},e),{},{eventTargetStratagemSelection:t.payload});case Lu:return c(c({},e),{},{eventBoosterDraft:t.payload});case zu:return c(c({},e),{},{eventBoosterSelection:t.payload});case Bu:return c(c({},e),{},{eventSpecialDraft:t.payload});case Fu:return c(c({},e),{},{eventSpecialDraftType:t.payload});case Wu:return c(c({},e),{},{pendingFaction:t.payload});case Uu:return c(c({},e),{},{pendingSubfactionSelection:t.payload});case qu:return c(c({},e),{},{eventStratagemSelection:null,eventTargetPlayerSelection:null,eventTargetStratagemSelection:null,eventBoosterDraft:null,eventBoosterSelection:null,eventSpecialDraft:null,eventSpecialDraftType:null,pendingFaction:null,pendingSubfactionSelection:null});case Yu:return c(c({},e),{},{customSetup:t.payload});case Hu:return c(c({},e),{},{customSetup:c(c({},e.customSetup),t.payload)});case"SET_SELECTED_PLAYER":return c(c({},e),{},{selectedPlayer:t.payload});case Gu:return c(c({},e),{},{burnedCards:[...e.burnedCards,t.payload]});case Vu:return c(c({},e),{},{burnedCards:t.payload});case Qu:{const n=e=>{if(!e)return[null,null,null,null];if(Array.isArray(e)){const t=[null,null,null,null];for(let n=0;n<4;n++)t[n]=e[n]||null;return t}if("object"===typeof e){const t=[null,null,null,null];for(let n=0;n<4;n++)t[n]=e[n]||e[String(n)]||null;return t}return[null,null,null,null]};return c(c(c({},e),t.payload),{},{samples:t.payload.samples||{common:0,rare:0,superRare:0},seenEvents:t.payload.seenEvents||[],players:(t.payload.players||[]).map(e=>c(c({},e),{},{weaponRestricted:e.weaponRestricted||!1,loadout:e.loadout?c(c({},e.loadout),{},{stratagems:n(e.loadout.stratagems)}):e.loadout}))})}case"RESET_GAME":return c({},Ku);default:return e}}const Xu=e=>({type:pu,payload:e}),Ju=e=>({type:hu,payload:e}),Zu=e=>({type:fu,payload:e}),ed=e=>({type:mu,payload:e}),td=e=>({type:gu,payload:e}),nd=e=>({type:yu,payload:e}),rd=e=>({type:bu,payload:e}),od=()=>({type:qu}),id=e=>({type:Cu,payload:e}),ad=(e,t)=>({type:wu,payload:{playerIndex:e,extracted:t}}),sd=e=>({type:ku,payload:e}),ld=e=>({type:Eu,payload:e}),cd=e=>({type:Ru,payload:e}),ud=e=>({type:Au,payload:e}),dd=e=>({type:Iu,payload:e}),pd=e=>({type:Pu,payload:e}),hd=e=>({type:Mu,payload:e}),fd=e=>({type:Hu,payload:e}),md=e=>({type:Gu,payload:e}),gd=e=>({type:Vu,payload:e});function yd(){const[e,t]=(0,r.useReducer)($u,Ku),o=Jc(),{isMultiplayer:i,isHost:a,hostGame:s,joinGame:l,startMultiplayerGame:u,syncState:d,disconnect:p,setDispatch:h,hostDisconnected:f,clearHostDisconnected:m,playerSlot:g,sendAction:y,setActionHandler:S}=o;(0,r.useEffect)(()=>{h(t)},[t,h]),(0,r.useEffect)(()=>{const n=e.phase;f&&!a&&"MENU"!==n&&"GAMEOVER"!==n?(t(Xu("GAMEOVER")),re(null),m()):f&&(re(null),m())},[f,a,e.phase,m]);const{phase:w,gameConfig:E,currentDiff:R,requisition:T,burnedCards:k,customSetup:A,players:I,draftState:P,sacrificeState:M,eventsEnabled:D,currentEvent:O,eventPlayerChoice:N,eventStratagemSelection:j,eventTargetPlayerSelection:L,eventTargetStratagemSelection:z,eventBoosterDraft:B,eventBoosterSelection:F,eventSpecialDraft:W,eventSpecialDraftType:U,pendingFaction:q,pendingSubfactionSelection:Y,seenEvents:H}=e,G=dt(E.faction),[ee,te]=r.useState(0),[ne,re]=r.useState(null),oe=r.useRef(null);(0,r.useEffect)(()=>{i&&a&&"MENU"!==w&&d(e)},[i,a,e,w,d]),(0,r.useEffect)(()=>{if("MENU"!==w)try{localStorage.setItem("helldraftersGameState",JSON.stringify(e))}catch(uo){console.error("Failed to save game state:",uo)}else localStorage.removeItem("helldraftersGameState")},[e,w]);const ie=()=>{lt(e)},ae=async e=>{var n;const r=null===(n=e.target.files)||void 0===n?void 0:n[0];if(r){try{const e=await(e=>new Promise((t,n)=>{const r=new FileReader;r.onload=e=>{try{var r;const o=JSON.parse(null===(r=e.target)||void 0===r?void 0:r.result),i=(e=>e?e.phase?e.gameConfig?e.players?{valid:!0,error:null}:{valid:!1,error:"Save state missing players"}:{valid:!1,error:"Save state missing gameConfig"}:{valid:!1,error:"Save state missing phase"}:{valid:!1,error:"Save state is null or undefined"})(o);if(!i.valid)return void n(new Error(i.error));t(o)}catch(uo){n(new Error("Failed to parse save file. File may be corrupted."))}},r.onerror=()=>{n(new Error("Failed to read file"))},r.readAsText(e)}))(r),n=(e=>({phase:e.phase,gameConfig:e.gameConfig,currentDiff:e.currentDiff||1,requisition:e.requisition||0,samples:e.samples||{common:0,rare:0,superRare:0},burnedCards:e.burnedCards||[],players:e.players||[],draftState:e.draftState||{activePlayerIndex:0,roundCards:[],isRerolling:!1,pendingStratagem:null,draftOrder:[]},eventsEnabled:void 0===e.eventsEnabled||e.eventsEnabled,currentEvent:e.currentEvent||null,eventPlayerChoice:e.eventPlayerChoice||null,seenEvents:e.seenEvents||[],customSetup:e.customSetup||{difficulty:1,loadouts:[]},selectedPlayer:e.selectedPlayer||0}))(e);t((e=>({type:Qu,payload:e}))(n)),te(n.selectedPlayer||0),alert("Game loaded successfully!")}catch(uo){console.error("Failed to load game:",uo),alert(uo.message||"Failed to load save file. File may be corrupted.")}e.target.value=""}},se=()=>{t(Ju({playerCount:1})),t(Xu("SOLO_CONFIG"))},le=e=>{if(E.customStart){const n=Array.from({length:E.playerCount},()=>({primary:Le.primary,secondary:Le.secondary,grenade:Le.grenade,armor:Le.armor,booster:Le.booster,stratagems:[...Le.stratagems]}));t({type:Yu,payload:{difficulty:1,loadouts:n}});const r=e.map((e,t)=>({id:t+1,name:e.name,loadout:n[t],inventory:Object.values(n[t]).flat().filter(e=>null!==e),warbonds:e.warbonds,includeSuperstore:e.includeSuperstore,weaponRestricted:!1,lockedSlots:[],extracted:!0}));t(id(r)),t(Xu("CUSTOM_SETUP"))}else{const n=e.map((e,t)=>({id:t+1,name:e.name,loadout:{primary:Le.primary,secondary:Le.secondary,grenade:Le.grenade,armor:Le.armor,booster:Le.booster,stratagems:[...Le.stratagems]},inventory:Object.values(Le).flat().filter(e=>null!==e),warbonds:e.warbonds,includeSuperstore:e.includeSuperstore,weaponRestricted:!1,lockedSlots:[],extracted:!0}));t(id(n)),t(Zu(1)),t(ed(0)),t(gd([])),t(Xu("DASHBOARD"))}},ce=()=>{const e=A.loadouts.map((e,t)=>({id:t+1,name:"Helldiver ".concat(t+1),loadout:c({},e),inventory:Object.values(e).flat().filter(e=>null!==e),weaponRestricted:!1,lockedSlots:[],extracted:!0}));t(id(e)),t(Zu(A.difficulty)),t(ed(0)),t(gd([])),t(Xu("DASHBOARD"))},ue=e=>{if(!I||!I[e])return[];const n=I[e],r=qe(E.starRating),o=n.lockedSlots||[];return He(n,R,E,k,I,e=>t(md(e)),r,o)},de=()=>{if(!I||0===I.length)return void console.error("Cannot start draft phase: no players available");const e=I.map(e=>e.weaponRestricted&&e.savedStratagems?c(c({},e),{},{loadout:c(c({},e.loadout),{},{stratagems:[...e.savedStratagems]}),weaponRestricted:!1,savedStratagems:void 0}):e);JSON.stringify(e)!==JSON.stringify(I)&&t(id(e));const n=(e=>{const t=Array.from({length:e},(e,t)=>t);for(let n=t.length-1;n>0;n--){const e=Math.floor(Math.random()*(n+1));[t[n],t[e]]=[t[e],t[n]]}return t})(E.playerCount),r=n[0];t(ld({activePlayerIndex:r,roundCards:ue(r),isRerolling:!1,pendingStratagem:null,extraDraftRound:0,draftOrder:n})),t(Xu("DRAFT"))},pe=n=>{const r=P.activePlayerIndex,o=n[r],i=P.extraDraftRound||0;if(o.redraftRounds&&o.redraftRounds>1){const e=o.redraftRounds-1,i=[...n];return i[r]=c(c({},o),{},{redraftRounds:e}),t(id(i)),void t(ld({activePlayerIndex:r,roundCards:ue(r),isRerolling:!1,pendingStratagem:null,extraDraftRound:0,isRedrafting:!0,draftOrder:P.draftOrder}))}if(o.redraftRounds){const e=[...n];return e[r]=c(c({},o),{},{redraftRounds:0}),t(id(e)),void t(Xu("DASHBOARD"))}if(o.extraDraftCards&&i<o.extraDraftCards)return void t(ld({activePlayerIndex:r,roundCards:ue(r),isRerolling:!1,pendingStratagem:null,extraDraftRound:i+1,draftOrder:P.draftOrder}));if(o.extraDraftCards){const e=[...n];e[r]=c(c({},o),{},{extraDraftCards:0}),t(id(e))}const a=P.draftOrder||[],s=a.indexOf(r);if(s>=0&&s<a.length-1){const e=a[s+1];t(ld({activePlayerIndex:e,roundCards:ue(e),isRerolling:!1,pendingStratagem:null,extraDraftRound:0,draftOrder:a}))}else{if(D){const n=0,r=.01*e.samples.common+.02*e.samples.rare+.03*e.samples.superRare,o=Math.min(1,n+r);if(Math.random()<o){const e=Q(R,I.length>1,H,I);if(e)return t({type:Su}),t(hd(e.id)),t(ud(e)),t(dd(null)),void t(Xu("EVENT"))}}t(Xu("DASHBOARD"))}},he=()=>{!i||a?pe(I):y({type:"SKIP_DRAFT",payload:{playerIndex:P.activePlayerIndex}})},fe=e=>{const n=P.activePlayerIndex;if(i&&g!==n)return void console.log("Not your turn to draft",{playerSlot:g,currentPlayerIdx:n});if(i&&!a)return void y({type:"DRAFT_PICK",payload:{playerIndex:n,item:e}});const r=[...I],o=r[n];if(!o||!o.loadout)return void console.error("handleDraftPick: Invalid player or loadout",{currentPlayerIdx:n,player:o});if(e&&e.items&&e.passive&&e.armorClass)e.items.forEach(e=>{o.inventory.push(e.id)}),o.loadout.armor=e.items[0].id;else{if(e.type===Z.STRATAGEM&&Ve(o.loadout))return void t(cd({pendingStratagem:e}));if(o.inventory.push(e.id),e.type===Z.PRIMARY&&(o.loadout.primary=e.id),e.type===Z.SECONDARY&&(o.loadout.secondary=e.id),e.type===Z.GRENADE&&(o.loadout.grenade=e.id),e.type===Z.ARMOR&&(o.loadout.armor=e.id),e.type===Z.BOOSTER&&(o.loadout.booster=e.id),e.type===Z.STRATAGEM){const t=Ge(o.loadout);o.loadout.stratagems[t]=e.id}}t(id(r)),pe(r)},me=r.useRef(null);me.current=e=>{if("DRAFT_PICK"===e.type){const{playerIndex:n,item:r}=e.payload,o=[...I],i=o[n];if(!i||!i.loadout)return console.error("DRAFT_PICK: Invalid player",{playerIndex:n}),!0;if(r&&r.items&&r.passive&&r.armorClass)r.items.forEach(e=>{i.inventory.push(e.id)}),i.loadout.armor=r.items[0].id;else{if(r.type===Z.STRATAGEM&&Ve(i.loadout))return i.loadout.stratagems[0]=r.id,i.inventory.push(r.id),t(id(o)),pe(o),!0;if(i.inventory.push(r.id),r.type===Z.PRIMARY&&(i.loadout.primary=r.id),r.type===Z.SECONDARY&&(i.loadout.secondary=r.id),r.type===Z.GRENADE&&(i.loadout.grenade=r.id),r.type===Z.ARMOR&&(i.loadout.armor=r.id),r.type===Z.BOOSTER&&(i.loadout.booster=r.id),r.type===Z.STRATAGEM){const e=Ge(i.loadout);i.loadout.stratagems[e]=r.id}}return t(id(o)),pe(o),!0}if("SET_PLAYER_EXTRACTED"===e.type){const{playerIndex:n,extracted:r}=e.payload;return t(ad(n,r)),!0}return"SKIP_DRAFT"===e.type&&(pe(I),!0)},(0,r.useEffect)(()=>(i&&a&&S(e=>!!me.current&&me.current(e)),()=>{i&&a&&S(null)}),[i,a,S]);const ge=(e,r)=>{var o;const{getSlotLockCost:i,MAX_LOCKED_SLOTS:a}=n(331),s=i(E.playerCount),l=I.find(t=>t.id===e),c=(null===l||void 0===l?void 0:l.lockedSlots)||[];T<s||c.length>=a||c.includes(r)||(t(nd(s)),t(((e,t)=>({type:vu,payload:{playerId:e,slotType:t}}))(e,r)),"DRAFT"===w&&(null===(o=I[P.activePlayerIndex])||void 0===o?void 0:o.id)===e&&t(cd({roundCards:ue(P.activePlayerIndex)})))},ye=(e,n)=>{var r;const o=I.find(t=>t.id===e);((null===o||void 0===o?void 0:o.lockedSlots)||[]).includes(n)&&window.confirm("Unlock ".concat(n," slot? This will allow ").concat(n," items to appear in future drafts."))&&(t(((e,t)=>({type:_u,payload:{playerId:e,slotType:t}}))(e,n)),"DRAFT"===w&&(null===(r=I[P.activePlayerIndex])||void 0===r?void 0:r.id)===e&&t(cd({roundCards:ue(P.activePlayerIndex)})))},be=e=>{const n=I[P.activePlayerIndex],r=n.lockedSlots||[],o=Ye(n,R,E,k,I,r),i=e&&e.items&&e.passive,a=o.filter(e=>e.isArmorCombo?!P.roundCards.some(t=>t.passive===e.armorCombo.passive&&t.armorClass===e.armorCombo.armorClass):!P.roundCards.some(t=>{var n;return t.id===(null===(n=e.item)||void 0===n?void 0:n.id)||t.items&&t.items.some(t=>{var n;return t.id===(null===(n=e.item)||void 0===n?void 0:n.id)})}));if(0===a.length)return void alert("No more unique cards available!");const s=a.reduce((e,t)=>e+t.weight,0);let l=Math.random()*s,c=null;for(let t=0;t<a.length;t++){const e=a[t];if(e&&(l-=e.weight,l<=0)){c=e.isArmorCombo?e.armorCombo:e.item;break}}c&&(E.burnCards&&(c.items&&c.passive?c.items.forEach(e=>t(md(e.id))):t(md(c.id))),t(cd({roundCards:P.roundCards.map(t=>{if(i){if(t.passive===e.passive&&t.armorClass===e.armorClass)return c}else if(t.id===e.id)return c;return t})})))},ve=e=>{let{rarity:t}=e;const n={[K]:{bg:"#6b7280",color:"white"},[$]:{bg:"#22c55e",color:"black"},[X]:{bg:"#f97316",color:"black"},[J]:{bg:"#9333ea",color:"white"}},r=n[t]||n[K];return(0,yt.jsx)("span",{style:{fontSize:"10px",textTransform:"uppercase",fontWeight:"bold",padding:"2px 8px",borderRadius:"4px",backgroundColor:r.bg,color:r.color},children:t})},_e=e=>{var t;let{item:n,onSelect:r,onRemove:o}=e;if(!n)return console.log("[ItemCard] Skipping null item"),null;const i=n.items&&Array.isArray(n.items)&&n.items.length>0&&n.passive&&n.armorClass;if(console.log("[ItemCard] Rendering item:",{name:n.name,id:n.id,passive:n.passive,isArmorCombo:i,itemsLength:null===(t=n.items)||void 0===t?void 0:t.length,items:n.items}),!i&&!n.name)return console.log("[ItemCard] Skipping - not armor combo and no name"),null;const a=i?n.items[0]:n;if(!a||!a.name)return console.log("[ItemCard] Skipping - displayItem invalid:",a),null;const s=i?n.items.map(e=>(null===e||void 0===e?void 0:e.name)||"Unknown").join(" / "):n.name;let l=null;if(i||(null===n||void 0===n?void 0:n.type)===Z.ARMOR){const e=n.passive;if(e){const t=Ne[e];0,l=t||"Passive effect details unavailable."}}return(0,yt.jsxs)("div",{style:{position:"relative",backgroundColor:"#283548",border:"2px solid rgba(100, 116, 139, 0.5)",padding:"16px",borderRadius:"8px",transition:"all 0.2s",display:"flex",flexDirection:"column",height:"256px"},children:[o&&(0,yt.jsx)("button",{onClick:e=>{e.stopPropagation(),o(n)},style:{position:"absolute",top:"8px",right:"8px",width:"28px",height:"28px",borderRadius:"4px",backgroundColor:"rgba(239, 68, 68, 0.8)",color:"white",border:"none",cursor:"pointer",fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,zIndex:10},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 1)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.8)",title:"Remove this card",children:"\xd7"}),(0,yt.jsxs)("div",{onClick:()=>r&&r(n),style:{cursor:r?"pointer":"default",flexGrow:1,display:"flex",flexDirection:"column",paddingTop:o?"32px":"0"},onMouseEnter:e=>r&&(e.currentTarget.parentElement.style.borderColor=G.PRIMARY),onMouseLeave:e=>r&&(e.currentTarget.parentElement.style.borderColor="rgba(100, 116, 139, 0.5)"),children:[(0,yt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,yt.jsx)(ve,{rarity:a.rarity}),(0,yt.jsxs)("div",{style:{color:G.PRIMARY,fontSize:"12px",fontFamily:"monospace",marginRight:o?"8px":"0"},children:[a.type,i?" (\xd7".concat(n.items.length,")"):""]})]}),(0,yt.jsx)("h3",{style:{color:"white",fontWeight:"bold",fontSize:i?"14px":"18px",lineHeight:"1.2",marginBottom:"8px"},children:s}),(0,yt.jsxs)("div",{style:{flexGrow:1},children:[(0,yt.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginTop:"8px"},children:(a.tags||[]).map(e=>(0,yt.jsx)("span",{style:{fontSize:"10px",backgroundColor:"rgba(51, 65, 85, 0.5)",color:"#cbd5e1",padding:"2px 4px",borderRadius:"2px",border:"1px solid rgba(71, 85, 105, 0.5)"},children:e},e))}),l&&(0,yt.jsxs)("div",{style:{marginTop:"10px"},children:[(0,yt.jsx)("div",{style:{color:"#94a3b8",fontSize:"9px",textTransform:"uppercase",letterSpacing:"1px"},children:"Armor Passive"}),(0,yt.jsx)("div",{style:{color:"#cbd5e1",fontSize:"11px",lineHeight:"1.4",marginTop:"4px"},children:l})]})]}),(0,yt.jsx)("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid rgba(71, 85, 105, 0.5)",textAlign:"center"},children:(0,yt.jsx)("span",{style:{color:G.PRIMARY,fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px",fontSize:"14px"},children:"REQUISITION"})})]})]})};if("VICTORY"===w)return(0,yt.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #0f1419 0%, #1a2f3a 50%, #0f1419 100%)",padding:"24px"},children:(0,yt.jsxs)("div",{style:{maxWidth:"900px",width:"100%",textAlign:"center"},children:[(0,yt.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,yt.jsx)("div",{style:{fontSize:"80px",marginBottom:"16px"},children:"\ud83c\udf96\ufe0f"}),(0,yt.jsx)("h1",{style:{fontSize:"64px",fontWeight:"900",color:G.PRIMARY,margin:"0 0 16px 0",textTransform:"uppercase",letterSpacing:"0.05em",textShadow:G.GLOW},children:"DEMOCRACY MANIFESTED"}),(0,yt.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#22c55e",margin:"0 0 8px 0"},children:"OPERATION COMPLETE"}),(0,yt.jsxs)("p",{style:{fontSize:"16px",color:"#cbd5e1",lineHeight:"1.8",margin:"0",maxWidth:"600px",marginLeft:"auto",marginRight:"auto"},children:["Your squad has successfully completed all 10 difficulty tiers.",(0,yt.jsx)("br",{}),"Super Earth salutes your unwavering dedication to Liberty and Freedom.",(0,yt.jsx)("br",{}),(0,yt.jsx)("span",{style:{color:G.PRIMARY,fontWeight:"bold"},children:"Managed Democracy prevails!"})]})]}),(0,yt.jsxs)("div",{style:{backgroundColor:"rgba(26, 35, 50, 0.8)",padding:"24px",borderRadius:"8px",border:"2px solid ".concat(G.PRIMARY,"66"),marginBottom:"32px"},children:[(0,yt.jsx)("div",{style:{fontSize:"14px",color:G.PRIMARY,marginBottom:"16px",textTransform:"uppercase",fontWeight:"bold",letterSpacing:"0.1em"},children:"Mission Statistics"}),(0,yt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",textAlign:"center"},children:[(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Difficulty Cleared"}),(0,yt.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",color:G.PRIMARY},children:"D10"}),(0,yt.jsx)("div",{style:{fontSize:"11px",color:"#94a3b8",marginTop:"2px"},children:"Super Helldive"})]}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Requisition"}),(0,yt.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#22c55e"},children:Math.floor(T)})]}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Theater"}),(0,yt.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"white",marginTop:"8px"},children:E.faction})]})]})]}),(0,yt.jsxs)("div",{style:{backgroundColor:"rgba(26, 35, 50, 0.8)",padding:"24px",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.5)",marginBottom:"32px"},children:[(0,yt.jsx)("div",{style:{fontSize:"14px",color:G.PRIMARY,marginBottom:"20px",textTransform:"uppercase",fontWeight:"bold",letterSpacing:"0.1em"},children:"Final Loadouts"}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:I.length>2?"repeat(2, 1fr)":"repeat("+I.length+", 1fr)",gap:"16px"},children:I.map((e,t)=>{const n=e.loadout,r=Be(n.primary),o=Be(n.secondary),i=Be(n.grenade),a=Be(n.armor),s=Be(n.booster),l=n.stratagems.map(e=>Be(e)).filter(Boolean);return(0,yt.jsxs)("div",{style:{backgroundColor:"rgba(40, 53, 72, 0.6)",padding:"16px",borderRadius:"6px",border:"1px solid ".concat(G.PRIMARY,"4D")},children:[(0,yt.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold",color:G.PRIMARY,marginBottom:"12px",textAlign:"left"},children:e.name}),(0,yt.jsxs)("div",{style:{fontSize:"11px",color:"#cbd5e1",textAlign:"left",lineHeight:"1.8"},children:[(0,yt.jsxs)("div",{children:[(0,yt.jsx)("span",{style:{color:"#94a3b8"},children:"Primary:"})," ",(null===r||void 0===r?void 0:r.name)||"None"]}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("span",{style:{color:"#94a3b8"},children:"Secondary:"})," ",(null===o||void 0===o?void 0:o.name)||"None"]}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("span",{style:{color:"#94a3b8"},children:"Grenade:"})," ",(null===i||void 0===i?void 0:i.name)||"None"]}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("span",{style:{color:"#94a3b8"},children:"Armor:"})," ",(null===a||void 0===a?void 0:a.name)||"None"]}),s&&(0,yt.jsxs)("div",{children:[(0,yt.jsx)("span",{style:{color:"#94a3b8"},children:"Booster:"})," ",s.name]}),l.length>0&&(0,yt.jsxs)("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid rgba(100, 116, 139, 0.3)"},children:[(0,yt.jsx)("div",{style:{color:"#94a3b8",marginBottom:"4px"},children:"Stratagems:"}),l.map((e,t)=>(0,yt.jsxs)("div",{children:["\u2022 ",e.name]},t))]})]})]},t)})})]}),(0,yt.jsx)("button",{onClick:()=>t(Xu("MENU")),style:{width:"100%",maxWidth:"400px",padding:"20px",backgroundColor:G.PRIMARY,color:"black",border:"none",borderRadius:"4px",fontWeight:"900",fontSize:"18px",textTransform:"uppercase",letterSpacing:"0.2em",cursor:"pointer",transition:"all 0.2s",boxShadow:G.SHADOW},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=G.PRIMARY_HOVER,e.currentTarget.style.boxShadow=G.SHADOW_HOVER},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=G.PRIMARY,e.currentTarget.style.boxShadow=G.SHADOW},children:"Return to Menu"})]})});if("GAMEOVER"===w)return(0,yt.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#0f1419",padding:"24px"},children:(0,yt.jsxs)("div",{style:{maxWidth:"600px",textAlign:"center"},children:[(0,yt.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,yt.jsx)("div",{style:{fontSize:"80px",marginBottom:"16px"},children:"\ud83d\udc80"}),(0,yt.jsx)("h1",{style:{fontSize:"64px",fontWeight:"900",color:"#ef4444",margin:"0 0 16px 0",textTransform:"uppercase",letterSpacing:"0.05em"},children:"DISHONORABLE DISCHARGE"}),(0,yt.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#94a3b8",margin:"0 0 8px 0"},children:"MISSION FAILED"}),(0,yt.jsxs)("p",{style:{fontSize:"16px",color:"#64748b",lineHeight:"1.6",margin:"0"},children:["Your squad has been eliminated.",(0,yt.jsx)("br",{}),"Super Earth revokes your citizenship and Helldivers status.",(0,yt.jsx)("br",{}),"You have brought shame to Democracy."]})]}),(0,yt.jsxs)("div",{style:{backgroundColor:"#1a2332",padding:"24px",borderRadius:"8px",border:"1px solid rgba(239, 68, 68, 0.3)",marginBottom:"32px"},children:[(0,yt.jsx)("div",{style:{fontSize:"14px",color:"#94a3b8",marginBottom:"16px",textTransform:"uppercase"},children:"Final Stats"}),(0,yt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",textAlign:"left"},children:[(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Difficulty Reached"}),(0,yt.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:G.PRIMARY},children:R})]}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Requisition Earned"}),(0,yt.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:G.PRIMARY},children:Math.floor(T)})]}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Squad Size"}),(0,yt.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"white"},children:I.length})]}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Theater"}),(0,yt.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"white"},children:E.faction})]})]})]}),(0,yt.jsx)("button",{onClick:()=>t(Xu("MENU")),style:{width:"100%",padding:"20px",backgroundColor:G.PRIMARY,color:"black",border:"none",borderRadius:"4px",fontWeight:"900",fontSize:"18px",textTransform:"uppercase",letterSpacing:"0.2em",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor=G.PRIMARY_HOVER,onMouseLeave:e=>e.currentTarget.style.backgroundColor=G.PRIMARY,children:"Return to Menu"})]})});if("MENU"===w&&"select"===ne)return(0,yt.jsx)(lu,{gameConfig:E,onHost:async()=>{await s("Host",E)&&re("waiting")},onJoin:()=>re("join"),onBack:()=>re(null)});if("MENU"===w&&"join"===ne)return(0,yt.jsx)(cu,{gameConfig:E,onJoinLobby:async(e,t,n)=>{await l(e,t,n)&&re("waiting")},onBack:()=>re("select")});if("MENU"===w&&"waiting"===ne)return(0,yt.jsx)(uu,{gameConfig:E,eventsEnabled:D,onUpdateGameConfig:e=>t(Ju(e)),onSetSubfaction:e=>t(rd(e)),onSetEventsEnabled:e=>t(pd(e)),onStartGame:async e=>{t(Ju({playerCount:e})),await u(),t(Xu("LOBBY"))},onLeave:async()=>{await p(),re(null)}});if("MENU"===w)return(0,yt.jsxs)("div",{style:{minHeight:"100vh",padding:"80px 24px"},children:[(0,yt.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[(0,yt.jsx)("h1",{style:{fontSize:"72px",fontWeight:"900",color:G.PRIMARY,margin:"0 0 0 0",letterSpacing:"0.02em",textTransform:"uppercase"},children:"HELLDRAFTERS"}),(0,yt.jsx)("div",{style:{margin:"20px auto"},children:(0,yt.jsx)("img",{src:"".concat("/helldrafters","/logo.png"),alt:"Helldrafters Logo",style:{width:"200px",height:"auto",display:"block",margin:"0 auto"}})}),(0,yt.jsx)("div",{style:{background:"linear-gradient(to right, #5a5142, #6b6052)",padding:"12px",marginBottom:"60px",maxWidth:"620px",margin:"0 auto 60px auto"},children:(0,yt.jsx)("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"white",textTransform:"uppercase",letterSpacing:"0.3em",margin:0},children:"Roguelite Director"})}),(0,yt.jsxs)("div",{style:{backgroundColor:"#283548",padding:"40px",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,yt.jsx)("input",{type:"file",ref:oe,accept:".json",onChange:ae,style:{display:"none"}}),(0,yt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,yt.jsx)("button",{onClick:se,style:c(c({},gt.PRIMARY),{},{width:"100%",padding:"16px",fontSize:"16px",letterSpacing:"0.15em",borderRadius:"4px",border:"none"}),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=ct.PRIMARY_HOVER,e.currentTarget.style.boxShadow=pt.BUTTON_PRIMARY_HOVER},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=ct.PRIMARY,e.currentTarget.style.boxShadow=pt.BUTTON_PRIMARY},children:"Solo"}),(0,yt.jsxs)("button",{onClick:()=>re("select"),style:{width:"100%",padding:"16px",fontSize:"16px",letterSpacing:"0.15em",borderRadius:"4px",border:"2px solid ".concat(ct.ACCENT_BLUE),backgroundColor:"transparent",color:ct.ACCENT_BLUE,fontWeight:"900",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="".concat(ct.ACCENT_BLUE,"20"),e.currentTarget.style.boxShadow=pt.GLOW_BLUE},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.boxShadow="none"},children:[(0,yt.jsx)(b,{size:18}),"Multiplayer"]})]}),(0,yt.jsx)("div",{style:{marginTop:"12px"},children:(0,yt.jsx)("button",{onClick:()=>{var e;return null===(e=oe.current)||void 0===e?void 0:e.click()},style:{width:"100%",padding:"12px",fontSize:"14px",letterSpacing:"0.1em",borderRadius:"4px",border:"1px solid ".concat(ct.CARD_BORDER),backgroundColor:"transparent",color:ct.TEXT_MUTED,fontWeight:"700",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor=ct.TEXT_SECONDARY,e.currentTarget.style.color=ct.TEXT_SECONDARY,e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.borderColor=ct.CARD_BORDER,e.currentTarget.style.color=ct.TEXT_MUTED,e.currentTarget.style.backgroundColor="transparent"},children:"Load Game"})}),(0,yt.jsx)("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(100, 116, 139, 0.3)",textAlign:"center"},children:(0,yt.jsxs)("div",{style:{fontSize:"10px",color:"#475569",fontFamily:"monospace"},children:[(0,yt.jsxs)("div",{children:["Build: ","2026-01-18T16:57:36+11:00"]}),(0,yt.jsxs)("div",{children:["Commit: ","ac275b9659f17adf442823c84c2a30d3d930d855".substring(0,7)]}),!1]})})]}),E.debugRarityWeights&&(0,yt.jsx)("div",{style:{marginTop:"40px"},children:(0,yt.jsx)(ru,{gameConfig:E})})]}),(0,yt.jsx)(_t,{})]});if("SOLO_CONFIG"===w)return(0,yt.jsx)("div",{style:{minHeight:"100vh",background:ft,color:"white",padding:"80px 24px"},children:(0,yt.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[(0,yt.jsxs)("div",{style:{textAlign:"center",marginBottom:"48px"},children:[(0,yt.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:G.PRIMARY,margin:"0 0 8px 0",letterSpacing:"0.05em",textTransform:"uppercase",textShadow:G.GLOW},children:"SOLO OPERATION"}),(0,yt.jsx)("div",{style:{background:ht,padding:"12px",margin:"0 auto",maxWidth:"400px"},children:(0,yt.jsx)("p",{style:{fontSize:"14px",fontWeight:"bold",color:"white",textTransform:"uppercase",letterSpacing:"0.3em",margin:0},children:"Configure Your Mission"})})]}),(0,yt.jsx)("div",{style:{backgroundColor:ct.CARD_BG,padding:"32px",borderRadius:"8px",border:"1px solid ".concat(ct.CARD_BORDER),marginBottom:"32px"},children:(0,yt.jsx)(nu,{gameConfig:E,eventsEnabled:D,onUpdateGameConfig:e=>t(Ju(e)),onSetSubfaction:e=>t(rd(e)),onSetEventsEnabled:e=>t(pd(e)),factionColors:G})}),(0,yt.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,yt.jsx)("button",{onClick:()=>t(Xu("MENU")),style:{flex:1,padding:"16px",backgroundColor:"transparent",color:ct.TEXT_MUTED,border:"2px solid ".concat(ct.CARD_BORDER),borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor=ct.TEXT_DISABLED,e.currentTarget.style.color=ct.TEXT_SECONDARY},onMouseLeave:e=>{e.currentTarget.style.borderColor=ct.CARD_BORDER,e.currentTarget.style.color=ct.TEXT_MUTED},children:"\u2190 BACK TO MENU"}),(0,yt.jsx)("button",{onClick:()=>t(Xu("LOBBY")),style:c(c({},gt.PRIMARY),{},{flex:2,padding:"16px",fontSize:"16px",letterSpacing:"0.15em"}),children:"CONTINUE \u2192"})]})]})});if("LOBBY"===w)return(0,yt.jsx)(eu,{gameConfig:E,onStartRun:le,onCancel:()=>t(Xu("MENU"))});if("CUSTOM_SETUP"===w){var xe;const e=(e,n,r)=>{const o=[...A.loadouts];if("stratagem"===n){const t=parseInt(r.split("_")[1]),n=[...o[e].stratagems];n[t]=r.split("_")[0],o[e]=c(c({},o[e]),{},{stratagems:n})}else o[e]=c(c({},o[e]),{},{[n]:r});t(fd({loadouts:o}))},n=A.loadouts[ee],r={primary:je.filter(e=>e.type===Z.PRIMARY),secondary:je.filter(e=>e.type===Z.SECONDARY),grenade:je.filter(e=>e.type===Z.GRENADE),armor:je.filter(e=>e.type===Z.ARMOR),booster:je.filter(e=>e.type===Z.BOOSTER),stratagem:je.filter(e=>e.type===Z.STRATAGEM)};return(0,yt.jsx)("div",{style:{minHeight:"100vh",padding:"24px",backgroundColor:"#1a2332"},children:(0,yt.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,yt.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},children:[(0,yt.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:G.PRIMARY,margin:"0 0 16px 0"},children:"CUSTOM START SETUP"}),(0,yt.jsx)("p",{style:{color:"#94a3b8",margin:0},children:"Configure starting difficulty and loadouts"})]}),(0,yt.jsxs)("div",{style:{backgroundColor:"#283548",padding:"24px",borderRadius:"8px",marginBottom:"24px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",marginBottom:"16px"},children:"Starting Difficulty"}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gap:"8px"},children:ze.map(e=>(0,yt.jsx)("button",{onClick:()=>t(fd({difficulty:e.level})),style:{padding:"12px 8px",backgroundColor:A.difficulty===e.level?G.PRIMARY:"transparent",color:A.difficulty===e.level?"black":"#cbd5e1",border:A.difficulty===e.level?"2px solid ".concat(G.PRIMARY):"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontWeight:"bold",fontSize:"16px",cursor:"pointer",transition:"all 0.2s"},title:e.name,children:e.level},e.level))}),(0,yt.jsx)("div",{style:{marginTop:"8px",textAlign:"center",color:G.PRIMARY,fontSize:"14px"},children:null===(xe=ze[A.difficulty-1])||void 0===xe?void 0:xe.name})]}),(0,yt.jsx)("div",{style:{display:"flex",gap:"8px",marginBottom:"24px"},children:A.loadouts.map((e,t)=>(0,yt.jsxs)("button",{onClick:()=>te(t),style:{padding:"12px 24px",backgroundColor:ee===t?G.PRIMARY:"#283548",color:ee===t?"black":"#cbd5e1",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s"},children:["Helldiver ",t+1]},t))}),(0,yt.jsxs)("div",{style:{backgroundColor:"#283548",padding:"24px",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,yt.jsx)("h3",{style:{color:G.PRIMARY,marginBottom:"16px",fontSize:"18px"},children:"Loadout Configuration"}),(0,yt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Primary"}),(0,yt.jsxs)("select",{value:n.primary||"",onChange:t=>e(ee,"primary",t.target.value||null),style:{width:"100%",padding:"8px",backgroundColor:"#1f2937",color:G.PRIMARY,border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontSize:"14px"},children:[(0,yt.jsx)("option",{value:"",children:"None"}),r.primary.map(e=>(0,yt.jsxs)("option",{value:e.id,children:[e.name," (",e.rarity,")"]},e.id))]})]}),(0,yt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Secondary"}),(0,yt.jsxs)("select",{value:n.secondary||"",onChange:t=>e(ee,"secondary",t.target.value||null),style:{width:"100%",padding:"8px",backgroundColor:"#1f2937",color:"white",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontSize:"14px"},children:[(0,yt.jsx)("option",{value:"",children:"None"}),r.secondary.map(e=>(0,yt.jsxs)("option",{value:e.id,children:[e.name," (",e.rarity,")"]},e.id))]})]}),(0,yt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Grenade"}),(0,yt.jsxs)("select",{value:n.grenade||"",onChange:t=>e(ee,"grenade",t.target.value||null),style:{width:"100%",padding:"8px",backgroundColor:"#1f2937",color:"#cbd5e1",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontSize:"14px"},children:[(0,yt.jsx)("option",{value:"",children:"None"}),r.grenade.map(e=>(0,yt.jsxs)("option",{value:e.id,children:[e.name," (",e.rarity,")"]},e.id))]})]}),(0,yt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Armor"}),(0,yt.jsxs)("select",{value:n.armor||"",onChange:t=>e(ee,"armor",t.target.value||null),style:{width:"100%",padding:"8px",backgroundColor:"#1f2937",color:"#cbd5e1",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontSize:"14px"},children:[(0,yt.jsx)("option",{value:"",children:"None"}),r.armor.map(e=>(0,yt.jsxs)("option",{value:e.id,children:[e.name," (",e.rarity,")"]},e.id))]})]}),(0,yt.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Booster"}),(0,yt.jsxs)("select",{value:n.booster||"",onChange:t=>e(ee,"booster",t.target.value||null),style:{width:"100%",padding:"8px",backgroundColor:"#1f2937",color:"#cbd5e1",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontSize:"14px"},children:[(0,yt.jsx)("option",{value:"",children:"None"}),r.booster.map(e=>(0,yt.jsxs)("option",{value:e.id,children:[e.name," (",e.rarity,")"]},e.id))]})]}),(0,yt.jsxs)("div",{children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Stratagems"}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:[0,1,2,3].map(t=>(0,yt.jsxs)("select",{value:n.stratagems[t]||"",onChange:r=>{const o=[...n.stratagems];o[t]=r.target.value||null,e(ee,"stratagems",o)},style:{padding:"8px",backgroundColor:"#1f2937",color:"white",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontSize:"12px"},children:[(0,yt.jsxs)("option",{value:"",children:["Slot ",t+1,": None"]}),r.stratagem.map(e=>(0,yt.jsx)("option",{value:e.id,children:e.name},e.id))]},t))})]})]}),(0,yt.jsxs)("div",{style:{display:"flex",gap:"16px",marginTop:"32px"},children:[(0,yt.jsx)("button",{onClick:()=>t(Xu("MENU")),style:{flex:1,padding:"16px",backgroundColor:"rgba(127, 29, 29, 0.3)",color:"#ef4444",border:"1px solid #7f1d1d",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},children:"Back to Menu"}),(0,yt.jsx)("button",{onClick:ce,style:c(c({},gt.PRIMARY),{},{flex:2,padding:"16px",border:"none",borderRadius:"4px",fontSize:"18px",letterSpacing:"0.1em"}),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=ct.PRIMARY_HOVER,e.currentTarget.style.boxShadow=pt.BUTTON_PRIMARY_HOVER},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=ct.PRIMARY,e.currentTarget.style.boxShadow=pt.BUTTON_PRIMARY},children:"Start Operation"})]})]})})}if("EVENT"===w){if(!O)return t(Xu("DRAFT")),null;const n=n=>{const r={stratagemSelection:j,targetPlayerSelection:L,targetStratagemSelection:z},o=Ke(n.outcomes,n,{players:I,eventPlayerChoice:N,requisition:T,currentDiff:R,gameConfig:E,burnedCards:k},r);if(o.needsBoosterSelection&&o.boosterDraft)return t((i=o.boosterDraft,{type:Lu,payload:i})),window.__boosterOutcome=o.boosterOutcome,void(o.burnBoosterDraft&&o.burnBoosterDraft.length>0&&o.burnBoosterDraft.forEach(e=>{t(md(e))}));var i;if(o.needsSubfactionSelection&&o.pendingFaction)t((a=o.pendingFaction,{type:Wu,payload:a}));else{var a,s;if(o.needsSpecialDraft&&o.specialDraftType){const e="throwable"===o.specialDraftType?Z.GRENADE:Z.SECONDARY;let n=je.filter(t=>t.type===e);if(E.burnCards&&k.length>0&&(n=n.filter(e=>!k.includes(e.id))),"throwable"===o.specialDraftType&&E.globalUniqueness){const e=new Set;I.forEach(t=>{t.loadout.grenade&&e.add(t.loadout.grenade)}),n=n.filter(t=>!e.has(t.id))}return t({type:Bu,payload:n}),t((s=o.specialDraftType,{type:Fu,payload:s})),void(void 0!==o.players&&t(id(o.players)))}if(void 0!==o.requisition&&t(ed(o.requisition)),void 0!==o.players&&t(id(o.players)),void 0!==o.currentDiff&&t(Zu(o.currentDiff)),void 0!==o.faction||void 0!==o.subfaction){const e={};void 0!==o.faction&&(e.faction=o.faction),void 0!==o.subfaction&&(e.subfaction=o.subfaction),t(Ju(e))}if(void 0!==o.bonusRequisition&&t(td(o.bonusRequisition)),o.newBurnedCards&&o.newBurnedCards.length>0&&o.newBurnedCards.forEach(e=>t(md(e))),o.transformedSlots&&o.transformedSlots.length>0){const e=o.transformedSlots.map(e=>"".concat(e.slot.replace("_"," ").toUpperCase(),": ").concat(e.oldItem," \u2192 ").concat(e.newItem)).join("\n\u2022 ");setTimeout(()=>{alert("Quantum Reconfiguration Complete!\n\n".concat(o.transformedSlots.length," item").concat(o.transformedSlots.length>1?"s":""," transformed:\n\n\u2022 ").concat(e))},100)}if(o.needsRedraft&&void 0!==o.redraftPlayerIndex){if(o.liquidatedItems&&o.liquidatedItems.length>0){const e=o.liquidatedItems.join("\n\u2022 "),t=o.redraftCount||1;setTimeout(()=>{alert("Assets Liquidated (".concat(o.liquidatedItems.length," items):\n\n\u2022 ").concat(e,"\n\nYou will now complete ").concat(t," draft round").concat(t>1?"s":""," to rebuild your loadout."))},100)}t(ud(null)),t(dd(null)),t(od());const e=o.players[o.redraftPlayerIndex],n=(null===e||void 0===e?void 0:e.lockedSlots)||[],r=He(e,R,E,k,o.players,e=>t(md(e)),qe(E.starRating),n);return t(ld({activePlayerIndex:o.redraftPlayerIndex,roundCards:r,isRerolling:!1,pendingStratagem:null,extraDraftRound:0,isRedrafting:!0,draftOrder:[o.redraftPlayerIndex]})),void t(Xu("DRAFT"))}if(o.removedItemName){const e="stratagem"===o.removedItemType?"Stratagem":"primary"===o.removedItemType?"Primary Weapon":"secondary"===o.removedItemType?"Secondary Weapon":"Grenade";setTimeout(()=>{alert("Equipment Confiscated: ".concat(o.removedItemName," (").concat(e,") has been removed from your loadout."))},100)}o.gainedItemName&&setTimeout(()=>{alert("Equipment Acquired: ".concat(o.gainedItemName," has been added to your loadout!"))},100),o.gainedItems&&o.gainedItems.length>0&&setTimeout(()=>{const t=o.gainedItems.map(t=>"".concat(e.players[t.playerIndex].name,": ").concat(t.itemName)).join("\n");alert("Equipment Acquired:\n".concat(t))},100),o.triggerGameOver?setTimeout(()=>t(Xu("GAMEOVER")),100):(t(ud(null)),t(dd(null)),t(od()),t(Xu("DASHBOARD")))}},r=()=>{if(B&&F){const e=window.__boosterOutcome,n=((e,t,n,r)=>{if(!r)return e;if("choose"===t.targetPlayer&&null!==n){const t=[...e];return t[n].loadout.booster=r,t[n].inventory.includes(r)||t[n].inventory.push(r),t}return t.targetPlayer&&"all"!==t.targetPlayer?e:e.map(e=>c(c({},e),{},{loadout:c(c({},e.loadout),{},{booster:r}),inventory:e.inventory.includes(r)?e.inventory:[...e.inventory,r]}))})(I,e,N,F);return t(id(n)),window.__boosterOutcome=null,t(ud(null)),t(dd(null)),t(od()),void t(Xu("DASHBOARD"))}if(W&&U){if(window.__specialDraftSelections&&window.__specialDraftSelections.length===I.length){const e=[...I];return window.__specialDraftSelections.forEach((n,r)=>{"throwable"===U?e[r].loadout.grenade=n:"secondary"===U&&(e[r].loadout.secondary=n),E.burnCards&&t(md(n))}),t(id(e)),window.__specialDraftSelections=null,t(ud(null)),t(dd(null)),t(od()),void t(Xu("DASHBOARD"))}}if(O.outcomes){let e=[];if(O.type===C){const t=O.outcomes.reduce((e,t)=>e+(t.weight||1),0);let n=Math.random()*t;for(const r of O.outcomes)if(n-=r.weight||1,n<=0){e=[r];break}}else e=O.outcomes;const n=Ke(e,null,{players:I,eventPlayerChoice:N,requisition:T,currentDiff:R,gameConfig:E,burnedCards:k});if(void 0!==n.requisition&&t(ed(n.requisition)),void 0!==n.players&&t(id(n.players)),void 0!==n.currentDiff&&t(Zu(n.currentDiff)),void 0!==n.faction||void 0!==n.subfaction){const e={};void 0!==n.faction&&(e.faction=n.faction),void 0!==n.subfaction&&(e.subfaction=n.subfaction),t(Ju(e))}if(n.triggerGameOver)return void setTimeout(()=>t(Xu("GAMEOVER")),100)}t(ud(null)),t(dd(null)),t(od()),t(Xu("DASHBOARD"))};return(0,yt.jsxs)("div",{style:{minHeight:"100vh"},children:[i&&(0,yt.jsx)(du,{gameConfig:E,onDisconnect:p}),(0,yt.jsx)(xt,{currentEvent:O,eventPlayerChoice:N,eventStratagemSelection:j,eventTargetPlayerSelection:L,eventTargetStratagemSelection:z,eventBoosterDraft:B,eventBoosterSelection:F,eventSpecialDraft:W,eventSpecialDraftType:U,pendingFaction:q,pendingSubfactionSelection:Y,players:I,currentDiff:R,requisition:T,isHost:!i||a,needsPlayerChoice:st,canAffordChoice:ot,formatOutcome:it,formatOutcomes:at,onPlayerChoice:e=>t(dd(e)),onEventChoice:n,onAutoContinue:r,onStratagemSelection:e=>t((e=>({type:Ou,payload:e}))(e)),onTargetPlayerSelection:e=>t((e=>({type:Nu,payload:e}))(e)),onTargetStratagemSelection:e=>t((e=>({type:ju,payload:e}))(e)),onBoosterSelection:e=>t((e=>({type:zu,payload:e}))(e)),onSubfactionSelection:e=>t((e=>({type:Uu,payload:e}))(e)),onConfirmSubfaction:()=>{t(Ju({faction:q,subfaction:Y})),t(ud(null)),t(dd(null)),t(od()),t(Xu("DASHBOARD"))},onSpecialDraftSelection:(e,t)=>{window.__specialDraftSelections||(window.__specialDraftSelections=new Array(I.length).fill(null)),window.__specialDraftSelections[e]=t},onConfirmSelections:n})]})}if("SACRIFICE"===w){const e=M.activePlayerIndex,n=I[e];if(!n)return console.error("SACRIFICE: Invalid player index",e,"players:",I.length),(0,yt.jsx)("div",{children:"Error: Invalid player state"});const r=[];if(n.loadout.primary){const e=Be(n.loadout.primary);e&&r.push(c(c({},e),{},{slot:"Primary"}))}if(n.loadout.secondary&&"s_peacemaker"!==n.loadout.secondary){const e=Be(n.loadout.secondary);e&&r.push(c(c({},e),{},{slot:"Secondary"}))}if(n.loadout.grenade&&"g_he"!==n.loadout.grenade){const e=Be(n.loadout.grenade);e&&r.push(c(c({},e),{},{slot:"Grenade"}))}if(n.loadout.armor&&"a_b01"!==n.loadout.armor){const e=Be(n.loadout.armor);e&&r.push(c(c({},e),{},{slot:"Armor"}))}if(n.loadout.booster){const e=Be(n.loadout.booster);e&&r.push(c(c({},e),{},{slot:"Booster"}))}n.loadout.stratagems.forEach((e,t)=>{if(e){const n=Be(e);n&&r.push(c(c({},n),{},{slot:"Stratagem ".concat(t+1)}))}});const o=e=>{var n;const r=M.activePlayerIndex;console.log("Sacrificing item",e.id,"for player index",r,"player:",null===(n=I[r])||void 0===n?void 0:n.name);const o=e.id,i=I.map((e,t)=>{if(t!==r)return e;let n=e.inventory.filter(e=>e!==o);const i=c(c({},e.loadout),{},{stratagems:[...e.loadout.stratagems]});i.primary===o&&(i.primary=null),i.secondary===o&&(i.secondary="s_peacemaker",n.includes("s_peacemaker")||n.push("s_peacemaker")),i.grenade===o&&(i.grenade="g_he",n.includes("g_he")||n.push("g_he")),i.armor===o&&(i.armor="a_b01",n.includes("a_b01")||n.push("a_b01")),i.booster===o&&(i.booster=null);for(let r=0;r<i.stratagems.length;r++)i.stratagems[r]===o&&(i.stratagems[r]=null);return c(c({},e),{},{inventory:n,loadout:i})}),a=M.sacrificesRequired.indexOf(r),s=a+1;if(console.log("Current position in sacrifice queue:",a,"Next:",s,"Total required:",M.sacrificesRequired),s<M.sacrificesRequired.length){const e=M.sacrificesRequired[s];console.log("Moving to next player index:",e),t(id(i)),t(sd({activePlayerIndex:e}))}else{console.log("All sacrifices complete, moving to draft");const e=i.map(e=>c(c({},e),{},{extracted:!0}));t(id(e)),de()}};return(0,yt.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",padding:"24px"},children:[(0,yt.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"16px",gap:"12px"},children:(0,yt.jsx)("button",{onClick:ie,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"rgba(100, 116, 139, 0.3)",color:"#94a3b8",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.5)",e.currentTarget.style.color=G.PRIMARY},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.3)",e.currentTarget.style.color="#94a3b8"},children:"\ud83d\udcbe Export"})}),(0,yt.jsxs)("div",{style:{width:"100%",maxWidth:"1200px",margin:"0 auto",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,yt.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px"},children:[(0,yt.jsxs)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.15)",border:"2px solid rgba(239, 68, 68, 0.5)",borderRadius:"8px",padding:"16px 32px",marginBottom:"24px",display:"inline-block"},children:[(0,yt.jsx)("div",{style:{color:"#ef4444",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:"\u26a0\ufe0f EXTRACTION FAILURE PENALTY"}),(0,yt.jsx)("div",{style:{color:"#94a3b8",fontSize:"12px",marginTop:"6px"},children:"Equipment Lost in Combat Zone"})]}),(0,yt.jsxs)("h1",{style:{fontSize:"36px",fontWeight:"900",color:"white",textTransform:"uppercase",margin:"0 0 8px 0"},children:[n.name," ",(0,yt.jsx)("span",{style:{color:"#64748b"},children:"//"})," Sacrifice Item"]}),(0,yt.jsx)("p",{style:{color:"#94a3b8",margin:"0"},children:"Select one item from your loadout to sacrifice (minimum gear protected)"})]}),0===r.length?(0,yt.jsxs)("div",{style:{backgroundColor:"#283548",padding:"40px",borderRadius:"12px",border:"1px solid rgba(100, 116, 139, 0.5)",textAlign:"center",maxWidth:"600px"},children:[(0,yt.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udee1\ufe0f"}),(0,yt.jsx)("h3",{style:{color:G.PRIMARY,fontSize:"20px",fontWeight:"bold",marginBottom:"8px"},children:"No Items to Sacrifice"}),(0,yt.jsx)("p",{style:{color:"#94a3b8",margin:0},children:"You only have minimum required equipment (P2-Peacemaker & B-01 Tactical)."}),(0,yt.jsx)("button",{onClick:()=>{const e=M.sacrificesRequired.indexOf(M.activePlayerIndex)+1;if(e<M.sacrificesRequired.length)t(sd({activePlayerIndex:M.sacrificesRequired[e]}));else{const e=I.map(e=>c(c({},e),{},{extracted:!0}));t(id(e)),de()}},style:c(c({},gt.PRIMARY),{},{marginTop:"24px",padding:"12px 32px",border:"none",borderRadius:"4px"}),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=ct.PRIMARY_HOVER},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=ct.PRIMARY},children:"Continue"})]}):(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(Math.min(r.length,4),", 1fr)"),gap:"24px",marginBottom:"48px",width:"100%"},children:r.map((e,t)=>(0,yt.jsxs)("div",{onClick:()=>{window.confirm("Sacrifice ".concat(e.name,"? This item will be permanently removed from your inventory and loadout."))&&o(e)},style:{backgroundColor:"#283548",border:"2px solid rgba(239, 68, 68, 0.5)",borderRadius:"12px",padding:"24px",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",gap:"12px"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#ef4444",e.currentTarget.style.backgroundColor="#1f2937",e.currentTarget.style.transform="translateY(-4px)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="rgba(239, 68, 68, 0.5)",e.currentTarget.style.backgroundColor="#283548",e.currentTarget.style.transform="translateY(0)"},children:[(0,yt.jsx)("div",{style:{fontSize:"10px",color:"#64748b",textTransform:"uppercase",letterSpacing:"1px"},children:e.slot}),(0,yt.jsx)("div",{style:{color:"white",fontWeight:"bold",fontSize:"18px"},children:e.name}),(0,yt.jsx)("div",{style:{fontSize:"12px",color:"#94a3b8"},children:e.rarity}),(0,yt.jsx)("div",{style:{fontSize:"11px",color:"#ef4444",fontStyle:"italic",marginTop:"auto"},children:"Click to sacrifice"})]},"".concat(e.id,"-").concat(t)))})]})]})}if("DRAFT"===w){var Se,Ce,we,Ee;const e=I[P.activePlayerIndex],n=!i||g===P.activePlayerIndex;return(0,yt.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[i&&(0,yt.jsx)(du,{gameConfig:E,onDisconnect:p}),(0,yt.jsxs)("div",{style:{padding:"24px"},children:[(0,yt.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"16px",gap:"12px"},children:[(0,yt.jsx)("button",{onClick:ie,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"rgba(100, 116, 139, 0.3)",color:"#94a3b8",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.5)",e.currentTarget.style.color=G.PRIMARY},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.3)",e.currentTarget.style.color="#94a3b8"},children:"\ud83d\udcbe Export"}),!i&&(0,yt.jsxs)("button",{onClick:()=>{window.confirm("Are you sure you want to cancel this run? All progress will be lost.")&&t(Xu("MENU"))},style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"rgba(127, 29, 29, 0.3)",color:"#ef4444",border:"1px solid #7f1d1d",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(127, 29, 29, 0.5)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgba(127, 29, 29, 0.3)",children:[(0,yt.jsx)(v,{size:16}),"Cancel Run"]})]}),P.pendingStratagem&&(0,yt.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"24px"},children:(0,yt.jsxs)("div",{style:{backgroundColor:"#283548",borderRadius:"12px",border:"2px solid ".concat(G.PRIMARY),padding:"32px",maxWidth:"800px",width:"100%"},children:[(0,yt.jsx)("h2",{style:{color:G.PRIMARY,fontSize:"24px",fontWeight:"bold",textAlign:"center",marginBottom:"16px"},children:"Replace Stratagem"}),(0,yt.jsx)("p",{style:{color:"#cbd5e1",textAlign:"center",marginBottom:"24px"},children:"All stratagem slots are full. Select which stratagem to replace with:"}),(0,yt.jsxs)("div",{style:{backgroundColor:"#1f2937",padding:"16px",borderRadius:"8px",marginBottom:"24px",textAlign:"center"},children:[(0,yt.jsx)("div",{style:{color:G.PRIMARY,fontWeight:"bold",fontSize:"18px"},children:P.pendingStratagem.name}),(0,yt.jsx)("div",{style:{color:"#64748b",fontSize:"12px",marginTop:"4px"},children:P.pendingStratagem.rarity})]}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"24px"},children:e.loadout.stratagems.map((e,n)=>{const r=Be(e);return(0,yt.jsxs)("button",{onClick:()=>(e=>{const n=P.activePlayerIndex,r=[...I],o=r[n],i=P.pendingStratagem;o.inventory.push(i.id),o.loadout.stratagems[e]=i.id,t(id(r)),pe(r)})(n),style:{backgroundColor:"#1f2937",border:"2px solid rgba(100, 116, 139, 0.5)",borderRadius:"8px",padding:"16px",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},onMouseEnter:e=>e.currentTarget.style.borderColor=G.PRIMARY,onMouseLeave:e=>e.currentTarget.style.borderColor="rgba(100, 116, 139, 0.5)",children:[(0,yt.jsxs)("div",{style:{fontSize:"10px",color:"#64748b",textTransform:"uppercase",marginBottom:"4px"},children:["Slot ",n+1]}),(0,yt.jsx)("div",{style:{color:"white",fontWeight:"bold",fontSize:"14px"},children:(null===r||void 0===r?void 0:r.name)||"Empty"}),r&&(0,yt.jsx)("div",{style:{fontSize:"11px",color:"#94a3b8",marginTop:"4px"},children:r.rarity})]},n)})}),(0,yt.jsx)("button",{onClick:()=>t(cd({pendingStratagem:null})),style:{width:"100%",padding:"12px",backgroundColor:"rgba(127, 29, 29, 0.3)",color:"#ef4444",border:"1px solid #7f1d1d",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(127, 29, 29, 0.5)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgba(127, 29, 29, 0.3)",children:"Cancel"})]})}),(0,yt.jsxs)("div",{style:{width:"100%",maxWidth:"1200px",margin:"0 auto",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,yt.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px"},children:[P.extraDraftRound>0&&(0,yt.jsxs)("div",{style:{backgroundColor:G.PRIMARY+"20",border:"2px solid ".concat(G.PRIMARY),borderRadius:"8px",padding:"12px 24px",marginBottom:"16px",display:"inline-block"},children:[(0,yt.jsxs)("div",{style:{color:G.PRIMARY,fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:["\ud83c\udf81 BONUS DRAFT ",P.extraDraftRound,"/",e.extraDraftCards||0]}),(0,yt.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Priority Access Equipment"})]}),P.isRedrafting&&e.redraftRounds>0&&(0,yt.jsxs)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.15)",border:"2px solid rgba(239, 68, 68, 0.4)",borderRadius:"8px",padding:"12px 24px",marginBottom:"16px",display:"inline-block"},children:[(0,yt.jsx)("div",{style:{color:G.PRIMARY,fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:"\ud83d\udd04 ASSET REINVESTMENT"}),(0,yt.jsxs)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:["Draft ",e.redraftRounds," of ",e.redraftRounds," Remaining"]})]}),(0,yt.jsx)("h2",{style:{color:G.PRIMARY,fontSize:"14px",fontFamily:"monospace",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"1px"},children:"Priority Requisition Authorized"}),(0,yt.jsxs)("h1",{style:{fontSize:"36px",fontWeight:"900",color:"white",textTransform:"uppercase",margin:"0 0 8px 0"},children:[e.name," ",(0,yt.jsx)("span",{style:{color:"#64748b"},children:"//"})," Select Upgrade"]}),(0,yt.jsxs)("p",{style:{color:"#94a3b8",margin:"0"},children:["Choose wisely. This equipment is vital for Difficulty ",R,"."]})]}),(0,yt.jsxs)("div",{style:{backgroundColor:"rgba(40, 53, 72, 0.5)",borderRadius:"8px",padding:"16px 24px",marginBottom:"32px",border:"1px solid rgba(100, 116, 139, 0.3)"},children:[(0,yt.jsxs)("div",{style:{fontSize:"12px",color:"#64748b",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:[e.name,"'s Current Loadout"]}),(0,yt.jsxs)("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",justifyContent:"center"},children:[(0,yt.jsxs)("div",{style:{textAlign:"center"},children:[(0,yt.jsx)("div",{style:{fontSize:"10px",color:"#94a3b8",marginBottom:"4px"},children:"Stratagems"}),(0,yt.jsx)("div",{style:{display:"flex",gap:"6px"},children:e.loadout.stratagems.map((e,t)=>{const n=e?Be(e):null;return(0,yt.jsx)("div",{style:{padding:"4px 8px",backgroundColor:n?"rgba(100, 116, 139, 0.3)":"rgba(100, 116, 139, 0.1)",borderRadius:"4px",fontSize:"10px",color:n?"#cbd5e1":"#64748b",maxWidth:"80px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:(null===n||void 0===n?void 0:n.name)||"Empty",children:(null===n||void 0===n?void 0:n.name)||"\u2014"},t)})})]}),(0,yt.jsxs)("div",{style:{textAlign:"center"},children:[(0,yt.jsx)("div",{style:{fontSize:"10px",color:"#94a3b8",marginBottom:"4px"},children:"Secondary"}),(0,yt.jsx)("div",{style:{padding:"4px 8px",backgroundColor:e.loadout.secondary?"rgba(100, 116, 139, 0.3)":"rgba(100, 116, 139, 0.1)",borderRadius:"4px",fontSize:"10px",color:e.loadout.secondary?"#cbd5e1":"#64748b"},children:e.loadout.secondary&&(null===(Se=Be(e.loadout.secondary))||void 0===Se?void 0:Se.name)||"\u2014"})]}),(0,yt.jsxs)("div",{style:{textAlign:"center"},children:[(0,yt.jsx)("div",{style:{fontSize:"10px",color:"#94a3b8",marginBottom:"4px"},children:"Throwable"}),(0,yt.jsx)("div",{style:{padding:"4px 8px",backgroundColor:e.loadout.throwable?"rgba(100, 116, 139, 0.3)":"rgba(100, 116, 139, 0.1)",borderRadius:"4px",fontSize:"10px",color:e.loadout.throwable?"#cbd5e1":"#64748b"},children:e.loadout.throwable&&(null===(Ce=Be(e.loadout.throwable))||void 0===Ce?void 0:Ce.name)||"\u2014"})]}),(0,yt.jsxs)("div",{style:{textAlign:"center"},children:[(0,yt.jsx)("div",{style:{fontSize:"10px",color:"#94a3b8",marginBottom:"4px"},children:"Armor"}),(0,yt.jsx)("div",{style:{padding:"4px 8px",backgroundColor:e.loadout.armor?"rgba(100, 116, 139, 0.3)":"rgba(100, 116, 139, 0.1)",borderRadius:"4px",fontSize:"10px",color:e.loadout.armor?"#cbd5e1":"#64748b"},children:e.loadout.armor&&(null===(we=Be(e.loadout.armor))||void 0===we?void 0:we.name)||"\u2014"})]}),e.loadout.booster&&(0,yt.jsxs)("div",{style:{textAlign:"center"},children:[(0,yt.jsx)("div",{style:{fontSize:"10px",color:"#94a3b8",marginBottom:"4px"},children:"Booster"}),(0,yt.jsx)("div",{style:{padding:"4px 8px",backgroundColor:"rgba(34, 197, 94, 0.2)",borderRadius:"4px",fontSize:"10px",color:"#22c55e"},children:(null===(Ee=Be(e.loadout.booster))||void 0===Ee?void 0:Ee.name)||"\u2014"})]})]})]}),(()=>{const e=(P.roundCards||[]).filter(e=>e&&(e.id||e.name||e.passive));return console.log("[Draft Render] Round cards:",P.roundCards),console.log("[Draft Render] Valid cards:",e),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(Math.min(e.length,4),", 1fr)"),gap:"24px",marginBottom:"48px",opacity:n?1:.6,pointerEvents:n?"auto":"none"},children:e.map((e,t)=>(0,yt.jsx)(_e,{item:e,onSelect:n?fe:null,onRemove:n?be:null},"".concat(e.id||e.name||e.passive,"-").concat(t)))})})(),!n&&(0,yt.jsx)("div",{style:{textAlign:"center",marginBottom:"32px",padding:"16px 32px",backgroundColor:"rgba(100, 116, 139, 0.2)",border:"2px solid rgba(100, 116, 139, 0.4)",borderRadius:"8px",display:"inline-block",margin:"0 auto 32px auto"},children:(0,yt.jsxs)("div",{style:{color:"#94a3b8",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase"},children:["Waiting for ",e.name," to draft..."]})}),n&&(0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"24px"},children:[(0,yt.jsxs)("button",{onClick:()=>{var e;T<(e=1)||(t(nd(e)),t(cd({roundCards:ue(P.activePlayerIndex)})))},disabled:T<1,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 32px",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px",border:T>=1?"2px solid white":"2px solid #334155",backgroundColor:"transparent",color:T>=1?"white":"#64748b",cursor:T>=1?"pointer":"not-allowed",transition:"all 0.2s"},children:[(0,yt.jsx)(_,{size:20}),"Reroll All Cards (-1 Req)"]}),(0,yt.jsx)("button",{onClick:he,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 32px",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px",border:"2px solid #64748b",backgroundColor:"transparent",color:"#94a3b8",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#94a3b8",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#64748b",e.currentTarget.style.color="#94a3b8"},children:"Skip Draft"})]}),(0,yt.jsx)("div",{style:{marginTop:"16px",textAlign:"center"},children:(0,yt.jsxs)("p",{style:{color:"#64748b",fontSize:"12px",margin:"0"},children:["Click the \xd7 on a card to remove just that card (free)",(0,yt.jsx)("br",{}),'Or use "Reroll All Cards" to reroll the entire hand']})})]}),(0,yt.jsx)("div",{style:{marginTop:"32px",textAlign:"center"},children:(0,yt.jsxs)("span",{style:{color:G.PRIMARY,fontFamily:"monospace"},children:["Current Requisition: ",Math.floor(T)," R"]})})]})]})]})}return(0,yt.jsxs)("div",{style:{minHeight:"100vh",paddingBottom:"80px"},children:[i&&(0,yt.jsx)(du,{gameConfig:E,onDisconnect:p}),(0,yt.jsx)(bt,{currentDiff:R,requisition:T,faction:E.faction,subfaction:E.subfaction,samples:e.samples,onExport:ie,onCancelRun:()=>t(Xu("MENU"))}),(0,yt.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"24px"},children:[(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:E.playerCount>1?"repeat(auto-fit, minmax(400px, 1fr))":"1fr",gap:"32px",marginBottom:"48px"},children:I.map(e=>{const{getSlotLockCost:t,MAX_LOCKED_SLOTS:r}=n(331);return(0,yt.jsx)(wt,{player:e,getItemById:Be,getArmorComboDisplayName:We,faction:E.faction,requisition:T,slotLockCost:t(E.playerCount),maxLockedSlots:r,onLockSlot:ge,onUnlockSlot:ye},e.id)})}),(0,yt.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[(0,yt.jsxs)("div",{style:{width:"100%",maxWidth:"800px",backgroundColor:"#283548",padding:"24px",borderRadius:"12px",border:"1px solid rgba(100, 116, 139, 0.5)",textAlign:"center"},children:[(0,yt.jsx)("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"white",textTransform:"uppercase",marginBottom:"24px"},children:"Mission Status Report"}),(0,yt.jsxs)("div",{style:{marginBottom:"32px",opacity:!i||a?1:.6},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Mission Performance Rating"}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"12px",marginBottom:"12px",pointerEvents:!i||a?"auto":"none"},children:[1,2,3,4,5].map(e=>(0,yt.jsxs)("button",{onClick:()=>t(Ju({starRating:e})),disabled:i&&!a,style:{padding:"16px 8px",borderRadius:"4px",fontWeight:"900",fontSize:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s",backgroundColor:E.starRating===e?G.PRIMARY:"transparent",color:E.starRating===e?"black":"#64748b",border:E.starRating===e?"2px solid ".concat(G.PRIMARY):"1px solid rgba(100, 116, 139, 0.5)",cursor:!i||a?"pointer":"not-allowed"},onMouseEnter:t=>{E.starRating===e||i&&!a||(t.currentTarget.style.borderColor="#64748b")},onMouseLeave:t=>{E.starRating===e||i&&!a||(t.currentTarget.style.borderColor="rgba(100, 116, 139, 0.5)")},children:[(0,yt.jsx)("div",{children:e}),(0,yt.jsx)("div",{style:{fontSize:"16px"},children:"\u2605"})]},e))}),(0,yt.jsxs)("p",{style:{fontSize:"11px",color:"#64748b",fontStyle:"italic",margin:0},children:[qe()," equipment cards will be offered"]})]}),(0,yt.jsxs)("div",{style:{marginBottom:"32px",opacity:!i||a?1:.6},children:[(0,yt.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"12px"},children:["Samples Collected This Mission ",i&&!a&&(0,yt.jsx)("span",{style:{fontSize:"10px",color:"#64748b",fontWeight:"normal"},children:"(Host only)"})]}),(0,yt.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"8px"},children:[(0,yt.jsxs)("div",{children:[(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[(0,yt.jsx)("img",{src:"https://helldivers.wiki.gg/images/Common_Sample_Logo.svg",alt:"Common",style:{width:"20px",height:"20px"}}),(0,yt.jsx)("span",{style:{fontSize:"12px",fontWeight:"bold",color:"#22c55e",textTransform:"uppercase"},children:"Common"})]}),(0,yt.jsx)("input",{type:"number",min:"0",max:"999",defaultValue:"0",id:"commonSamples",disabled:i&&!a,style:{width:"100%",padding:"12px",backgroundColor:"#1f2937",border:"1px solid #22c55e",borderRadius:"4px",color:"#22c55e",fontSize:"16px",fontWeight:"bold",textAlign:"center",fontFamily:"monospace",cursor:!i||a?"text":"not-allowed"}}),(0,yt.jsx)("div",{style:{fontSize:"10px",color:"#64748b",marginTop:"4px",fontStyle:"italic"},children:"+1% event chance each"})]}),(0,yt.jsxs)("div",{children:[(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[(0,yt.jsx)("img",{src:"https://helldivers.wiki.gg/images/Rare_Sample_Logo.svg",alt:"Rare",style:{width:"20px",height:"20px"}}),(0,yt.jsx)("span",{style:{fontSize:"12px",fontWeight:"bold",color:"#f97316",textTransform:"uppercase"},children:"Rare"})]}),(0,yt.jsx)("input",{type:"number",min:"0",max:"999",defaultValue:"0",id:"rareSamples",disabled:i&&!a,style:{width:"100%",padding:"12px",backgroundColor:"#1f2937",border:"1px solid #f97316",borderRadius:"4px",color:"#f97316",fontSize:"16px",fontWeight:"bold",textAlign:"center",fontFamily:"monospace",cursor:!i||a?"text":"not-allowed"}}),(0,yt.jsx)("div",{style:{fontSize:"10px",color:"#64748b",marginTop:"4px",fontStyle:"italic"},children:"+2% event chance each"})]}),(0,yt.jsxs)("div",{children:[(0,yt.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[(0,yt.jsx)("img",{src:"https://helldivers.wiki.gg/images/Super_Sample_Logo.svg",alt:"Super Rare",style:{width:"20px",height:"20px"}}),(0,yt.jsx)("span",{style:{fontSize:"12px",fontWeight:"bold",color:"#a855f7",textTransform:"uppercase"},children:"Super Rare"})]}),(0,yt.jsx)("input",{type:"number",min:"0",max:"999",defaultValue:"0",id:"superRareSamples",disabled:i&&!a,style:{width:"100%",padding:"12px",backgroundColor:"#1f2937",border:"1px solid #a855f7",borderRadius:"4px",color:"#a855f7",fontSize:"16px",fontWeight:"bold",textAlign:"center",fontFamily:"monospace",cursor:!i||a?"text":"not-allowed"}}),(0,yt.jsx)("div",{style:{fontSize:"10px",color:"#64748b",marginTop:"4px",fontStyle:"italic"},children:"+3% event chance each"})]})]}),(0,yt.jsx)("p",{style:{fontSize:"11px",color:"#94a3b8",fontStyle:"italic",margin:"8px 0 0 0",textAlign:"center"},children:"Samples increase the chance of random events. Event chance resets to base 0% when an event occurs."})]}),(0,yt.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,yt.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Extraction Status"}),(0,yt.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:I.map((e,n)=>{const r=!i||a||n===g;return(0,yt.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:r?"pointer":"not-allowed",padding:"10px 16px",backgroundColor:e.extracted?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",borderRadius:"4px",border:"1px solid ".concat(e.extracted?"#22c55e":"#ef4444"),transition:"all 0.2s",opacity:r?1:.7},children:[(0,yt.jsx)("input",{type:"checkbox",checked:!1!==e.extracted,onChange:e=>{return o=e.target.checked,void(r&&(i&&!a?y({type:"SET_PLAYER_EXTRACTED",payload:{playerIndex:n,extracted:o}}):t(ad(n,o))));var o},disabled:!r,style:{width:"18px",height:"18px",cursor:r?"pointer":"not-allowed"}}),(0,yt.jsxs)("div",{style:{flex:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,yt.jsxs)("span",{style:{color:e.extracted?"#22c55e":"#ef4444",fontWeight:"bold",fontSize:"14px"},children:[e.name," extracted"]}),!e.extracted&&E.brutalityMode&&(0,yt.jsx)("span",{style:{fontSize:"11px",color:"#ef4444",fontStyle:"italic"},children:"Must sacrifice item"}),!e.extracted&&!E.brutalityMode&&I.every(e=>!e.extracted)&&(0,yt.jsx)("span",{style:{fontSize:"11px",color:"#ef4444",fontStyle:"italic"},children:"TPK - Must sacrifice item"})]})]},e.id)})}),(0,yt.jsx)("p",{style:{fontSize:"11px",color:"#94a3b8",fontStyle:"italic",margin:"8px 0 0 0",textAlign:"center"},children:E.brutalityMode?"Brutality Mode: Non-extracted Helldivers must sacrifice equipment":"If all Helldivers fail to extract, all must sacrifice equipment"})]}),!i||a?(0,yt.jsxs)(yt.Fragment,{children:[(0,yt.jsxs)("div",{style:{display:"flex",gap:"16px",justifyContent:"center"},children:[(0,yt.jsxs)("button",{onClick:()=>{window.confirm("Mission Failed? This will end your run permanently. Are you sure?")&&t(Xu("GAMEOVER"))},style:{display:"flex",alignItems:"center",gap:"8px",padding:"16px 24px",backgroundColor:"rgba(127, 29, 29, 0.3)",color:"#ef4444",border:"1px solid #7f1d1d",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(127, 29, 29, 0.5)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgba(127, 29, 29, 0.3)",children:[(0,yt.jsx)(v,{}),"Mission Failed"]}),(0,yt.jsxs)("button",{onClick:()=>{var e,r,o;const i=parseInt((null===(e=document.getElementById("commonSamples"))||void 0===e?void 0:e.value)||"0",10),a=parseInt((null===(r=document.getElementById("rareSamples"))||void 0===r?void 0:r.value)||"0",10),s=parseInt((null===(o=document.getElementById("superRareSamples"))||void 0===o?void 0:o.value)||"0",10);t({type:xu,payload:{common:i,rare:a,superRare:s}}),document.getElementById("commonSamples")&&(document.getElementById("commonSamples").value="0"),document.getElementById("rareSamples")&&(document.getElementById("rareSamples").value="0"),document.getElementById("superRareSamples")&&(document.getElementById("superRareSamples").value="0");const{getRequisitionMultiplier:l}=n(331),u=l(E.playerCount,E.subfaction);t(td(1*u));const d=I.map(e=>c(c({},e),{},{weaponRestricted:!1}));if(t(id(d)),10===R&&!E.endlessMode)return void t(Xu("VICTORY"));R<10&&t(Zu(R+1));let p=[];if(E.brutalityMode)p=I.map((e,t)=>({player:e,idx:t})).filter(e=>{let{player:t}=e;return!t.extracted}).map(e=>{let{idx:t}=e;return t});else{I.every(e=>!e.extracted)&&(p=I.map((e,t)=>t))}p.length>0?(t((e=>({type:Tu,payload:e}))({activePlayerIndex:p[0],sacrificesRequired:p})),t(Xu("SACRIFICE"))):de()},style:c(c({},gt.PRIMARY),{},{display:"flex",alignItems:"center",gap:"8px",padding:"16px 32px",border:"none",borderRadius:"4px",letterSpacing:"2px"}),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=ct.PRIMARY_HOVER,e.currentTarget.style.boxShadow=pt.BUTTON_PRIMARY_HOVER},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=ct.PRIMARY,e.currentTarget.style.boxShadow=pt.BUTTON_PRIMARY},children:[(0,yt.jsx)(x,{}),"Mission Success"]})]}),(0,yt.jsxs)("p",{style:{marginTop:"16px",fontSize:"12px",color:"#64748b",fontFamily:"monospace",margin:"16px 0 0 0"},children:["Report success to earn Requisition & proceed to draft.",(0,yt.jsx)("br",{}),"Reporting failure consumes 1 Life."]})]}):(0,yt.jsxs)("div",{style:{textAlign:"center",padding:"24px",backgroundColor:"rgba(100, 116, 139, 0.1)",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.3)"},children:[(0,yt.jsx)("p",{style:{color:"#94a3b8",margin:0},children:"\u23f3 Waiting for host to report mission outcome..."}),(0,yt.jsx)("p",{style:{color:"#64748b",fontSize:"12px",marginTop:"8px"},children:"Toggle your extraction status above while waiting."})]})]}),E.debugEventsMode&&(0,yt.jsxs)("div",{style:{width:"100%",maxWidth:"800px",backgroundColor:"#1a2332",padding:"24px",borderRadius:"12px",border:"2px solid #ef4444",marginTop:"24px"},children:[(0,yt.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,yt.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#ef4444",textTransform:"uppercase",margin:0},children:"\ud83d\udd27 Debug: Manual Event Trigger"}),(0,yt.jsx)("button",{onClick:()=>t({type:Du}),style:{padding:"8px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"4px",fontSize:"11px",fontWeight:"bold",cursor:"pointer",textTransform:"uppercase",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#dc2626",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#ef4444",children:"Reset Seen Events"})]}),(0,yt.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"12px"},children:V.map(e=>(0,yt.jsxs)("button",{onClick:()=>{t(hd(e.id)),t(ud(e)),t(dd(null)),t(Xu("EVENT"))},style:{padding:"12px",backgroundColor:H.includes(e.id)?"#374151":"#283548",color:H.includes(e.id)?"#6b7280":"#cbd5e1",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",fontSize:"11px",cursor:H.includes(e.id)?"not-allowed":"pointer",transition:"all 0.2s",textAlign:"left",opacity:H.includes(e.id)?.5:1},disabled:H.includes(e.id),onMouseEnter:t=>{H.includes(e.id)||(t.currentTarget.style.borderColor="#ef4444",t.currentTarget.style.backgroundColor="#374151")},onMouseLeave:t=>{H.includes(e.id)||(t.currentTarget.style.borderColor="rgba(239, 68, 68, 0.3)",t.currentTarget.style.backgroundColor="#283548")},children:[(0,yt.jsx)("div",{style:{fontWeight:"bold",marginBottom:"4px",fontSize:"12px"},children:e.name}),(0,yt.jsxs)("div",{style:{fontSize:"9px",color:"#64748b"},children:[e.id," ",H.includes(e.id)?"(SEEN)":""]})]},e.id))}),(0,yt.jsx)("p",{style:{fontSize:"10px",color:"#64748b",marginTop:"12px",textAlign:"center",fontStyle:"italic"},children:"Events marked as SEEN have already been triggered this run"})]})]})]}),(0,yt.jsx)(_t,{})]})}function bd(){return(0,yt.jsx)(Xc,{children:(0,yt.jsx)(yd,{})})}o.createRoot(document.getElementById("root")).render((0,yt.jsx)(r.StrictMode,{children:(0,yt.jsx)(bd,{})}))})();
//# sourceMappingURL=main.42182cf7.js.map