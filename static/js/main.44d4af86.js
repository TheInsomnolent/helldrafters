/*! For license information please see main.44d4af86.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),o=n(43),a=n(950);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(i(188))}function p(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=p(e)))return t;e=e.sibling}return null}var h=Object.assign,f=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),v=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var k=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var A=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function M(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case _:return"Profiler";case b:return"StrictMode";case C:return"Suspense";case w:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case v:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:M(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return M(e(t))}catch(n){}}return null}var j=Array.isArray,D=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},L=[],z=-1;function B(e){return{current:e}}function F(e){0>z||(e.current=L[z],L[z]=null,z--)}function W(e,t){z++,L[z]=e.current,e.current=t}var U,H,Y=B(null),G=B(null),q=B(null),V=B(null);function K(e,t){switch(W(q,t),W(G,e),W(Y,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bu(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=_u(t=bu(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(Y),W(Y,e)}function $(){F(Y),F(G),F(q)}function X(e){null!==e.memoizedState&&W(V,e);var t=Y.current,n=_u(t,e.type);t!==n&&(W(G,e),W(Y,n))}function Q(e){G.current===e&&(F(Y),F(G)),V.current===e&&(F(V),up._currentValue=N)}function J(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||"",H=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+e+H}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(o){var r=o}Reflect.construct(e,[],n)}else{try{n.call()}catch(a){r=a}e.call(n.prototype)}}else{try{throw Error()}catch(i){r=i}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),i=a[0],s=a[1];if(i&&s){var l=i.split("\n"),c=s.split("\n");for(o=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;o<c.length&&!c[o].includes("DetermineComponentFrameRoot");)o++;if(r===l.length||o===c.length)for(r=l.length-1,o=c.length-1;1<=r&&0<=o&&l[r]!==c[o];)o--;for(;1<=r&&0<=o;r--,o--)if(l[r]!==c[o]){if(1!==r||1!==o)do{if(r--,0>--o||l[r]!==c[o]){var d="\n"+l[r].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}}while(1<=r&&0<=o);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}var re=Object.prototype.hasOwnProperty,oe=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,ie=r.unstable_shouldYield,se=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,de=r.unstable_ImmediatePriority,ue=r.unstable_UserBlockingPriority,pe=r.unstable_NormalPriority,he=r.unstable_LowPriority,fe=r.unstable_IdlePriority,ge=r.log,me=r.unstable_setDisableYieldValue,ye=null,be=null;function _e(e){if("function"===typeof ge&&me(e),be&&"function"===typeof be.setStrictMode)try{be.setStrictMode(ye,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ve(e)/Se|0)|0},ve=Math.log,Se=Math.LN2;var Ce=256,we=262144,Re=4194304;function Ee(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var o=0,a=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~a)?o=Ee(r):0!==(i&=s)?o=Ee(i):n||0!==(n=s&~e)&&(o=Ee(n)):0!==(s=r&~a)?o=Ee(s):0!==i?o=Ee(i):n||0!==(n=r&~e)&&(o=Ee(n)),0===o?0:0!==t&&t!==o&&0===(t&a)&&((a=o&-o)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:o}function ke(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ae(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ie(){var e=Re;return 0===(62914560&(Re<<=1))&&(Re=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Me(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function je(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-xe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xe(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Ne(n))&(e.suspendedLanes|t))?0:n}function Ne(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function ze(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Tp(e.type)}function Be(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var Fe=Math.random().toString(36).slice(2),We="__reactFiber$"+Fe,Ue="__reactProps$"+Fe,He="__reactContainer$"+Fe,Ye="__reactEvents$"+Fe,Ge="__reactListeners$"+Fe,qe="__reactHandles$"+Fe,Ve="__reactResources$"+Fe,Ke="__reactMarker$"+Fe;function $e(e){delete e[We],delete e[Ue],delete e[Ye],delete e[Ge],delete e[qe]}function Xe(e){var t=e[We];if(t)return t;for(var n=e.parentNode;n;){if(t=n[He]||n[We]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Lu(e);null!==e;){if(n=e[We])return n;e=Lu(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[We]||e[He]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Ze(e){var t=e[Ve];return t||(t=e[Ve]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ke]=!0}var tt=new Set,nt={};function rt(e,t){ot(e,t),ot(e+"Capture",t)}function ot(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),it={},st={};function lt(e,t,n){if(o=t,re.call(st,o)||!re.call(it,o)&&(at.test(o)?st[o]=!0:(it[o]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var o}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function dt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function pt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=pt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var o=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function gt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var mt=/[\n"\\]/g;function yt(e){return e.replace(mt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function bt(e,t,n,r,o,a,i,s){e.name="",null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i?e.type=i:e.removeAttribute("type"),null!=t?"number"===i?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==i&&"reset"!==i||e.removeAttribute("value"),null!=t?xt(e,i,ut(t)):null!=n?xt(e,i,ut(n)):null!=r&&e.removeAttribute("value"),null==o&&null!=a&&(e.defaultChecked=!!a),null!=o&&(e.checked=o&&"function"!==typeof o&&"symbol"!==typeof o),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ut(s):e.removeAttribute("name")}function _t(e,t,n,r,o,a,i,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void ht(e);n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:o)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&"boolean"!==typeof i&&(e.name=i),ht(e)}function xt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function vt(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(j(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ht(e)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Rt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Rt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var o in t)r=t[o],t.hasOwnProperty(o)&&n[o]!==r&&Et(e,o,r)}else for(var a in t)t.hasOwnProperty(a)&&Et(e,a,t[a])}function kt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mt(){}var jt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Nt=null;function Lt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(bt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=r[Ue]||null;if(!o)throw Error(i(90));bt(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&vt(e,!!n.multiple,t,!1)}}}var zt=!1;function Bt(e,t,n){if(zt)return e(t,n);zt=!0;try{return e(t)}finally{if(zt=!1,(null!==Ot||null!==Nt)&&(ed(),Ot&&(t=Ot,e=Nt,Nt=Ot=null,Lt(t),e)))for(t=0;t<e.length;t++)Lt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Wt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Wt)try{var Ht={};Object.defineProperty(Ht,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Ht,Ht),window.removeEventListener("test",Ht,Ht)}catch(Jp){Ut=!1}var Yt=null,Gt=null,qt=null;function Vt(){if(qt)return qt;var e,t,n=Gt,r=n.length,o="value"in Yt?Yt.value:Yt.textContent,a=o.length;for(e=0;e<r&&n[e]===o[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===o[a-t];t++);return qt=o.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Xt(){return!1}function Qt(e){function t(t,n,r,o,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(o):o[i]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?$t:Xt,this.isPropagationStopped=Xt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Qt(tn),rn=h({},tn,{view:0,detail:0}),on=Qt(rn),an=h({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sn=Qt(an),ln=Qt(h({},an,{dataTransfer:0})),cn=Qt(h({},rn,{relatedTarget:0})),dn=Qt(h({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),un=Qt(h({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=Qt(h({},tn,{data:0})),hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function yn(){return mn}var bn=Qt(h({},rn,{key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),_n=Qt(h({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Qt(h({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),vn=Qt(h({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Qt(h({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Cn=Qt(h({},tn,{newState:0,oldState:0})),wn=[9,13,27,32],Rn=Wt&&"CompositionEvent"in window,En=null;Wt&&"documentMode"in document&&(En=document.documentMode);var Tn=Wt&&"TextEvent"in window&&!En,kn=Wt&&(!Rn||En&&8<En&&11>=En),An=String.fromCharCode(32),In=!1;function Pn(e,t){switch(e){case"keyup":return-1!==wn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Nn(e,t,n,r){Ot?Nt?Nt.push(r):Nt=[r]:Ot=r,0<(t=ou(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ln=null,zn=null;function Bn(e){Xd(e,0)}function Fn(e){if(ft(Je(e)))return e}function Wn(e,t){if("change"===e)return t}var Un=!1;if(Wt){var Hn;if(Wt){var Yn="oninput"in document;if(!Yn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Yn="function"===typeof Gn.oninput}Hn=Yn}else Hn=!1;Un=Hn&&(!document.documentMode||9<document.documentMode)}function qn(){Ln&&(Ln.detachEvent("onpropertychange",Vn),zn=Ln=null)}function Vn(e){if("value"===e.propertyName&&Fn(zn)){var t=[];Nn(t,zn,e,Dt(e)),Bt(Bn,t)}}function Kn(e,t,n){"focusin"===e?(qn(),zn=n,(Ln=t).attachEvent("onpropertychange",Vn)):"focusout"===e&&qn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(zn)}function Xn(e,t){if("click"===e)return Fn(t)}function Qn(e,t){if("input"===e||"change"===e)return Fn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!re.call(t,o)||!Jn(e[o],t[o]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Wt&&"documentMode"in document&&11>=document.documentMode,ir=null,sr=null,lr=null,cr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ir||ir!==gt(r)||("selectionStart"in(r=ir)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=ou(sr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ir)))}function ur(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:ur("Animation","AnimationEnd"),animationiteration:ur("Animation","AnimationIteration"),animationstart:ur("Animation","AnimationStart"),transitionrun:ur("Transition","TransitionRun"),transitionstart:ur("Transition","TransitionStart"),transitioncancel:ur("Transition","TransitionCancel"),transitionend:ur("Transition","TransitionEnd")},hr={},fr={};function gr(e){if(hr[e])return hr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in fr)return hr[e]=n[t];return e}Wt&&(fr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var mr=gr("animationend"),yr=gr("animationiteration"),br=gr("animationstart"),_r=gr("transitionrun"),xr=gr("transitionstart"),vr=gr("transitioncancel"),Sr=gr("transitionend"),Cr=new Map,wr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Cr.set(e,t),rt(t,[e])}wr.push("scrollEnd");var Er="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],kr=0,Ar=0;function Ir(){for(var e=kr,t=Ar=kr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var o=Tr[t];Tr[t++]=null;var a=Tr[t];if(Tr[t++]=null,null!==r&&null!==o){var i=r.pending;null===i?o.next=o:(o.next=i.next,i.next=o),r.pending=o}0!==a&&Dr(n,o,a)}}function Pr(e,t,n,r){Tr[kr++]=e,Tr[kr++]=t,Tr[kr++]=n,Tr[kr++]=r,Ar|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Mr(e,t,n,r){return Pr(e,t,n,r),Or(e)}function jr(e,t){return Pr(e,null,null,t),Or(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var o=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(o=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,o&&null!==t&&(o=31-xe(n),null===(r=(e=a.hiddenUpdates)[o])?e[o]=[t]:r.push(t),t.lane=536870912|n),a):null}function Or(e){if(50<Gc)throw Gc=0,qc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Nr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Lr(e,t,n,r)}function Br(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fr(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Wr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ur(e,t,n,r,o,a){var s=0;if(r=e,"function"===typeof e)Br(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,Y.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=zr(31,n,t,o)).elementType=T,e.lanes=a,e;case y:return Hr(n.children,o,a,t);case b:s=8,o|=24;break;case _:return(e=zr(12,n,t,2|o)).elementType=_,e.lanes=a,e;case C:return(e=zr(13,n,t,o)).elementType=C,e.lanes=a,e;case w:return(e=zr(19,n,t,o)).elementType=w,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case v:s=10;break e;case x:s=9;break e;case S:s=11;break e;case R:s=14;break e;case E:s=16,r=null;break e}s=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=zr(s,n,t,o)).elementType=e,t.type=r,t.lanes=a,t}function Hr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Yr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Gr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function qr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vr=new WeakMap;function Kr(e,t){if("object"===typeof e&&null!==e){var n=Vr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Vr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var $r=[],Xr=0,Qr=null,Jr=0,Zr=[],eo=0,to=null,no=1,ro="";function oo(e,t){$r[Xr++]=Jr,$r[Xr++]=Qr,Qr=e,Jr=t}function ao(e,t,n){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,to=e;var r=no;e=ro;var o=32-xe(r)-1;r&=~(1<<o),n+=1;var a=32-xe(t)+o;if(30<a){var i=o-o%5;a=(r&(1<<i)-1).toString(32),r>>=i,o-=i,no=1<<32-xe(t)+o|n<<o|r,ro=a+e}else no=1<<a|n<<o|r,ro=e}function io(e){null!==e.return&&(oo(e,1),ao(e,1,0))}function so(e){for(;e===Qr;)Qr=$r[--Xr],$r[Xr]=null,Jr=$r[--Xr],$r[Xr]=null;for(;e===to;)to=Zr[--eo],Zr[eo]=null,ro=Zr[--eo],Zr[eo]=null,no=Zr[--eo],Zr[eo]=null}function lo(e,t){Zr[eo++]=no,Zr[eo++]=ro,Zr[eo++]=to,no=t.id,ro=t.overflow,to=e}var co=null,uo=null,po=!1,ho=null,fo=!1,go=Error(i(519));function mo(e){throw So(Kr(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),go}function yo(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[We]=e,t[Ue]=r,n){case"dialog":Qd("cancel",t),Qd("close",t);break;case"iframe":case"object":case"embed":Qd("load",t);break;case"video":case"audio":for(n=0;n<Kd.length;n++)Qd(Kd[n],t);break;case"source":Qd("error",t);break;case"img":case"image":case"link":Qd("error",t),Qd("load",t);break;case"details":Qd("toggle",t);break;case"input":Qd("invalid",t),_t(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Qd("invalid",t);break;case"textarea":Qd("invalid",t),Ct(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||du(t.textContent,n)?(null!=r.popover&&(Qd("beforetoggle",t),Qd("toggle",t)),null!=r.onScroll&&Qd("scroll",t),null!=r.onScrollEnd&&Qd("scrollend",t),null!=r.onClick&&(t.onclick=Mt),t=!0):t=!1,t||mo(e,!0)}function bo(e){for(co=e.return;co;)switch(co.tag){case 5:case 31:case 13:return void(fo=!1);case 27:case 3:return void(fo=!0);default:co=co.return}}function _o(e){if(e!==co)return!1;if(!po)return bo(e),po=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||xu(e.type,e.memoizedProps)),t=!t),t&&uo&&mo(e),bo(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));uo=Nu(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));uo=Nu(e)}else 27===n?(n=uo,Tu(e.type)?(e=Ou,Ou=null,uo=e):uo=n):uo=co?Du(e.stateNode.nextSibling):null;return!0}function xo(){uo=co=null,po=!1}function vo(){var e=ho;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),ho=null),e}function So(e){null===ho?ho=[e]:ho.push(e)}var Co=B(null),wo=null,Ro=null;function Eo(e,t,n){W(Co,t._currentValue),t._currentValue=n}function To(e){e._currentValue=Co.current,F(Co)}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t,n,r){var o=e.child;for(null!==o&&(o.return=e);null!==o;){var a=o.dependencies;if(null!==a){var s=o.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=o;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ko(a.return,n,e),r||(s=null);break e}a=l.next}}else if(18===o.tag){if(null===(s=o.return))throw Error(i(341));s.lanes|=n,null!==(a=s.alternate)&&(a.lanes|=n),ko(s,n,e),s=null}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===e){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}}function Io(e,t,n,r){e=null;for(var o=t,a=!1;null!==o;){if(!a)if(0!==(524288&o.flags))a=!0;else if(0!==(262144&o.flags))break;if(10===o.tag){var s=o.alternate;if(null===s)throw Error(i(387));if(null!==(s=s.memoizedProps)){var l=o.type;Jn(o.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(o===V.current){if(null===(s=o.alternate))throw Error(i(387));s.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(null!==e?e.push(up):e=[up])}o=o.return}null!==e&&Ao(t,e,n,r),t.flags|=262144}function Po(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mo(e){wo=e,Ro=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function jo(e){return Oo(wo,e)}function Do(e,t){return null===wo&&Mo(e),Oo(e,t)}function Oo(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ro){if(null===e)throw Error(i(308));Ro=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ro=Ro.next=t;return n}var No="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Lo=r.unstable_scheduleCallback,zo=r.unstable_NormalPriority,Bo={$$typeof:v,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fo(){return{controller:new No,data:new Map,refCount:0}}function Wo(e){e.refCount--,0===e.refCount&&Lo(zo,function(){e.controller.abort()})}var Uo=null,Ho=0,Yo=0,Go=null;function qo(){if(0===--Ho&&null!==Uo){null!==Go&&(Go.status="fulfilled");var e=Uo;Uo=null,Yo=0,Go=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vo=D.S;D.S=function(e,t){Dc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Uo){var n=Uo=[];Ho=0,Yo=Hd(),Go={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ho++,t.then(qo,qo)}(0,t),null!==Vo&&Vo(e,t)};var Ko=B(null);function $o(){var e=Ko.current;return null!==e?e:gc.pooledCache}function Xo(e,t){W(Ko,null===t?Ko.current:t.pool)}function Qo(){var e=$o();return null===e?null:{parent:Bo._currentValue,pool:e}}var Jo=Error(i(460)),Zo=Error(i(474)),ea=Error(i(542)),ta={then:function(){}};function na(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ra(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Mt,Mt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw sa(e=t.reason),e;default:if("string"===typeof t.status)t.then(Mt,Mt);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw sa(e=t.reason),e}throw aa=t,Jo}}function oa(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw aa=t,Jo;throw t}}var aa=null;function ia(){if(null===aa)throw Error(i(459));var e=aa;return aa=null,e}function sa(e){if(e===Jo||e===ea)throw Error(i(483))}var la=null,ca=0;function da(e){var t=ca;return ca+=1,null===la&&(la=[]),ra(la,e,t)}function ua(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function pa(e,t){if(t.$$typeof===f)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ha(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(e,t){return(e=Fr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Yr(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===y?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===E&&oa(a)===t.type)?(ua(t=o(t,n.props),n),t.return=e,t):(ua(t=Ur(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,a)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Yr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case g:return ua(n=Ur(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case E:return p(e,t=oa(t),n)}if(j(t)||I(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return p(e,da(t),n);if(t.$$typeof===v)return p(e,Do(e,t),n);pa(e,t)}return null}function h(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case g:return n.key===o?c(e,t,n,r):null;case m:return n.key===o?d(e,t,n,r):null;case E:return h(e,t,n=oa(n),r)}if(j(n)||I(n))return null!==o?null:u(e,t,n,r,null);if("function"===typeof n.then)return h(e,t,da(n),r);if(n.$$typeof===v)return h(e,t,Do(e,n),r);pa(e,n)}return null}function f(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case g:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case m:return d(t,e=e.get(null===r.key?n:r.key)||null,r,o);case E:return f(e,t,n,r=oa(r),o)}if(j(r)||I(r))return u(t,e=e.get(n)||null,r,o,null);if("function"===typeof r.then)return f(e,t,n,da(r),o);if(r.$$typeof===v)return f(e,t,n,Do(t,r),o);pa(t,r)}return null}function b(l,c,d,u){if("object"===typeof d&&null!==d&&d.type===y&&null===d.key&&(d=d.props.children),"object"===typeof d&&null!==d){switch(d.$$typeof){case g:e:{for(var _=d.key;null!==c;){if(c.key===_){if((_=d.type)===y){if(7===c.tag){n(l,c.sibling),(u=o(c,d.props.children)).return=l,l=u;break e}}else if(c.elementType===_||"object"===typeof _&&null!==_&&_.$$typeof===E&&oa(_)===c.type){n(l,c.sibling),ua(u=o(c,d.props),d),u.return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}d.type===y?((u=Hr(d.props.children,l.mode,u,d.key)).return=l,l=u):(ua(u=Ur(d.type,d.key,d.props,null,l.mode,u),d),u.return=l,l=u)}return s(l);case m:e:{for(_=d.key;null!==c;){if(c.key===_){if(4===c.tag&&c.stateNode.containerInfo===d.containerInfo&&c.stateNode.implementation===d.implementation){n(l,c.sibling),(u=o(c,d.children||[])).return=l,l=u;break e}n(l,c);break}t(l,c),c=c.sibling}(u=qr(d,l.mode,u)).return=l,l=u}return s(l);case E:return b(l,c,d=oa(d),u)}if(j(d))return function(o,i,s,l){for(var c=null,d=null,u=i,g=i=0,m=null;null!==u&&g<s.length;g++){u.index>g?(m=u,u=null):m=u.sibling;var y=h(o,u,s[g],l);if(null===y){null===u&&(u=m);break}e&&u&&null===y.alternate&&t(o,u),i=a(y,i,g),null===d?c=y:d.sibling=y,d=y,u=m}if(g===s.length)return n(o,u),po&&oo(o,g),c;if(null===u){for(;g<s.length;g++)null!==(u=p(o,s[g],l))&&(i=a(u,i,g),null===d?c=u:d.sibling=u,d=u);return po&&oo(o,g),c}for(u=r(u);g<s.length;g++)null!==(m=f(u,o,g,s[g],l))&&(e&&null!==m.alternate&&u.delete(null===m.key?g:m.key),i=a(m,i,g),null===d?c=m:d.sibling=m,d=m);return e&&u.forEach(function(e){return t(o,e)}),po&&oo(o,g),c}(l,c,d,u);if(I(d)){if("function"!==typeof(_=I(d)))throw Error(i(150));return function(o,s,l,c){if(null==l)throw Error(i(151));for(var d=null,u=null,g=s,m=s=0,y=null,b=l.next();null!==g&&!b.done;m++,b=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var _=h(o,g,b.value,c);if(null===_){null===g&&(g=y);break}e&&g&&null===_.alternate&&t(o,g),s=a(_,s,m),null===u?d=_:u.sibling=_,u=_,g=y}if(b.done)return n(o,g),po&&oo(o,m),d;if(null===g){for(;!b.done;m++,b=l.next())null!==(b=p(o,b.value,c))&&(s=a(b,s,m),null===u?d=b:u.sibling=b,u=b);return po&&oo(o,m),d}for(g=r(g);!b.done;m++,b=l.next())null!==(b=f(g,o,m,b.value,c))&&(e&&null!==b.alternate&&g.delete(null===b.key?m:b.key),s=a(b,s,m),null===u?d=b:u.sibling=b,u=b);return e&&g.forEach(function(e){return t(o,e)}),po&&oo(o,m),d}(l,c,d=_.call(d),u)}if("function"===typeof d.then)return b(l,c,da(d),u);if(d.$$typeof===v)return b(l,c,Do(l,d),u);pa(l,d)}return"string"===typeof d&&""!==d||"number"===typeof d||"bigint"===typeof d?(d=""+d,null!==c&&6===c.tag?(n(l,c.sibling),(u=o(c,d)).return=l,l=u):(n(l,c),(u=Yr(d,l.mode,u)).return=l,l=u),s(l)):n(l,c)}return function(e,t,n,r){try{ca=0;var o=b(e,t,n,r);return la=null,o}catch(i){if(i===Jo||i===ea)throw i;var a=zr(29,i,null,e.mode);return a.lanes=r,a.return=e,a}}}var fa=ha(!0),ga=ha(!1),ma=!1;function ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ba(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function _a(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function xa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,t=Or(e),Dr(e,null,n),t}return Pr(e,r,t,n),Or(e)}function va(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function Sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?o=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?o=a=t:a=a.next=t}else o=a=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ca=!1;function wa(){if(Ca){if(null!==Go)throw Go}}function Ra(e,t,n,r){Ca=!1;var o=e.updateQueue;ma=!1;var a=o.firstBaseUpdate,i=o.lastBaseUpdate,s=o.shared.pending;if(null!==s){o.shared.pending=null;var l=s,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((s=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===s?d.firstBaseUpdate=c:s.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=o.baseState;for(i=0,d=c=l=null,s=a;;){var p=-536870913&s.lane,f=p!==s.lane;if(f?(yc&p)===p:(r&p)===p){0!==p&&p===Yo&&(Ca=!0),null!==d&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,m=s;p=t;var y=n;switch(m.tag){case 1:if("function"===typeof(g=m.payload)){u=g.call(y,u,p);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(p="function"===typeof(g=m.payload)?g.call(y,u,p):g)||void 0===p)break e;u=h({},u,p);break e;case 2:ma=!0}}null!==(p=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=o.callbacks)?o.callbacks=[p]:f.push(p))}else f={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===d?(c=d=f,l=u):d=d.next=f,i|=p;if(null===(s=s.next)){if(null===(s=o.shared.pending))break;s=(f=s).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}null===d&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null===a&&(o.shared.lanes=0),Rc|=i,e.lanes=i,e.memoizedState=u}}function Ea(e,t){if("function"!==typeof e)throw Error(i(191,e));e.call(t)}function Ta(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ea(n[e],t)}var ka=B(null),Aa=B(0);function Ia(e,t){W(Aa,e=Cc),W(ka,t),Cc=e|t.baseLanes}function Pa(){W(Aa,Cc),W(ka,ka.current)}function Ma(){Cc=Aa.current,F(ka),F(Aa)}var ja=B(null),Da=null;function Oa(e){var t=e.alternate;W(Fa,1&Fa.current),W(ja,e),null===Da&&(null===t||null!==ka.current||null!==t.memoizedState)&&(Da=e)}function Na(e){W(Fa,Fa.current),W(ja,e),null===Da&&(Da=e)}function La(e){22===e.tag?(W(Fa,Fa.current),W(ja,e),null===Da&&(Da=e)):za()}function za(){W(Fa,Fa.current),W(ja,ja.current)}function Ba(e){F(ja),Da===e&&(Da=null),F(Fa)}var Fa=B(0);function Wa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Mu(n)||ju(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=0,Ha=null,Ya=null,Ga=null,qa=!1,Va=!1,Ka=!1,$a=0,Xa=0,Qa=null,Ja=0;function Za(){throw Error(i(321))}function ei(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ti(e,t,n,r,o,a){return Ua=a,Ha=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?ms:ys,Ka=!1,a=n(r,o),Ka=!1,Va&&(a=ri(t,n,r,o)),ni(e),a}function ni(e){D.H=gs;var t=null!==Ya&&null!==Ya.next;if(Ua=0,Ga=Ya=Ha=null,qa=!1,Xa=0,Qa=null,t)throw Error(i(300));null===e||js||null!==(e=e.dependencies)&&Po(e)&&(js=!0)}function ri(e,t,n,r){Ha=e;var o=0;do{if(Va&&(Qa=null),Xa=0,Va=!1,25<=o)throw Error(i(301));if(o+=1,Ga=Ya=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}D.H=bs,a=t(n,r)}while(Va);return a}function oi(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?di(t):t,e=e.useState()[0],(null!==Ya?Ya.memoizedState:null)!==e&&(Ha.flags|=1024),t}function ai(){var e=0!==$a;return $a=0,e}function ii(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function si(e){if(qa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}qa=!1}Ua=0,Ga=Ya=Ha=null,Va=!1,Xa=$a=0,Qa=null}function li(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ga?Ha.memoizedState=Ga=e:Ga=Ga.next=e,Ga}function ci(){if(null===Ya){var e=Ha.alternate;e=null!==e?e.memoizedState:null}else e=Ya.next;var t=null===Ga?Ha.memoizedState:Ga.next;if(null!==t)Ga=t,Ya=e;else{if(null===e){if(null===Ha.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Ya=e).memoizedState,baseState:Ya.baseState,baseQueue:Ya.baseQueue,queue:Ya.queue,next:null},null===Ga?Ha.memoizedState=Ga=e:Ga=Ga.next=e}return Ga}function di(e){var t=Xa;return Xa+=1,null===Qa&&(Qa=[]),e=ra(Qa,e,t),t=Ha,null===(null===Ga?t.memoizedState:Ga.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?ms:ys),e}function ui(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return di(e);if(e.$$typeof===v)return jo(e)}throw Error(i(438,String(e)))}function pi(e){var t=null,n=Ha.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ha.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ha.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=k;return t.index++,n}function hi(e,t){return"function"===typeof t?t(e):t}function fi(e){return gi(ci(),Ya,e)}function gi(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var o=e.baseQueue,a=r.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}t.baseQueue=o=a,r.pending=null}if(a=e.baseState,null===o)e.memoizedState=a;else{var l=s=null,c=null,d=t=o.next,u=!1;do{var p=-536870913&d.lane;if(p!==d.lane?(yc&p)===p:(Ua&p)===p){var h=d.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),p===Yo&&(u=!0);else{if((Ua&h)===h){d=d.next,h===Yo&&(u=!0);continue}p={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=p,s=a):c=c.next=p,Ha.lanes|=h,Rc|=h}p=d.action,Ka&&n(a,p),a=d.hasEagerState?d.eagerState:n(a,p)}else h={lane:p,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},null===c?(l=c=h,s=a):c=c.next=h,Ha.lanes|=p,Rc|=p;d=d.next}while(null!==d&&d!==t);if(null===c?s=a:c.next=l,!Jn(a,e.memoizedState)&&(js=!0,u&&null!==(n=Go)))throw n;e.memoizedState=a,e.baseState=s,e.baseQueue=c,r.lastRenderedState=a}return null===o&&(r.lanes=0),[e.memoizedState,r.dispatch]}function mi(e){var t=ci(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);Jn(a,t.memoizedState)||(js=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function yi(e,t,n){var r=Ha,o=ci(),a=po;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var s=!Jn((Ya||o).memoizedState,n);if(s&&(o.memoizedState=n,js=!0),o=o.queue,Ui(xi.bind(null,r,o,e),[e]),o.getSnapshot!==t||s||null!==Ga&&1&Ga.memoizedState.tag){if(r.flags|=2048,Li(9,{destroy:void 0},_i.bind(null,r,o,n,t),null),null===gc)throw Error(i(349));a||0!==(127&Ua)||bi(r,t,n)}return n}function bi(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ha.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ha.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _i(e,t,n,r){t.value=n,t.getSnapshot=r,vi(t)&&Si(e)}function xi(e,t,n){return n(function(){vi(t)&&Si(e)})}function vi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(Xs){return!0}}function Si(e){var t=jr(e,2);null!==t&&$c(t,e,2)}function Ci(e){var t=li();if("function"===typeof e){var n=e;if(e=n(),Ka){_e(!0);try{n()}finally{_e(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},t}function wi(e,t,n,r){return e.baseState=n,gi(e,Ya,"function"===typeof r?r:hi)}function Ri(e,t,n,r,o){if(ps(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==D.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,Ei(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Ei(e,t){var n=t.action,r=t.payload,o=e.state;if(t.isTransition){var a=D.T,i={};D.T=i;try{var s=n(o,r),l=D.S;null!==l&&l(i,s),Ti(e,t,s)}catch(Xs){Ai(e,t,Xs)}finally{null!==a&&null!==i.types&&(a.types=i.types),D.T=a}}else try{Ti(e,t,a=n(o,r))}catch(c){Ai(e,t,c)}}function Ti(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){ki(e,t,n)},function(n){return Ai(e,t,n)}):ki(e,t,n)}function ki(e,t,n){t.status="fulfilled",t.value=n,Ii(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ei(e,n)))}function Ai(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ii(t),t=t.next}while(t!==r)}e.action=null}function Ii(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Pi(e,t){return t}function Mi(e,t){if(po){var n=gc.formState;if(null!==n){e:{var r=Ha;if(po){if(uo){t:{for(var o=uo,a=fo;8!==o.nodeType;){if(!a){o=null;break t}if(null===(o=Du(o.nextSibling))){o=null;break t}}o="F!"===(a=o.data)||"F"===a?o:null}if(o){uo=Du(o.nextSibling),r="F!"===o.data;break e}}mo(r)}r=!1}r&&(t=n[0])}}return(n=li()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:t},n.queue=r,n=cs.bind(null,Ha,r),r.dispatch=n,r=Ci(!1),a=us.bind(null,Ha,!1,r.queue),o={state:t,dispatch:null,action:e,pending:null},(r=li()).queue=o,n=Ri.bind(null,Ha,o,a,n),o.dispatch=n,r.memoizedState=e,[t,n,!1]}function ji(e){return Di(ci(),Ya,e)}function Di(e,t,n){if(t=gi(e,t,Pi)[0],e=fi(hi)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=di(t)}catch(i){if(i===Jo)throw ea;throw i}else r=t;var o=(t=ci()).queue,a=o.dispatch;return n!==t.memoizedState&&(Ha.flags|=2048,Li(9,{destroy:void 0},Oi.bind(null,o,n),null)),[r,a,e]}function Oi(e,t){e.action=t}function Ni(e){var t=ci(),n=Ya;if(null!==n)return Di(t,n,e);ci(),t=t.memoizedState;var r=(n=ci()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Li(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ha.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ha.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function zi(){return ci().memoizedState}function Bi(e,t,n,r){var o=li();Ha.flags|=e,o.memoizedState=Li(1|t,{destroy:void 0},n,void 0===r?null:r)}function Fi(e,t,n,r){var o=ci();r=void 0===r?null:r;var a=o.memoizedState.inst;null!==Ya&&null!==r&&ei(r,Ya.memoizedState.deps)?o.memoizedState=Li(t,a,n,r):(Ha.flags|=e,o.memoizedState=Li(1|t,a,n,r))}function Wi(e,t){Bi(8390656,8,e,t)}function Ui(e,t){Fi(2048,8,e,t)}function Hi(e){var t=ci().memoizedState;return function(e){Ha.flags|=4;var t=Ha.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ha.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Yi(e,t){return Fi(4,2,e,t)}function Gi(e,t){return Fi(4,4,e,t)}function qi(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Vi(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Fi(4,4,qi.bind(null,t,e),n)}function Ki(){}function $i(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ei(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xi(e,t){var n=ci();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ei(t,r[1]))return r[0];if(r=e(),Ka){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[r,t],r}function Qi(e,t,n){return void 0===n||0!==(1073741824&Ua)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Kc(),Ha.lanes|=e,Rc|=e,n)}function Ji(e,t,n,r){return Jn(n,t)?n:null!==ka.current?(e=Qi(e,n,r),Jn(e,t)||(js=!0),e):0===(42&Ua)||0!==(1073741824&Ua)&&0===(261930&yc)?(js=!0,e.memoizedState=n):(e=Kc(),Ha.lanes|=e,Rc|=e,t)}function Zi(e,t,n,r,o){var a=O.p;O.p=0!==a&&8>a?a:8;var i=D.T,s={};D.T=s,us(e,!1,t,n);try{var l=o(),c=D.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then){var d=function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r);ds(e,t,d,Vc())}else ds(e,t,r,Vc())}catch(Xs){ds(e,t,{then:function(){},status:"rejected",reason:Xs},Vc())}finally{O.p=a,null!==i&&null!==s.types&&(i.types=s.types),D.T=i}}function es(){}function ts(e,t,n,r){if(5!==e.tag)throw Error(i(476));var o=ns(e).queue;Zi(e,o,t,N,null===n?es:function(){return rs(e),n(r)})}function ns(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:N},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function rs(e){var t=ns(e);null===t.next&&(t=e.alternate.memoizedState),ds(e,t.next.queue,{},Vc())}function os(){return jo(up)}function as(){return ci().memoizedState}function is(){return ci().memoizedState}function ss(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Vc(),r=xa(t,e=_a(n),n);return null!==r&&($c(r,t,n),va(r,t,n)),t={cache:Fo()},void(e.payload=t)}t=t.return}}function ls(e,t,n){var r=Vc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ps(e)?hs(t,n):null!==(n=Mr(e,t,n,r))&&($c(n,e,r),fs(n,t,r))}function cs(e,t,n){ds(e,t,n,Vc())}function ds(e,t,n,r){var o={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(ps(e))hs(t,o);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,s=a(i,n);if(o.hasEagerState=!0,o.eagerState=s,Jn(s,i))return Pr(e,t,o,0),null===gc&&Ir(),!1}catch(Xs){}if(null!==(n=Mr(e,t,o,r)))return $c(n,e,r),fs(n,t,r),!0}return!1}function us(e,t,n,r){if(r={lane:2,revertLane:Hd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ps(e)){if(t)throw Error(i(479))}else null!==(t=Mr(e,n,r,2))&&$c(t,e,2)}function ps(e){var t=e.alternate;return e===Ha||null!==t&&t===Ha}function hs(e,t){Va=qa=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fs(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var gs={readContext:jo,use:ui,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useInsertionEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useSyncExternalStore:Za,useId:Za,useHostTransitionStatus:Za,useFormState:Za,useActionState:Za,useOptimistic:Za,useMemoCache:Za,useCacheRefresh:Za};gs.useEffectEvent=Za;var ms={readContext:jo,use:ui,useCallback:function(e,t){return li().memoizedState=[e,void 0===t?null:t],e},useContext:jo,useEffect:Wi,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Bi(4194308,4,qi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bi(4194308,4,e,t)},useInsertionEffect:function(e,t){Bi(4,2,e,t)},useMemo:function(e,t){var n=li();t=void 0===t?null:t;var r=e();if(Ka){_e(!0);try{e()}finally{_e(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=li();if(void 0!==n){var o=n(t);if(Ka){_e(!0);try{n(t)}finally{_e(!1)}}}else o=t;return r.memoizedState=r.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},r.queue=e,e=e.dispatch=ls.bind(null,Ha,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},li().memoizedState=e},useState:function(e){var t=(e=Ci(e)).queue,n=cs.bind(null,Ha,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ki,useDeferredValue:function(e,t){return Qi(li(),e,t)},useTransition:function(){var e=Ci(!1);return e=Zi.bind(null,Ha,e.queue,!0,!1),li().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ha,o=li();if(po){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===gc)throw Error(i(349));0!==(127&yc)||bi(r,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,Wi(xi.bind(null,r,a,e),[e]),r.flags|=2048,Li(9,{destroy:void 0},_i.bind(null,r,a,n,t),null),n},useId:function(){var e=li(),t=gc.identifierPrefix;if(po){var n=ro;t="_"+t+"R_"+(n=(no&~(1<<32-xe(no)-1)).toString(32)+n),0<(n=$a++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Ja++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:os,useFormState:Mi,useActionState:Mi,useOptimistic:function(e){var t=li();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=us.bind(null,Ha,!0,n),n.dispatch=t,[e,t]},useMemoCache:pi,useCacheRefresh:function(){return li().memoizedState=ss.bind(null,Ha)},useEffectEvent:function(e){var t=li(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(i(440));return n.impl.apply(void 0,arguments)}}},ys={readContext:jo,use:ui,useCallback:$i,useContext:jo,useEffect:Ui,useImperativeHandle:Vi,useInsertionEffect:Yi,useLayoutEffect:Gi,useMemo:Xi,useReducer:fi,useRef:zi,useState:function(){return fi(hi)},useDebugValue:Ki,useDeferredValue:function(e,t){return Ji(ci(),Ya.memoizedState,e,t)},useTransition:function(){var e=fi(hi)[0],t=ci().memoizedState;return["boolean"===typeof e?e:di(e),t]},useSyncExternalStore:yi,useId:as,useHostTransitionStatus:os,useFormState:ji,useActionState:ji,useOptimistic:function(e,t){return wi(ci(),0,e,t)},useMemoCache:pi,useCacheRefresh:is};ys.useEffectEvent=Hi;var bs={readContext:jo,use:ui,useCallback:$i,useContext:jo,useEffect:Ui,useImperativeHandle:Vi,useInsertionEffect:Yi,useLayoutEffect:Gi,useMemo:Xi,useReducer:mi,useRef:zi,useState:function(){return mi(hi)},useDebugValue:Ki,useDeferredValue:function(e,t){var n=ci();return null===Ya?Qi(n,e,t):Ji(n,Ya.memoizedState,e,t)},useTransition:function(){var e=mi(hi)[0],t=ci().memoizedState;return["boolean"===typeof e?e:di(e),t]},useSyncExternalStore:yi,useId:as,useHostTransitionStatus:os,useFormState:Ni,useActionState:Ni,useOptimistic:function(e,t){var n=ci();return null!==Ya?wi(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:pi,useCacheRefresh:is};function _s(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bs.useEffectEvent=Hi;var xs={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Vc(),o=_a(r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=xa(e,o,r))&&($c(t,e,r),va(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Vc(),o=_a(r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=xa(e,o,r))&&($c(t,e,r),va(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Vc(),r=_a(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=xa(e,r,n))&&($c(t,e,n),va(t,e,n))}};function vs(e,t,n,r,o,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(o,a))}function Ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xs.enqueueReplaceState(t,t.state,null)}function Cs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var o in n===t&&(n=h({},n)),e)void 0===n[o]&&(n[o]=e[o]);return n}function ws(e){Er(e)}function Rs(e){console.error(e)}function Es(e){Er(e)}function Ts(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ks(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function As(e,t,n){return(n=_a(n)).tag=3,n.payload={element:null},n.callback=function(){Ts(e,t)},n}function Is(e){return(e=_a(e)).tag=3,e}function Ps(e,t,n,r){var o=n.type.getDerivedStateFromError;if("function"===typeof o){var a=r.value;e.payload=function(){return o(a)},e.callback=function(){ks(t,n,r)}}var i=n.stateNode;null!==i&&"function"===typeof i.componentDidCatch&&(e.callback=function(){ks(t,n,r),"function"!==typeof o&&(null===Lc?Lc=new Set([this]):Lc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ms=Error(i(461)),js=!1;function Ds(e,t,n,r){t.child=null===e?ga(t,null,n,r):fa(t,e.child,n,r)}function Os(e,t,n,r,o){n=n.render;var a=t.ref;if("ref"in r){var i={};for(var s in r)"ref"!==s&&(i[s]=r[s])}else i=r;return Mo(t),r=ti(e,t,n,i,a,o),s=ai(),null===e||js?(po&&s&&io(t),t.flags|=1,Ds(e,t,r,o),t.child):(ii(e,t,o),al(e,t,o))}function Ns(e,t,n,r,o){if(null===e){var a=n.type;return"function"!==typeof a||Br(a)||void 0!==a.defaultProps||null!==n.compare?((e=Ur(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ls(e,t,a,r,o))}if(a=e.child,!il(e,o)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(i,r)&&e.ref===t.ref)return al(e,t,o)}return t.flags|=1,(e=Fr(a,r)).ref=t.ref,e.return=t,t.child=e}function Ls(e,t,n,r,o){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(js=!1,t.pendingProps=r=a,!il(e,o))return t.lanes=e.lanes,al(e,t,o);0!==(131072&e.flags)&&(js=!0)}}return Ys(e,t,n,r,o)}function zs(e,t,n,r){var o=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;r=o&~a}else r=0,t.child=null;return Fs(e,t,a,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Fs(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xo(0,null!==a?a.cachePool:null),null!==a?Ia(t,a):Pa(),La(t)}else null!==a?(Xo(0,a.cachePool),Ia(t,a),za(),t.memoizedState=null):(null!==e&&Xo(0,null),Pa(),za());return Ds(e,t,o,n),t.child}function Bs(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fs(e,t,n,r,o){var a=$o();return a=null===a?null:{parent:Bo._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Xo(0,null),Pa(),La(t),null!==e&&Io(e,t,r,!0),t.childLanes=o,null}function Ws(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Us(e,t,n){return fa(t,e.child,null,n),(e=Ws(t,t.pendingProps)).flags|=2,Ba(t),t.memoizedState=null,e}function Hs(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ys(e,t,n,r,o){return Mo(t),n=ti(e,t,n,r,void 0,o),r=ai(),null===e||js?(po&&r&&io(t),t.flags|=1,Ds(e,t,n,o),t.child):(ii(e,t,o),al(e,t,o))}function Gs(e,t,n,r,o,a){return Mo(t),t.updateQueue=null,n=ri(t,r,n,o),ni(e),r=ai(),null===e||js?(po&&r&&io(t),t.flags|=1,Ds(e,t,n,a),t.child):(ii(e,t,a),al(e,t,a))}function qs(e,t,n,r,o){if(Mo(t),null===t.stateNode){var a=Nr,i=n.contextType;"object"===typeof i&&null!==i&&(a=jo(i)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=xs,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},ya(t),i=n.contextType,a.context="object"===typeof i&&null!==i?jo(i):Nr,a.state=t.memoizedState,"function"===typeof(i=n.getDerivedStateFromProps)&&(_s(t,n,i,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(i=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),i!==a.state&&xs.enqueueReplaceState(a,a.state,null),Ra(t,r,a,o),wa(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,l=Cs(n,s);a.props=l;var c=a.context,d=n.contextType;i=Nr,"object"===typeof d&&null!==d&&(i=jo(d));var u=n.getDerivedStateFromProps;d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||c!==i)&&Ss(t,a,r,i),ma=!1;var p=t.memoizedState;a.state=p,Ra(t,r,a,o),wa(),c=t.memoizedState,s||p!==c||ma?("function"===typeof u&&(_s(t,n,u,r),c=t.memoizedState),(l=ma||vs(t,n,l,r,p,c,i))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=i,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ba(e,t),d=Cs(n,i=t.memoizedProps),a.props=d,u=t.pendingProps,p=a.context,c=n.contextType,l=Nr,"object"===typeof c&&null!==c&&(l=jo(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(i!==u||p!==l)&&Ss(t,a,r,l),ma=!1,p=t.memoizedState,a.state=p,Ra(t,r,a,o),wa();var h=t.memoizedState;i!==u||p!==h||ma||null!==e&&null!==e.dependencies&&Po(e.dependencies)?("function"===typeof s&&(_s(t,n,s,r),h=t.memoizedState),(d=ma||vs(t,n,d,r,p,h,l)||null!==e&&null!==e.dependencies&&Po(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=d):("function"!==typeof a.componentDidUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||i===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Hs(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=fa(t,e.child,null,o),t.child=fa(t,null,n,o)):Ds(e,t,n,o),t.memoizedState=a.state,e=t.child):e=al(e,t,o),e}function Vs(e,t,n,r){return xo(),t.flags|=256,Ds(e,t,n,r),t.child}var Ks={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $s(e){return{baseLanes:e,cachePool:Qo()}}function Qs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=kc),e}function Js(e,t,n){var r,o=t.pendingProps,a=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Fa.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(po){if(a?Oa(t):za(),(e=uo)?null!==(e=null!==(e=Pu(e,fo))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,co=t,uo=null):e=null,null===e)throw mo(t);return ju(e)?t.lanes=32:t.lanes=536870912,null}var l=o.children;return o=o.fallback,a?(za(),l=el({mode:"hidden",children:l},a=t.mode),o=Hr(o,a,n,null),l.return=t,o.return=t,l.sibling=o,t.child=l,(o=t.child).memoizedState=$s(n),o.childLanes=Qs(e,r,n),t.memoizedState=Ks,Bs(null,o)):(Oa(t),Zs(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(s)256&t.flags?(Oa(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(za(),t.child=e.child,t.flags|=128,t=null):(za(),l=o.fallback,a=t.mode,o=el({mode:"visible",children:o.children},a),(l=Hr(l,a,n,null)).flags|=2,o.return=t,l.return=t,o.sibling=l,t.child=o,fa(t,e.child,null,n),(o=t.child).memoizedState=$s(n),o.childLanes=Qs(e,r,n),t.memoizedState=Ks,t=Bs(null,o));else if(Oa(t),ju(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var d=r.dgst;r=d,(o=Error(i(419))).stack="",o.digest=r,So({value:o,source:null,stack:null}),t=tl(e,t,n)}else if(js||Io(e,t,n,!1),r=0!==(n&e.childLanes),js||r){if(null!==(r=gc)&&(0!==(o=Oe(r,n))&&o!==c.retryLane))throw c.retryLane=o,jr(e,o),$c(r,e,o),Ms;Mu(l)||sd(),t=tl(e,t,n)}else Mu(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,uo=Du(l.nextSibling),co=t,po=!0,ho=null,fo=!1,null!==e&&lo(t,e),(t=Zs(t,o.children)).flags|=4096);return t}return a?(za(),l=o.fallback,a=t.mode,d=(c=e.child).sibling,(o=Fr(c,{mode:"hidden",children:o.children})).subtreeFlags=65011712&c.subtreeFlags,null!==d?l=Fr(d,l):(l=Hr(l,a,n,null)).flags|=2,l.return=t,o.return=t,o.sibling=l,t.child=o,Bs(null,o),o=t.child,null===(l=e.child.memoizedState)?l=$s(n):(null!==(a=l.cachePool)?(c=Bo._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Qo(),l={baseLanes:l.baseLanes|n,cachePool:a}),o.memoizedState=l,o.childLanes=Qs(e,r,n),t.memoizedState=Ks,Bs(e.child,o)):(Oa(t),e=(n=e.child).sibling,(n=Fr(n,{mode:"visible",children:o.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zs(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return fa(t,e.child,null,n),(e=Zs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function rl(e,t,n,r,o,a){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o,treeForkCount:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o,i.treeForkCount=a)}function ol(e,t,n){var r=t.pendingProps,o=r.revealOrder,a=r.tail;r=r.children;var i=Fa.current,s=0!==(2&i);if(s?(i=1&i|2,t.flags|=128):i&=1,W(Fa,i),Ds(e,t,r,n),r=po?Jr:0,!s&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===Wa(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),rl(t,!1,o,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===Wa(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}rl(t,!0,n,null,a,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Io(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Fr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function il(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Po(e))}function sl(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)js=!0;else{if(!il(e,n)&&0===(128&t.flags))return js=!1,function(e,t,n){switch(t.tag){case 3:K(t,t.stateNode.containerInfo),Eo(0,Bo,e.memoizedState.cache),xo();break;case 27:case 5:X(t);break;case 4:K(t,t.stateNode.containerInfo);break;case 10:Eo(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Na(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Oa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Js(e,t,n):(Oa(t),null!==(e=al(e,t,n))?e.sibling:null);Oa(t);break;case 19:var o=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Io(e,t,n,!1),r=0!==(n&t.childLanes)),o){if(r)return ol(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),W(Fa,Fa.current),r)break;return null;case 22:return t.lanes=0,zs(e,t,n,t.pendingProps);case 24:Eo(0,Bo,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);js=0!==(131072&e.flags)}else js=!1,po&&0!==(1048576&t.flags)&&ao(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=oa(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var o=e.$$typeof;if(o===S){t.tag=11,t=Os(null,t,e,r,n);break e}if(o===R){t.tag=14,t=Ns(null,t,e,r,n);break e}}throw t=M(e)||e,Error(i(306,t,""))}Br(e)?(r=Cs(e,r),t.tag=1,t=qs(null,t,e,r,n)):(t.tag=0,t=Ys(null,t,e,r,n))}return t;case 0:return Ys(e,t,t.type,t.pendingProps,n);case 1:return qs(e,t,r=t.type,o=Cs(r,t.pendingProps),n);case 3:e:{if(K(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var a=t.memoizedState;o=a.element,ba(e,t),Ra(t,r,null,n);var s=t.memoizedState;if(r=s.cache,Eo(0,Bo,r),r!==a.cache&&Ao(t,[Bo],n,!0),wa(),r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Vs(e,t,r,n);break e}if(r!==o){So(o=Kr(Error(i(424)),t)),t=Vs(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(uo=Du(e.firstChild),co=t,po=!0,ho=null,fo=!0,n=ga(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(xo(),r===o){t=al(e,t,n);break e}Ds(e,t,r,n)}t=t.child}return t;case 26:return Hs(e,t),null===e?(n=qu(t.type,null,t.pendingProps,null))?t.memoizedState=n:po||(n=t.type,e=t.pendingProps,(r=yu(q.current).createElement(n))[We]=t,r[Ue]=e,hu(r,n,e),et(r),t.stateNode=r):t.memoizedState=qu(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&po&&(r=t.stateNode=zu(t.type,t.pendingProps,q.current),co=t,fo=!0,o=uo,Tu(t.type)?(Ou=o,uo=Du(r.firstChild)):uo=o),Ds(e,t,t.pendingProps.children,n),Hs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&po&&((o=r=uo)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==o.rel||e.getAttribute("href")!==(null==o.href||""===o.href?null:o.href)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin)||e.getAttribute("title")!==(null==o.title?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==o.src?null:o.src)||e.getAttribute("type")!==(null==o.type?null:o.type)||e.getAttribute("crossorigin")!==(null==o.crossOrigin?null:o.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==o.name?null:""+o.name;if("hidden"===o.type&&e.getAttribute("name")===a)return e}if(null===(e=Du(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fo))?(t.stateNode=r,co=t,uo=Du(r.firstChild),fo=!1,o=!0):o=!1),o||mo(t)),X(t),o=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,r=a.children,xu(o,a)?r=null:null!==s&&xu(o,s)&&(t.flags|=32),null!==t.memoizedState&&(o=ti(e,t,oi,null,null,n),up._currentValue=o),Hs(e,t),Ds(e,t,r,n),t.child;case 6:return null===e&&po&&((e=n=uo)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Du(e.nextSibling)))return null}return e}(n,t.pendingProps,fo))?(t.stateNode=n,co=t,uo=null,e=!0):e=!1),e||mo(t)),null;case 13:return Js(e,t,n);case 4:return K(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fa(t,null,r,n):Ds(e,t,r,n),t.child;case 11:return Os(e,t,t.type,t.pendingProps,n);case 7:return Ds(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ds(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Eo(0,t.type,r.value),Ds(e,t,r.children,n),t.child;case 9:return o=t.type._context,r=t.pendingProps.children,Mo(t),r=r(o=jo(o)),t.flags|=1,Ds(e,t,r,n),t.child;case 14:return Ns(e,t,t.type,t.pendingProps,n);case 15:return Ls(e,t,t.type,t.pendingProps,n);case 19:return ol(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,o=0!==(128&t.flags);if(t.flags&=-129,null===e){if(po){if("hidden"===r.mode)return e=Ws(t,r),t.lanes=536870912,Bs(null,e);if(Na(t),(e=uo)?null!==(e=null!==(e=Pu(e,fo))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==to?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,co=t,uo=null):e=null,null===e)throw mo(t);return t.lanes=536870912,null}return Ws(t,r)}var a=e.memoizedState;if(null!==a){var s=a.dehydrated;if(Na(t),o)if(256&t.flags)t.flags&=-257,t=Us(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(js||Io(e,t,n,!1),o=0!==(n&e.childLanes),js||o){if(null!==(r=gc)&&0!==(s=Oe(r,n))&&s!==a.retryLane)throw a.retryLane=s,jr(e,s),$c(r,e,s),Ms;sd(),t=Us(e,t,n)}else e=a.treeContext,uo=Du(s.nextSibling),co=t,po=!0,ho=null,fo=!1,null!==e&&lo(t,e),(t=Ws(t,r)).flags|=4096;return t}return(e=Fr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return zs(e,t,n,t.pendingProps);case 24:return Mo(t),r=jo(Bo),null===e?(null===(o=$o())&&(o=gc,a=Fo(),o.pooledCache=a,a.refCount++,null!==a&&(o.pooledCacheLanes|=n),o=a),t.memoizedState={parent:r,cache:o},ya(t),Eo(0,Bo,o)):(0!==(e.lanes&n)&&(ba(e,t),Ra(t,null,null,n),wa()),o=e.memoizedState,a=t.memoizedState,o.parent!==r?(o={parent:r,cache:r},t.memoizedState=o,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=o),Eo(0,Bo,r)):(r=a.cache,Eo(0,Bo,r),r!==o.cache&&Ao(t,[Bo],n,!0))),Ds(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,o){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&o)===o)if(e.stateNode.complete)e.flags|=8192;else{if(!od())throw aa=ta,Zo;e.flags|=8192}}else e.flags&=-16777217}function dl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ap(t)){if(!od())throw aa=ta,Zo;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ie():536870912,e.lanes|=t,Ac|=t)}function pl(e,t){if(!po)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=65011712&o.subtreeFlags,r|=65011712&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(so(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),To(Bo),$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(_o(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,vo())),hl(t),null;case 26:var o=t.type,a=t.memoizedState;return null===e?(ll(t),null!==a?(hl(t),dl(t,a)):(hl(t),cl(t,o,0,0,n))):a?a!==e.memoizedState?(ll(t),hl(t),dl(t,a)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),hl(t),cl(t,o,0,0,n)),null;case 27:if(Q(t),n=q.current,o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return hl(t),null}e=Y.current,_o(t)?yo(t):(e=zu(o,r,n),t.stateNode=e,ll(t))}return hl(t),null;case 5:if(Q(t),o=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return hl(t),null}if(a=Y.current,_o(t))yo(t);else{var s=yu(q.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":(a=s.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof r.is?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"===typeof r.is?s.createElement(o,{is:r.is}):s.createElement(o)}}a[We]=t,a[Ue]=r;e:for(s=t.child;null!==s;){if(5===s.tag||6===s.tag)a.appendChild(s.stateNode);else if(4!==s.tag&&27!==s.tag&&null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;null===s.sibling;){if(null===s.return||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=a;e:switch(hu(a,o,r),o){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return hl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(e=q.current,_o(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(o=co))switch(o.tag){case 27:case 5:r=o.memoizedProps}e[We]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||du(e.nodeValue,n)))||mo(t,!0)}else(e=yu(e).createTextNode(r))[We]=t,t.stateNode=e}return hl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=_o(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[We]=t}else xo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else n=vo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Ba(t),t):(Ba(t),null);if(0!==(128&t.flags))throw Error(i(558))}return hl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(o=_o(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(i(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(i(317));o[We]=t}else xo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),o=!1}else o=vo(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return 256&t.flags?(Ba(t),t):(Ba(t),null)}return Ba(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(o=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(o=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==o&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return $(),null===e&&eu(t.stateNode.containerInfo),hl(t),null;case 10:return To(t.type),hl(t),null;case 19:if(F(Fa),null===(r=t.memoizedState))return hl(t),null;if(o=0!==(128&t.flags),null===(a=r.rendering))if(o)pl(r,!1);else{if(0!==wc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Wa(e))){for(t.flags|=128,pl(r,!1),e=a.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Wr(n,e),n=n.sibling;return W(Fa,1&Fa.current|2),po&&oo(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Oc&&(t.flags|=128,o=!0,pl(r,!1),t.lanes=4194304)}else{if(!o)if(null!==(e=Wa(a))){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),pl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!po)return hl(t),null}else 2*le()-r.renderingStartTime>Oc&&536870912!==n&&(t.flags|=128,o=!0,pl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Fa.current,W(Fa,o?1&n|2:1&n),po&&oo(t,r.treeForkCount),e):(hl(t),null);case 22:case 23:return Ba(t),Ma(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(n=t.updateQueue)&&ul(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&F(Ko),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),To(Bo),hl(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function gl(e,t){switch(so(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return To(Bo),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(Ba(t),null===t.alternate)throw Error(i(340));xo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ba(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));xo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(Fa),null;case 4:return $(),null;case 10:return To(t.type),null;case 22:case 23:return Ba(t),Ma(),null!==e&&F(Ko),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return To(Bo),null;default:return null}}function ml(e,t){switch(so(t),t.tag){case 3:To(Bo),$();break;case 26:case 27:case 5:Q(t);break;case 4:$();break;case 31:null!==t.memoizedState&&Ba(t);break;case 13:Ba(t);break;case 19:F(Fa);break;case 10:To(t.type);break;case 22:case 23:Ba(t),Ma(),null!==e&&F(Ko);break;case 24:To(Bo)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var o=r.next;n=o;do{if((n.tag&e)===e){r=void 0;var a=n.create,i=n.inst;r=a(),i.destroy=r}n=n.next}while(n!==o)}}catch(Xs){wd(t,t.return,Xs)}}function bl(e,t,n){try{var r=t.updateQueue,o=null!==r?r.lastEffect:null;if(null!==o){var a=o.next;r=a;do{if((r.tag&e)===e){var i=r.inst,s=i.destroy;if(void 0!==s){i.destroy=void 0,o=t;var l=n,c=s;try{c()}catch(Xs){wd(o,l,Xs)}}}r=r.next}while(r!==a)}}catch(Xs){wd(t,t.return,Xs)}}function _l(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ta(t,n)}catch(Xs){wd(e,e.return,Xs)}}}function xl(e,t,n){n.props=Cs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(Xs){wd(e,t,Xs)}}function vl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(Xs){wd(e,t,Xs)}}function Sl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(Xs){wd(e,t,Xs)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){wd(e,t,o)}else n.current=null}function Cl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(Xs){wd(e,e.return,Xs)}}function wl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,a=null,s=null,l=null,c=null,d=null,u=null;for(f in n){var p=n[f];if(n.hasOwnProperty(f)&&null!=p)switch(f){case"checked":case"value":break;case"defaultValue":c=p;default:r.hasOwnProperty(f)||uu(e,t,f,null,r,p)}}for(var h in r){var f=r[h];if(p=n[h],r.hasOwnProperty(h)&&(null!=f||null!=p))switch(h){case"type":a=f;break;case"name":o=f;break;case"checked":d=f;break;case"defaultChecked":u=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(i(137,t));break;default:f!==p&&uu(e,t,h,f,r,p)}}return void bt(e,s,l,c,d,u,a,o);case"select":for(a in f=s=l=h=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(a)||uu(e,t,a,null,r,c)}for(o in r)if(a=r[o],c=n[o],r.hasOwnProperty(o)&&(null!=a||null!=c))switch(o){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==c&&uu(e,t,o,a,r,c)}return t=l,n=s,r=f,void(null!=h?vt(e,!!n,h,!1):!!r!==!!n&&(null!=t?vt(e,!!n,t,!0):vt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=h=null,n)if(o=n[l],n.hasOwnProperty(l)&&null!=o&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:uu(e,t,l,null,r,o)}for(s in r)if(o=r[s],a=n[s],r.hasOwnProperty(s)&&(null!=o||null!=a))switch(s){case"value":h=o;break;case"defaultValue":f=o;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=o)throw Error(i(91));break;default:o!==a&&uu(e,t,s,o,r,a)}return void St(e,h,f);case"option":for(var g in n)if(h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g))if("selected"===g)e.selected=!1;else uu(e,t,g,null,r,h);for(c in r)if(h=r[c],f=n[c],r.hasOwnProperty(c)&&h!==f&&(null!=h||null!=f))if("selected"===c)e.selected=h&&"function"!==typeof h&&"symbol"!==typeof h;else uu(e,t,c,h,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var m in n)h=n[m],n.hasOwnProperty(m)&&null!=h&&!r.hasOwnProperty(m)&&uu(e,t,m,null,r,h);for(d in r)if(h=r[d],f=n[d],r.hasOwnProperty(d)&&h!==f&&(null!=h||null!=f))switch(d){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:uu(e,t,d,h,r,f)}return;default:if(kt(t)){for(var y in n)h=n[y],n.hasOwnProperty(y)&&void 0!==h&&!r.hasOwnProperty(y)&&pu(e,t,y,void 0,r,h);for(u in r)h=r[u],f=n[u],!r.hasOwnProperty(u)||h===f||void 0===h&&void 0===f||pu(e,t,u,h,r,f);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&null!=h&&!r.hasOwnProperty(b)&&uu(e,t,b,null,r,h);for(p in r)h=r[p],f=n[p],!r.hasOwnProperty(p)||h===f||null==h&&null==f||uu(e,t,p,h,r,f)}(r,e.type,n,t),r[Ue]=t}catch(Xs){wd(e,e.return,Xs)}}function Rl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Tu(e.type)||4===e.tag}function El(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Rl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Tu(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Mt));else if(4!==r&&(27===r&&Tu(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function kl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Tu(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(kl(e,t,n),e=e.sibling;null!==e;)kl(e,t,n),e=e.sibling}function Al(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);hu(t,r,n),t[We]=e,t[Ue]=n}catch(Xs){wd(e,e.return,Xs)}}var Il=!1,Pl=!1,Ml=!1,jl="function"===typeof WeakSet?WeakSet:Set,Dl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$l(e,n),4&r&&yl(5,n);break;case 1:if($l(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(Xs){wd(n,n.return,Xs)}else{var o=Cs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){wd(n,n.return,i)}}64&r&&_l(n),512&r&&vl(n,n.return);break;case 3:if($l(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ta(e,t)}catch(Xs){wd(n,n.return,Xs)}}break;case 27:null===t&&4&r&&Al(n);case 26:case 5:$l(e,n),null===t&&4&r&&Cl(n),512&r&&vl(n,n.return);break;case 12:$l(e,n);break;case 31:$l(e,n),4&r&&Wl(e,n);break;case 13:$l(e,n),4&r&&Ul(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=kd.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Il)){t=null!==t&&null!==t.memoizedState||Pl,o=Il;var a=Pl;Il=r,(Pl=t)&&!a?Ql(e,n,0!==(8772&n.subtreeFlags)):$l(e,n),Il=o,Pl=a}break;case 30:break;default:$l(e,n)}}function Nl(e){var t=e.alternate;null!==t&&(e.alternate=null,Nl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ll=null,zl=!1;function Bl(e,t,n){for(n=n.child;null!==n;)Fl(e,t,n),n=n.sibling}function Fl(e,t,n){if(be&&"function"===typeof be.onCommitFiberUnmount)try{be.onCommitFiberUnmount(ye,n)}catch(a){}switch(n.tag){case 26:Pl||Sl(n,t),Bl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||Sl(n,t);var r=Ll,o=zl;Tu(n.type)&&(Ll=n.stateNode,zl=!1),Bl(e,t,n),Bu(n.stateNode),Ll=r,zl=o;break;case 5:Pl||Sl(n,t);case 6:if(r=Ll,o=zl,Ll=null,Bl(e,t,n),zl=o,null!==(Ll=r))if(zl)try{(9===Ll.nodeType?Ll.body:"HTML"===Ll.nodeName?Ll.ownerDocument.body:Ll).removeChild(n.stateNode)}catch(Xs){wd(n,t,Xs)}else try{Ll.removeChild(n.stateNode)}catch(Xs){wd(n,t,Xs)}break;case 18:null!==Ll&&(zl?(ku(9===(e=Ll).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Gp(e)):ku(Ll,n.stateNode));break;case 4:r=Ll,o=zl,Ll=n.stateNode.containerInfo,zl=!0,Bl(e,t,n),Ll=r,zl=o;break;case 0:case 11:case 14:case 15:bl(2,n,t),Pl||bl(4,n,t),Bl(e,t,n);break;case 1:Pl||(Sl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&xl(n,t,r)),Bl(e,t,n);break;case 21:Bl(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,Bl(e,t,n),Pl=r;break;default:Bl(e,t,n)}}function Wl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Gp(e)}catch(Xs){wd(t,t.return,Xs)}}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Gp(e)}catch(Xs){wd(t,t.return,Xs)}}function Hl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new jl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new jl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Ad.bind(null,e,t);t.then(r,r)}})}function Yl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r],a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(Tu(l.type)){Ll=l.stateNode,zl=!1;break e}break;case 5:Ll=l.stateNode,zl=!1;break e;case 3:case 4:Ll=l.stateNode.containerInfo,zl=!0;break e}l=l.return}if(null===Ll)throw Error(i(160));Fl(a,s,o),Ll=null,zl=!1,null!==(a=o.alternate)&&(a.return=null),o.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)ql(t,e),t=t.sibling}var Gl=null;function ql(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yl(t,e),Vl(e),4&r&&(bl(3,e,e.return),yl(3,e),bl(5,e,e.return));break;case 1:Yl(t,e),Vl(e),512&r&&(Pl||null===n||Sl(n,n.return)),64&r&&Il&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var o=Gl;if(Yl(t,e),Vl(e),512&r&&(Pl||null===n||Sl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(r){case"title":(!(a=o.getElementsByTagName("title")[0])||a[Ke]||a[We]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=o.createElement(r),o.head.insertBefore(a,o.querySelector("head > title"))),hu(a,r,n),a[We]=e,et(a),r=a;break e;case"link":var s=rp("link","href",o).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((a=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}hu(a=o.createElement(r),r,n),o.head.appendChild(a);break;case"meta":if(s=rp("meta","content",o).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((a=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}hu(a=o.createElement(r),r,n),o.head.appendChild(a);break;default:throw Error(i(468,r))}a[We]=e,et(a),r=a}e.stateNode=r}else op(o,e.type,e.stateNode);else e.stateNode=Ju(o,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?op(o,e.type,e.stateNode):Ju(o,r,e.memoizedProps)):null===r&&null!==e.stateNode&&wl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Yl(t,e),Vl(e),512&r&&(Pl||null===n||Sl(n,n.return)),null!==n&&4&r&&wl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Yl(t,e),Vl(e),512&r&&(Pl||null===n||Sl(n,n.return)),32&e.flags){o=e.stateNode;try{wt(o,"")}catch(Xs){wd(e,e.return,Xs)}}4&r&&null!=e.stateNode&&wl(e,o=e.memoizedProps,null!==n?n.memoizedProps:o),1024&r&&(Ml=!0);break;case 6:if(Yl(t,e),Vl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(Xs){wd(e,e.return,Xs)}}break;case 3:if(np=null,o=Gl,Gl=Uu(t.containerInfo),Yl(t,e),Gl=o,Vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gp(t.containerInfo)}catch(Xs){wd(e,e.return,Xs)}Ml&&(Ml=!1,Kl(e));break;case 4:r=Gl,Gl=Uu(e.stateNode.containerInfo),Yl(t,e),Vl(e),Gl=r;break;case 12:default:Yl(t,e),Vl(e);break;case 31:case 19:Yl(t,e),Vl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 13:Yl(t,e),Vl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(jc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Hl(e,r)));break;case 22:o=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,d=Il,u=Pl;if(Il=d||o,Pl=u||c,Yl(t,e),Pl=u,Il=d,Vl(e),8192&r)e:for(t=e.stateNode,t._visibility=o?-2&t._visibility:1|t._visibility,o&&(null===n||c||Il||Pl||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,o)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var p=c.memoizedProps.style,h=void 0!==p&&null!==p&&p.hasOwnProperty("display")?p.display:null;l.style.display=null==h||"boolean"===typeof h?"":(""+h).trim()}}catch(Xs){wd(c,c.return,Xs)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=o?"":c.memoizedProps}catch(Xs){wd(c,c.return,Xs)}}}else if(18===t.tag){if(null===n){c=t;try{var f=c.stateNode;o?Au(f,!0):Au(c.stateNode,!1)}catch(Xs){wd(c,c.return,Xs)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Hl(e,n))));case 30:case 21:}}function Vl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Rl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var o=n.stateNode;kl(e,El(e),o);break;case 5:var a=n.stateNode;32&n.flags&&(wt(a,""),n.flags&=-33),kl(e,El(e),a);break;case 3:case 4:var s=n.stateNode.containerInfo;Tl(e,El(e),s);break;default:throw Error(i(161))}}catch(Xs){wd(e,e.return,Xs)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Kl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Kl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $l(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bl(4,t,t.return),Xl(t);break;case 1:Sl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&xl(t,t.return,n),Xl(t);break;case 27:Bu(t.stateNode);case 26:case 5:Sl(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function Ql(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,o=e,a=t,i=a.flags;switch(a.tag){case 0:case 11:case 15:Ql(o,a,n),yl(4,a);break;case 1:if(Ql(o,a,n),"function"===typeof(o=(r=a).stateNode).componentDidMount)try{o.componentDidMount()}catch(Xs){wd(r,r.return,Xs)}if(null!==(o=(r=a).updateQueue)){var s=r.stateNode;try{var l=o.shared.hiddenCallbacks;if(null!==l)for(o.shared.hiddenCallbacks=null,o=0;o<l.length;o++)Ea(l[o],s)}catch(Xs){wd(r,r.return,Xs)}}n&&64&i&&_l(a),vl(a,a.return);break;case 27:Al(a);case 26:case 5:Ql(o,a,n),n&&null===r&&4&i&&Cl(a),vl(a,a.return);break;case 12:Ql(o,a,n);break;case 31:Ql(o,a,n),n&&4&i&&Wl(o,a);break;case 13:Ql(o,a,n),n&&4&i&&Ul(o,a);break;case 22:null===a.memoizedState&&Ql(o,a,n),vl(a,a.return);break;case 30:break;default:Ql(o,a,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Wo(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wo(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var o=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&o&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&o&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Wo(e)));break;case 12:if(2048&o){ec(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,i=a.id,s=a.onPostCommit;"function"===typeof s&&s(i,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(Xs){wd(t,t.return,Xs)}}else ec(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,i=t.alternate,null!==t.memoizedState?2&a._visibility?ec(e,t,n,r):rc(e,t):2&a._visibility?ec(e,t,n,r):(a._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&o&&Jl(i,t);break;case 24:ec(e,t,n,r),2048&o&&Zl(t.alternate,t)}}function nc(e,t,n,r,o){for(o=o&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,i=t,s=n,l=r,c=i.flags;switch(i.tag){case 0:case 11:case 15:nc(a,i,s,l,o),yl(8,i);break;case 23:break;case 22:var d=i.stateNode;null!==i.memoizedState?2&d._visibility?nc(a,i,s,l,o):rc(a,i):(d._visibility|=2,nc(a,i,s,l,o)),o&&2048&c&&Jl(i.alternate,i);break;case 24:nc(a,i,s,l,o),o&&2048&c&&Zl(i.alternate,i);break;default:nc(a,i,s,l,o)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,o=r.flags;switch(r.tag){case 22:rc(n,r),2048&o&&Jl(r.alternate,r);break;case 24:rc(n,r),2048&o&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var oc=8192;function ac(e,t,n){if(e.subtreeFlags&oc)for(e=e.child;null!==e;)ic(e,t,n),e=e.sibling}function ic(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&oc&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var o=Vu(r.href),a=t.querySelector(Ku(o));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sp.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,r=$u(r),(o=Fu.get(o))&&ep(r,o),et(a=a.createElement("link"));var i=a;i._p=new Promise(function(e,t){i.onload=e,i.onerror=t}),hu(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=sp.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Gl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Gl;Gl=Uu(e.stateNode.containerInfo),ac(e,t,n),Gl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=oc,oc=16777216,ac(e,t,n),oc=r):ac(e,t,n))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,uc(r,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&bl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,dc(e)):lc(e)}}function dc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,uc(r,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bl(8,t,t.return),dc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,dc(t));break;default:dc(t)}e=e.sibling}}function uc(e,t){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:bl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Wo(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Dl=r;else e:for(n=e;null!==Dl;){var o=(r=Dl).sibling,a=r.return;if(Nl(r),r===n){Dl=null;break e}if(null!==o){o.return=a,Dl=o;break e}Dl=a}}}var pc={getCacheForType:function(e){var t=jo(Bo),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return jo(Bo).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,fc=0,gc=null,mc=null,yc=0,bc=0,_c=null,xc=!1,vc=!1,Sc=!1,Cc=0,wc=0,Rc=0,Ec=0,Tc=0,kc=0,Ac=0,Ic=null,Pc=null,Mc=!1,jc=0,Dc=0,Oc=1/0,Nc=null,Lc=null,zc=0,Bc=null,Fc=null,Wc=0,Uc=0,Hc=null,Yc=null,Gc=0,qc=null;function Vc(){return 0!==(2&fc)&&0!==yc?yc&-yc:null!==D.T?Hd():ze()}function Kc(){if(0===kc)if(0===(536870912&yc)||po){var e=we;0===(3932160&(we<<=1))&&(we=262144),kc=e}else kc=536870912;return null!==(e=ja.current)&&(e.flags|=32),kc}function $c(e,t,n){(e!==gc||2!==bc&&9!==bc)&&null===e.cancelPendingCommit||(nd(e,0),Zc(e,yc,kc,!1)),Me(e,n),0!==(2&fc)&&e===gc||(e===gc&&(0===(2&fc)&&(Ec|=n),4===wc&&Zc(e,yc,kc,!1)),Nd(e))}function Xc(e,t,n){if(0!==(6&fc))throw Error(i(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||ke(e,t),o=r?function(e,t){var n=fc;fc|=2;var r=ad(),o=id();gc!==e||yc!==t?(Nc=null,Oc=le()+500,nd(e,t)):vc=ke(e,t);e:for(;;)try{if(0!==bc&&null!==mc){t=mc;var a=_c;t:switch(bc){case 1:bc=0,_c=null,hd(e,t,a,1);break;case 2:case 9:if(na(a)){bc=0,_c=null,pd(t);break}t=function(){2!==bc&&9!==bc||gc!==e||(bc=7),Nd(e)},a.then(t,t);break e;case 3:bc=7;break e;case 4:bc=5;break e;case 7:na(a)?(bc=0,_c=null,pd(t)):(bc=0,_c=null,hd(e,t,a,7));break;case 5:var s=null;switch(mc.tag){case 26:s=mc.memoizedState;case 5:case 27:var l=mc;if(s?ap(s):l.stateNode.complete){bc=0,_c=null;var c=l.sibling;if(null!==c)mc=c;else{var d=l.return;null!==d?(mc=d,fd(d)):mc=null}break t}}bc=0,_c=null,hd(e,t,a,5);break;case 6:bc=0,_c=null,hd(e,t,a,6);break;case 8:td(),wc=6;break e;default:throw Error(i(462))}}dd();break}catch(u){rd(e,u)}return Ro=wo=null,D.H=r,D.A=o,fc=n,null!==mc?0:(gc=null,yc=0,Ir(),wc)}(e,t):ld(e,t,!0),a=r;;){if(0===o){vc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!a||Jc(n)){if(2===o){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;o=Ic;var c=l.current.memoizedState.isDehydrated;if(c&&(nd(l,s).flags|=256),2!==(s=ld(l,s,!1))){if(Sc&&!c){l.errorRecoveryDisabledLanes|=a,Ec|=a,o=4;break e}a=Pc,Pc=o,null!==a&&(null===Pc?Pc=a:Pc.push.apply(Pc,a))}o=s}if(a=!1,2!==o)continue}}if(1===o){nd(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,a=o){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,kc,!xc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(o=jc+300-le())){if(Zc(r,t,kc,!xc),0!==Te(r,0,!0))break e;Wc=t,r.timeoutHandle=Su(Qc.bind(null,r,n,Pc,Nc,Mc,t,kc,Ec,Ac,xc,a,"Throttled",-0,0),o)}else Qc(r,n,Pc,Nc,Mc,t,kc,Ec,Ac,xc,a,null,-0,0)}break}o=ld(e,t,!1),a=!1}Nd(e)}function Qc(e,t,n,r,o,a,i,s,l,c,d,u,p,h){if(e.timeoutHandle=-1,8192&(u=t.subtreeFlags)||16785408===(16785408&u)){ic(t,a,u={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mt});var f=(62914560&a)===a?jc-le():(4194048&a)===a?Dc-le():0;if(null!==(f=function(e,t){return e.stylesheets&&0===e.count&&cp(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&cp(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ip&&(ip=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var o=n[r],a=o.transferSize,i=o.initiatorType,s=o.duration;if(a&&s&&fu(i)){for(i=0,s=o.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>s)break;var d=l.transferSize,u=l.initiatorType;d&&fu(u)&&(i+=d*((l=l.responseEnd)<s?1:(s-c)/(l-c)))}if(--r,t+=8*(a+i)/(o.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var o=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cp(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ip?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(o)}}:null}(u,f)))return Wc=a,e.cancelPendingCommit=f(md.bind(null,e,t,a,n,r,o,i,s,l,d,u,null,p,h)),void Zc(e,a,i,!c)}md(e,t,a,n,r,o,i,s,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Jn(a(),o))return!1}catch(Xs){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Tc,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var o=t;0<o;){var a=31-xe(o),i=1<<a;r[a]=-1,o&=~i}0!==n&&je(e,n,t)}function ed(){return 0!==(6&fc)||(Ld(0,!1),!1)}function td(){if(null!==mc){if(0===bc)var e=mc.return;else Ro=wo=null,si(e=mc),la=null,ca=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function nd(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Cu(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Wc=0,td(),gc=e,mc=n=Fr(e.current,null),yc=t,bc=0,_c=null,xc=!1,vc=ke(e,t),Sc=!1,Ac=kc=Tc=Ec=Rc=wc=0,Pc=Ic=null,Mc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var o=31-xe(r),a=1<<o;t|=e[o],r&=~a}return Cc=t,Ir(),n}function rd(e,t){Ha=null,D.H=gs,t===Jo||t===ea?(t=ia(),bc=3):t===Zo?(t=ia(),bc=4):bc=t===Ms?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,_c=t,null===mc&&(wc=1,Ts(e,Kr(t,e.current)))}function od(){var e=ja.current;return null===e||((4194048&yc)===yc?null===Da:((62914560&yc)===yc||0!==(536870912&yc))&&e===Da)}function ad(){var e=D.H;return D.H=gs,null===e?gs:e}function id(){var e=D.A;return D.A=pc,e}function sd(){wc=4,xc||(4194048&yc)!==yc&&null!==ja.current||(vc=!0),0===(134217727&Rc)&&0===(134217727&Ec)||null===gc||Zc(gc,yc,kc,!1)}function ld(e,t,n){var r=fc;fc|=2;var o=ad(),a=id();gc===e&&yc===t||(Nc=null,nd(e,t)),t=!1;var i=wc;e:for(;;)try{if(0!==bc&&null!==mc){var s=mc,l=_c;switch(bc){case 8:td(),i=6;break e;case 3:case 2:case 9:case 6:null===ja.current&&(t=!0);var c=bc;if(bc=0,_c=null,hd(e,s,l,c),n&&vc){i=0;break e}break;default:c=bc,bc=0,_c=null,hd(e,s,l,c)}}cd(),i=wc;break}catch(d){rd(e,d)}return t&&e.shellSuspendCounter++,Ro=wo=null,fc=r,D.H=o,D.A=a,null===mc&&(gc=null,yc=0,Ir()),i}function cd(){for(;null!==mc;)ud(mc)}function dd(){for(;null!==mc&&!ie();)ud(mc)}function ud(e){var t=sl(e.alternate,e,Cc);e.memoizedProps=e.pendingProps,null===t?fd(e):mc=t}function pd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Gs(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Gs(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:si(t);default:ml(n,t),t=sl(n,t=mc=Wr(t,Cc),Cc)}e.memoizedProps=e.pendingProps,null===t?fd(e):mc=t}function hd(e,t,n,r){Ro=wo=null,si(t),la=null,ca=0;var o=t.return;try{if(function(e,t,n,r,o){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Io(t,n,o,!0),null!==(n=ja.current)){switch(n.tag){case 31:case 13:return null===Da?sd():null===n.alternate&&0===wc&&(wc=3),n.flags&=-257,n.flags|=65536,n.lanes=o,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Rd(e,r,o)),!1;case 22:return n.flags|=65536,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Rd(e,r,o)),!1}throw Error(i(435,n.tag))}return Rd(e,r,o),sd(),!1}if(po)return null!==(t=ja.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=o,r!==go&&So(Kr(e=Error(i(422),{cause:r}),n))):(r!==go&&So(Kr(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,o&=-o,e.lanes|=o,r=Kr(r,n),Sa(e,o=As(e.stateNode,r,o)),4!==wc&&(wc=2)),!1;var a=Error(i(520),{cause:r});if(a=Kr(a,n),null===Ic?Ic=[a]:Ic.push(a),4!==wc&&(wc=2),null===t)return!0;r=Kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,Sa(n,e=As(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Lc||!Lc.has(a))))return n.flags|=65536,o&=-o,n.lanes|=o,Ps(o=Is(o),e,n,r),Sa(n,o),!1}n=n.return}while(null!==n);return!1}(e,o,t,n,yc))return wc=1,Ts(e,Kr(n,e.current)),void(mc=null)}catch(Xs){if(null!==o)throw mc=o,Xs;return wc=1,Ts(e,Kr(n,e.current)),void(mc=null)}32768&t.flags?(po||1===r?e=!0:vc||0!==(536870912&yc)?e=!1:(xc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ja.current)&&13===r.tag&&(r.flags|=16384))),gd(t,e)):fd(t)}function fd(e){var t=e;do{if(0!==(32768&t.flags))return void gd(t,xc);e=t.return;var n=fl(t.alternate,t,Cc);if(null!==n)return void(mc=n);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===wc&&(wc=5)}function gd(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(mc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=n}while(null!==e);wc=6,mc=null}function md(e,t,n,r,o,a,s,l,c){e.cancelPendingCommit=null;do{vd()}while(0!==zc);if(0!==(6&fc))throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,o,a){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=i&~n;0<n;){var d=31-xe(n),u=1<<d;s[d]=0,l[d]=-1;var p=c[d];if(null!==p)for(c[d]=null,d=0;d<p.length;d++){var h=p[d];null!==h&&(h.lane&=-536870913)}n&=~u}0!==r&&je(e,r,0),0!==a&&0===o&&0!==e.tag&&(e.suspendedLanes|=a&~(i&~t))}(e,n,a|=Ar,s,l,c),e===gc&&(mc=gc=null,yc=0),Fc=t,Bc=e,Wc=n,Uc=a,Hc=o,Yc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,oe(pe,function(){return Sd(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,o=O.p,O.p=2,s=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,gu=xp,or(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(m){n=null;break e}var s=0,l=-1,c=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var f;p!==n||0!==o&&3!==p.nodeType||(l=s+o),p!==a||0!==r&&3!==p.nodeType||(c=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(f=p.firstChild);)h=p,p=f;for(;;){if(p===e)break t;if(h===n&&++d===o&&(l=s),h===a&&++u===r&&(c=s),null!==(f=p.nextSibling))break;h=(p=h).parentNode}p=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(mu={focusedElem:e,selectionRange:n},xp=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(a=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(o=e[n]).ref.impl=o.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,o=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var g=Cs(n.type,o);e=r.getSnapshotBeforeUpdate(g,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(Xs){wd(n,n.return,Xs)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Iu(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Iu(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{fc=s,O.p=o,D.T=r}}zc=1,yd(),bd(),_d()}}function yd(){if(1===zc){zc=0;var e=Bc,t=Fc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var o=fc;fc|=4;try{ql(t,e);var a=mu,i=rr(e.containerInfo),s=a.focusedElem,l=a.selectionRange;if(i!==s&&s&&s.ownerDocument&&nr(s.ownerDocument.documentElement,s)){if(null!==l&&or(s)){var c=l.start,d=l.end;if(void 0===d&&(d=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(d,s.value.length);else{var u=s.ownerDocument||document,p=u&&u.defaultView||window;if(p.getSelection){var h=p.getSelection(),f=s.textContent.length,g=Math.min(l.start,f),m=void 0===l.end?g:Math.min(l.end,f);!h.extend&&g>m&&(i=m,m=g,g=i);var y=tr(s,g),b=tr(s,m);if(y&&b&&(1!==h.rangeCount||h.anchorNode!==y.node||h.anchorOffset!==y.offset||h.focusNode!==b.node||h.focusOffset!==b.offset)){var _=u.createRange();_.setStart(y.node,y.offset),h.removeAllRanges(),g>m?(h.addRange(_),h.extend(b.node,b.offset)):(_.setEnd(b.node,b.offset),h.addRange(_))}}}}for(u=[],h=s;h=h.parentNode;)1===h.nodeType&&u.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<u.length;s++){var x=u[s];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}xp=!!gu,mu=gu=null}finally{fc=o,O.p=r,D.T=n}}e.current=t,zc=2}}function bd(){if(2===zc){zc=0;var e=Bc,t=Fc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var o=fc;fc|=4;try{Ol(e,t.alternate,t)}finally{fc=o,O.p=r,D.T=n}}zc=3}}function _d(){if(4===zc||3===zc){zc=0,se();var e=Bc,t=Fc,n=Wc,r=Yc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?zc=5:(zc=0,Fc=Bc=null,xd(e,e.pendingLanes));var o=e.pendingLanes;if(0===o&&(Lc=null),Le(n),t=t.stateNode,be&&"function"===typeof be.onCommitFiberRoot)try{be.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,o=O.p,O.p=2,D.T=null;try{for(var a=e.onRecoverableError,i=0;i<r.length;i++){var s=r[i];a(s.value,{componentStack:s.stack})}}finally{D.T=t,O.p=o}}0!==(3&Wc)&&vd(),Nd(e),o=e.pendingLanes,0!==(261930&n)&&0!==(42&o)?e===qc?Gc++:(Gc=0,qc=e):Gc=0,Ld(0,!1)}}function xd(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Wo(t)))}function vd(){return yd(),bd(),_d(),Sd()}function Sd(){if(5!==zc)return!1;var e=Bc,t=Uc;Uc=0;var n=Le(Wc),r=D.T,o=O.p;try{O.p=32>n?32:n,D.T=null,n=Hc,Hc=null;var a=Bc,s=Wc;if(zc=0,Fc=Bc=null,Wc=0,0!==(6&fc))throw Error(i(331));var l=fc;if(fc|=4,cc(a.current),tc(a,a.current,s,n),fc=l,Ld(0,!1),be&&"function"===typeof be.onPostCommitFiberRoot)try{be.onPostCommitFiberRoot(ye,a)}catch(c){}return!0}finally{O.p=o,D.T=r,xd(e,t)}}function Cd(e,t,n){t=Kr(n,t),null!==(e=xa(e,t=As(e.stateNode,t,2),2))&&(Me(e,2),Nd(e))}function wd(e,t,n){if(3===e.tag)Cd(e,e,n);else for(;null!==t;){if(3===t.tag){Cd(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Lc||!Lc.has(r))){e=Kr(n,e),null!==(r=xa(t,n=Is(2),2))&&(Ps(n,r,t,e),Me(r,2),Nd(r));break}}t=t.return}}function Rd(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hc;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(Sc=!0,o.add(n),e=Ed.bind(null,e,t,n),t.then(e,e))}function Ed(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(yc&n)===n&&(4===wc||3===wc&&(62914560&yc)===yc&&300>le()-jc?0===(2&fc)&&nd(e,0):Tc|=n,Ac===yc&&(Ac=0)),Nd(e)}function Td(e,t){0===t&&(t=Ie()),null!==(e=jr(e,t))&&(Me(e,t),Nd(e))}function kd(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Td(e,n)}function Ad(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),Td(e,n)}var Id=null,Pd=null,Md=!1,jd=!1,Dd=!1,Od=0;function Nd(e){e!==Pd&&null===e.next&&(null===Pd?Id=Pd=e:Pd=Pd.next=e),jd=!0,Md||(Md=!0,Ru(function(){0!==(6&fc)?oe(de,zd):Bd()}))}function Ld(e,t){if(!Dd&&jd){Dd=!0;do{for(var n=!1,r=Id;null!==r;){if(!t)if(0!==e){var o=r.pendingLanes;if(0===o)var a=0;else{var i=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-xe(42|e)+1)-1,a=201326741&(a&=o&~(i&~s))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Ud(r,a))}else a=yc,0===(3&(a=Te(r,r===gc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||ke(r,a)||(n=!0,Ud(r,a));r=r.next}}while(n);Dd=!1}}function zd(){Bd()}function Bd(){jd=Md=!1;var e=0;0!==Od&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==vu&&(vu=e,!0);return vu=null,!1}()&&(e=Od);for(var t=le(),n=null,r=Id;null!==r;){var o=r.next,a=Fd(r,t);0===a?(r.next=null,null===n?Id=o:n.next=o,null===o&&(Pd=n)):(n=r,(0!==e||0!==(3&a))&&(jd=!0)),r=o}0!==zc&&5!==zc||Ld(e,!1),0!==Od&&(Od=0)}function Fd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var i=31-xe(a),s=1<<i,l=o[i];-1===l?0!==(s&n)&&0===(s&r)||(o[i]=Ae(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}if(n=yc,n=Te(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===bc||9===bc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||ke(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Le(n)){case 2:case 8:n=ue;break;case 32:default:n=pe;break;case 268435456:n=fe}return r=Wd.bind(null,e),n=oe(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function Wd(e,t){if(0!==zc&&5!==zc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(vd()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Te(e,e===gc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,r,t),Fd(e,le()),null!=e.callbackNode&&e.callbackNode===n?Wd.bind(null,e):null)}function Ud(e,t){if(vd())return null;Xc(e,t,!0)}function Hd(){if(0===Od){var e=Yo;0===e&&(e=Ce,0===(261888&(Ce<<=1))&&(Ce=256)),Od=e}return Od}function Yd(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Gd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var qd=0;qd<wr.length;qd++){var Vd=wr[qd];Rr(Vd.toLowerCase(),"on"+(Vd[0].toUpperCase()+Vd.slice(1)))}Rr(mr,"onAnimationEnd"),Rr(yr,"onAnimationIteration"),Rr(br,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(_r,"onTransitionRun"),Rr(xr,"onTransitionStart"),Rr(vr,"onTransitionCancel"),Rr(Sr,"onTransitionEnd"),ot("onMouseEnter",["mouseout","mouseover"]),ot("onMouseLeave",["mouseout","mouseover"]),ot("onPointerEnter",["pointerout","pointerover"]),ot("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$d=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Kd));function Xd(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var s=r[i],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&o.isPropagationStopped())break e;a=s,o.currentTarget=c;try{a(o)}catch(Xs){Er(Xs)}o.currentTarget=null,a=l}else for(i=0;i<r.length;i++){if(l=(s=r[i]).instance,c=s.currentTarget,s=s.listener,l!==a&&o.isPropagationStopped())break e;a=s,o.currentTarget=c;try{a(o)}catch(Xs){Er(Xs)}o.currentTarget=null,a=l}}}}function Qd(e,t){var n=t[Ye];void 0===n&&(n=t[Ye]=new Set);var r=e+"__bubble";n.has(r)||(tu(t,e,2,!1),n.add(r))}function Jd(e,t,n){var r=0;t&&(r|=4),tu(n,e,r,t)}var Zd="_reactListening"+Math.random().toString(36).slice(2);function eu(e){if(!e[Zd]){e[Zd]=!0,tt.forEach(function(t){"selectionchange"!==t&&($d.has(t)||Jd(t,!1,e),Jd(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zd]||(t[Zd]=!0,Jd("selectionchange",!1,t))}}function tu(e,t,n,r){switch(Tp(t)){case 2:var o=vp;break;case 8:o=Sp;break;default:o=Cp}n=o.bind(null,t,n,e),o=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function nu(e,t,n,r,o){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var s=r.stateNode.containerInfo;if(s===o)break;if(4===i)for(i=r.return;null!==i;){var c=i.tag;if((3===c||4===c)&&i.stateNode.containerInfo===o)return;i=i.return}for(;null!==s;){if(null===(i=Xe(s)))return;if(5===(c=i.tag)||6===c||26===c||27===c){r=a=i;continue e}s=s.parentNode}}r=r.return}Bt(function(){var r=a,o=Dt(n),i=[];e:{var s=Cr.get(e);if(void 0!==s){var c=nn,d=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":d="focus",c=cn;break;case"focusout":d="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case mr:case yr:case br:c=dn;break;case Sr:c=vn;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=Sn;break;case"copy":case"cut":case"paste":c=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=_n;break;case"toggle":case"beforetoggle":c=Cn}var u=0!==(4&t),p=!u&&("scroll"===e||"scrollend"===e),h=u?null!==s?s+"Capture":null:s;u=[];for(var f,g=r;null!==g;){var m=g;if(f=m.stateNode,5!==(m=m.tag)&&26!==m&&27!==m||null===f||null===h||null!=(m=Ft(g,h))&&u.push(ru(g,m,f)),p)break;g=g.return}0<u.length&&(s=new c(s,d,null,n,o),i.push({event:s,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===jt||!(d=n.relatedTarget||n.fromElement)||!Xe(d)&&!d[He])&&(c||s)&&(s=o.window===o?o:(s=o.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(d=(d=n.relatedTarget||n.toElement)?Xe(d):null)&&(p=l(d),u=d.tag,d!==p||5!==u&&27!==u&&6!==u)&&(d=null)):(c=null,d=r),c!==d)){if(u=sn,m="onMouseLeave",h="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(u=_n,m="onPointerLeave",h="onPointerEnter",g="pointer"),p=null==c?s:Je(c),f=null==d?s:Je(d),(s=new u(m,g+"leave",c,n,o)).target=p,s.relatedTarget=f,m=null,Xe(o)===r&&((u=new u(h,g+"enter",d,n,o)).target=f,u.relatedTarget=p,m=u),p=m,c&&d)e:{for(u=au,g=d,f=0,m=h=c;m;m=u(m))f++;m=0;for(var y=g;y;y=u(y))m++;for(;0<f-m;)h=u(h),f--;for(;0<m-f;)g=u(g),m--;for(;f--;){if(h===g||null!==g&&h===g.alternate){u=h;break e}h=u(h),g=u(g)}u=null}else u=null;null!==c&&iu(i,s,c,u,!1),null!==d&&null!==p&&iu(i,p,d,u,!0)}if("select"===(c=(s=r?Je(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var b=Wn;else if(On(s))if(Un)b=Qn;else{b=$n;var _=Kn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&kt(r.elementType)&&(b=Wn):b=Xn;switch(b&&(b=b(e,r))?Nn(i,b,n,o):(_&&_(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&xt(s,"number",s.value)),_=r?Je(r):window,e){case"focusin":(On(_)||"true"===_.contentEditable)&&(ir=_,sr=r,lr=null);break;case"focusout":lr=sr=ir=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,dr(i,n,o);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":dr(i,n,o)}var x;if(Rn)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else jn?Pn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(kn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==v?"onCompositionEnd"===v&&jn&&(x=Vt()):(Gt="value"in(Yt=o)?Yt.value:Yt.textContent,jn=!0)),0<(_=ou(r,v)).length&&(v=new pn(v,e,null,n,o),i.push({event:v,listeners:_}),x?v.data=x:null!==(x=Mn(n))&&(v.data=x))),(x=Tn?function(e,t){switch(e){case"compositionend":return Mn(t);case"keypress":return 32!==t.which?null:(In=!0,An);case"textInput":return(e=t.data)===An&&In?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Rn&&Pn(e,t)?(e=Vt(),qt=Gt=Yt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(v=ou(r,"onBeforeInput")).length&&(_=new pn("onBeforeInput","beforeinput",null,n,o),i.push({event:_,listeners:v}),_.data=x)),function(e,t,n,r,o){if("submit"===t&&n&&n.stateNode===o){var a=Yd((o[Ue]||null).action),i=r.submitter;i&&null!==(t=(t=i[Ue]||null)?Yd(t.formAction):i.getAttribute("formAction"))&&(a=t,i=null);var s=new nn("action","action",null,r,o);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Od){var e=i?Gd(o,i):new FormData(o);ts(n,{pending:!0,data:e,method:o.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=i?Gd(o,i):new FormData(o),ts(n,{pending:!0,data:e,method:o.method,action:a},a,e))},currentTarget:o}]})}}(i,e,r,n,o)}Xd(i,t)})}function ru(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ou(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,a=o.stateNode;if(5!==(o=o.tag)&&26!==o&&27!==o||null===a||(null!=(o=Ft(e,n))&&r.unshift(ru(e,o,a)),null!=(o=Ft(e,t))&&r.push(ru(e,o,a))),3===e.tag)return r;e=e.return}return[]}function au(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function iu(e,t,n,r,o){for(var a=t._reactName,i=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,o?null!=(c=Ft(n,a))&&i.unshift(ru(n,c,l)):o||null!=(c=Ft(n,a))&&i.push(ru(n,c,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var su=/\r\n?/g,lu=/\u0000|\uFFFD/g;function cu(e){return("string"===typeof e?e:""+e).replace(su,"\n").replace(lu,"")}function du(e,t){return t=cu(t),cu(e)===t}function uu(e,t,n,r,o,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||wt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&wt(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Tt(e,r,a);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&uu(e,t,"name",o.name,o,null),uu(e,t,"formEncType",o.formEncType,o,null),uu(e,t,"formMethod",o.formMethod,o,null),uu(e,t,"formTarget",o.formTarget,o,null)):(uu(e,t,"encType",o.encType,o,null),uu(e,t,"method",o.method,o,null),uu(e,t,"target",o.target,o,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Mt);break;case"onScroll":null!=r&&Qd("scroll",e);break;case"onScrollEnd":null!=r&&Qd("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Qd("beforetoggle",e),Qd("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":dt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":dt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":dt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":dt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=At.get(n)||n,r)}}function pu(e,t,n,r,o,a){switch(n){case"style":Tt(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=o.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"===typeof r?wt(e,r):("number"===typeof r||"bigint"===typeof r)&&wt(e,""+r);break;case"onScroll":null!=r&&Qd("scroll",e);break;case"onScrollEnd":null!=r&&Qd("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Mt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Ue]||null)?a[n]:null)&&e.removeEventListener(t,a,o),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,o)))}}function hu(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qd("error",e),Qd("load",e);var r,o=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":o=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:uu(e,t,r,s,n,null)}}return a&&uu(e,t,"srcSet",n.srcSet,n,null),void(o&&uu(e,t,"src",n.src,n,null));case"input":Qd("invalid",e);var l=r=s=a=null,c=null,d=null;for(o in n)if(n.hasOwnProperty(o)){var u=n[o];if(null!=u)switch(o){case"name":a=u;break;case"type":s=u;break;case"checked":c=u;break;case"defaultChecked":d=u;break;case"value":r=u;break;case"defaultValue":l=u;break;case"children":case"dangerouslySetInnerHTML":if(null!=u)throw Error(i(137,t));break;default:uu(e,t,o,u,n,null)}}return void _t(e,r,l,c,d,s,a,!1);case"select":for(a in Qd("invalid",e),o=s=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":o=l;default:uu(e,t,a,l,n,null)}return t=r,n=s,e.multiple=!!o,void(null!=t?vt(e,!!o,t,!1):null!=n&&vt(e,!!o,n,!0));case"textarea":for(s in Qd("invalid",e),r=a=o=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":o=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:uu(e,t,s,l,n,null)}return void Ct(e,o,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(o=n[c]))if("selected"===c)e.selected=o&&"function"!==typeof o&&"symbol"!==typeof o;else uu(e,t,c,o,n,null);return;case"dialog":Qd("beforetoggle",e),Qd("toggle",e),Qd("cancel",e),Qd("close",e);break;case"iframe":case"object":Qd("load",e);break;case"video":case"audio":for(o=0;o<Kd.length;o++)Qd(Kd[o],e);break;case"image":Qd("error",e),Qd("load",e);break;case"details":Qd("toggle",e);break;case"embed":case"source":case"link":Qd("error",e),Qd("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&null!=(o=n[d]))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:uu(e,t,d,o,n,null)}return;default:if(kt(t)){for(u in n)n.hasOwnProperty(u)&&(void 0!==(o=n[u])&&pu(e,t,u,o,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(o=n[l])&&uu(e,t,l,o,n,null))}function fu(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gu=null,mu=null;function yu(e){return 9===e.nodeType?e:e.ownerDocument}function bu(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function _u(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function xu(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vu=null;var Su="function"===typeof setTimeout?setTimeout:void 0,Cu="function"===typeof clearTimeout?clearTimeout:void 0,wu="function"===typeof Promise?Promise:void 0,Ru="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof wu?function(e){return wu.resolve(null).then(e).catch(Eu)}:Su;function Eu(e){setTimeout(function(){throw e})}function Tu(e){return"head"===e}function ku(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)||"/&"===n){if(0===r)return e.removeChild(o),void Gp(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Bu(e.ownerDocument.documentElement);else if("head"===n){Bu(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var i=a.nextSibling,s=a.nodeName;a[Ke]||"SCRIPT"===s||"STYLE"===s||"LINK"===s&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=i}}else"body"===n&&Bu(e.ownerDocument.body);n=o}while(n);Gp(t)}function Au(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Iu(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Iu(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pu(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Du(e.nextSibling)))return null}return e}function Mu(e){return"$?"===e.data||"$~"===e.data}function ju(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Du(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ou=null;function Nu(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Du(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Lu(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function zu(e,t,n){switch(t=yu(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Bu(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var Fu=new Map,Wu=new Set;function Uu(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Hu=O.d;O.d={f:function(){var e=Hu.f(),t=ed();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?rs(t):Hu.r(e)},D:function(e){Hu.D(e),Gu("dns-prefetch",e,null)},C:function(e,t){Hu.C(e,t),Gu("preconnect",e,t)},L:function(e,t,n){Hu.L(e,t,n);var r=Yu;if(r&&e&&t){var o='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(o+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(o+='[imagesizes="'+yt(n.imageSizes)+'"]')):o+='[href="'+yt(e)+'"]';var a=o;switch(t){case"style":a=Vu(e);break;case"script":a=Xu(e)}Fu.has(a)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Fu.set(a,e),null!==r.querySelector(o)||"style"===t&&r.querySelector(Ku(a))||"script"===t&&r.querySelector(Qu(a))||(hu(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Hu.m(e,t);var n=Yu;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",o='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',a=o;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Xu(e)}if(!Fu.has(a)&&(e=h({rel:"modulepreload",href:e},t),Fu.set(a,e),null===n.querySelector(o))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Qu(a)))return}hu(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Hu.X(e,t);var n=Yu;if(n&&e){var r=Ze(n).hoistableScripts,o=Xu(e),a=r.get(o);a||((a=n.querySelector(Qu(o)))||(e=h({src:e,async:!0},t),(t=Fu.get(o))&&tp(e,t),et(a=n.createElement("script")),hu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}},S:function(e,t,n){Hu.S(e,t,n);var r=Yu;if(r&&e){var o=Ze(r).hoistableStyles,a=Vu(e);t=t||"default";var i=o.get(a);if(!i){var s={loading:0,preload:null};if(i=r.querySelector(Ku(a)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Fu.get(a))&&ep(e,n);var l=i=r.createElement("link");et(l),hu(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Zu(i,t,r)}i={type:"stylesheet",instance:i,count:1,state:s},o.set(a,i)}}},M:function(e,t){Hu.M(e,t);var n=Yu;if(n&&e){var r=Ze(n).hoistableScripts,o=Xu(e),a=r.get(o);a||((a=n.querySelector(Qu(o)))||(e=h({src:e,async:!0,type:"module"},t),(t=Fu.get(o))&&tp(e,t),et(a=n.createElement("script")),hu(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(o,a))}}};var Yu="undefined"===typeof document?null:document;function Gu(e,t,n){var r=Yu;if(r&&"string"===typeof t&&t){var o=yt(t);o='link[rel="'+e+'"][href="'+o+'"]',"string"===typeof n&&(o+='[crossorigin="'+n+'"]'),Wu.has(o)||(Wu.add(o),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(o)&&(hu(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function qu(e,t,n,r){var o,a,s,l,c=(c=q.current)?Uu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Vu(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Vu(n.href);var d=Ze(c).hoistableStyles,u=d.get(e);if(u||(c=c.ownerDocument||c,u={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,u),(d=c.querySelector(Ku(e)))&&!d._p&&(u.instance=d,u.state.loading=5),Fu.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Fu.set(e,n),d||(o=c,a=e,s=n,l=u.state,o.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=o.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),hu(a,"link",s),et(a),o.head.appendChild(a))))),t&&null===r)throw Error(i(528,""));return u}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Xu(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Vu(e){return'href="'+yt(e)+'"'}function Ku(e){return'link[rel="stylesheet"]['+e+"]"}function $u(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Xu(e){return'[src="'+yt(e)+'"]'}function Qu(e){return"script[async]"+e}function Ju(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var o=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),hu(r,"style",o),Zu(r,n.precedence,e),t.instance=r;case"stylesheet":o=Vu(n.href);var a=e.querySelector(Ku(o));if(a)return t.state.loading|=4,t.instance=a,et(a),a;r=$u(n),(o=Fu.get(o))&&ep(r,o),et(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hu(a,"link",r),t.state.loading|=4,Zu(a,n.precedence,e),t.instance=a;case"script":return a=Xu(n.src),(o=e.querySelector(Qu(a)))?(t.instance=o,et(o),o):(r=n,(o=Fu.get(a))&&tp(r=h({},n),o),et(o=(e=e.ownerDocument||e).createElement("script")),hu(o,"link",r),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zu(r,n.precedence,e));return t.instance}function Zu(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=r.length?r[r.length-1]:null,a=o,i=0;i<r.length;i++){var s=r[i];if(s.dataset.precedence===t)a=s;else if(a!==o)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function ep(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function tp(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var np=null;function rp(e,t,n){if(null===np){var r=new Map,o=np=new Map;o.set(n,r)}else(r=(o=np).get(n))||(r=new Map,o.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var a=n[o];if(!(a[Ke]||a[We]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var i=a.getAttribute(t)||"";i=e+i;var s=r.get(i);s?s.push(a):r.set(i,[a])}}return r}function op(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ap(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ip=0;function sp(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cp(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lp=null;function cp(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lp=new Map,t.forEach(dp,e),lp=null,sp.call(e))}function dp(e,t){if(!(4&t.state.loading)){var n=lp.get(e);if(n)var r=n.get(null);else{n=new Map,lp.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<o.length;a++){var i=o[a];"LINK"!==i.nodeName&&"not all"===i.getAttribute("media")||(n.set(i.dataset.precedence,i),r=i)}r&&n.set(null,r)}i=(o=t.instance).getAttribute("data-precedence"),(a=n.get(i)||r)===r&&n.set(null,o),n.set(i,o),this.count++,r=sp.bind(this),o.addEventListener("load",r),o.addEventListener("error",r),a?a.parentNode.insertBefore(o,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(o,e.firstChild),t.state.loading|=4}}var up={$$typeof:v,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function pp(e,t,n,r,o,a,i,s,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=o,this.onCaughtError=a,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hp(e,t,n,r,o,a,i,s,l,c,d,u){return e=new pp(e,t,n,i,l,c,d,u,s),t=1,!0===a&&(t|=24),a=zr(3,null,null,t),e.current=a,a.stateNode=e,(t=Fo()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},ya(a),e}function fp(e){return e?e=Nr:Nr}function gp(e,t,n,r,o,a){o=fp(o),null===r.context?r.context=o:r.pendingContext=o,(r=_a(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=xa(e,r,t))&&($c(n,0,t),va(n,e,t))}function mp(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yp(e,t){mp(e,t),(e=e.alternate)&&mp(e,t)}function bp(e){if(13===e.tag||31===e.tag){var t=jr(e,67108864);null!==t&&$c(t,0,67108864),yp(e,67108864)}}function _p(e){if(13===e.tag||31===e.tag){var t=Vc(),n=jr(e,t=Ne(t));null!==n&&$c(n,0,t),yp(e,t)}}var xp=!0;function vp(e,t,n,r){var o=D.T;D.T=null;var a=O.p;try{O.p=2,Cp(e,t,n,r)}finally{O.p=a,D.T=o}}function Sp(e,t,n,r){var o=D.T;D.T=null;var a=O.p;try{O.p=8,Cp(e,t,n,r)}finally{O.p=a,D.T=o}}function Cp(e,t,n,r){if(xp){var o=wp(r);if(null===o)nu(e,t,r,Rp,n),Np(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ap=Lp(Ap,e,t,n,r,o),!0;case"dragenter":return Ip=Lp(Ip,e,t,n,r,o),!0;case"mouseover":return Pp=Lp(Pp,e,t,n,r,o),!0;case"pointerover":var a=o.pointerId;return Mp.set(a,Lp(Mp.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,jp.set(a,Lp(jp.get(a)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Np(e,r),4&t&&-1<Op.indexOf(e)){for(;null!==o;){var a=Qe(o);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var i=Ee(a.pendingLanes);if(0!==i){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;i;){var l=1<<31-xe(i);s.entanglements[1]|=l,i&=~l}Nd(a),0===(6&fc)&&(Oc=le()+500,Ld(0,!1))}}break;case 31:case 13:null!==(s=jr(a,2))&&$c(s,0,2),ed(),yp(a,2)}if(null===(a=wp(r))&&nu(e,t,r,Rp,n),a===o)break;o=a}null!==o&&r.stopPropagation()}else nu(e,t,r,null,n)}}function wp(e){return Ep(e=Dt(e))}var Rp=null;function Ep(e){if(Rp=null,null!==(e=Xe(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=d(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Rp=e,null}function Tp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case de:return 2;case ue:return 8;case pe:case he:return 32;case fe:return 268435456;default:return 32}default:return 32}}var kp=!1,Ap=null,Ip=null,Pp=null,Mp=new Map,jp=new Map,Dp=[],Op="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Np(e,t){switch(e){case"focusin":case"focusout":Ap=null;break;case"dragenter":case"dragleave":Ip=null;break;case"mouseover":case"mouseout":Pp=null;break;case"pointerover":case"pointerout":Mp.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jp.delete(t.pointerId)}}function Lp(e,t,n,r,o,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},null!==t&&(null!==(t=Qe(t))&&bp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function zp(e){var t=Xe(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Be(e.priority,function(){_p(n)})}else if(31===t){if(null!==(t=d(n)))return e.blockedOn=t,void Be(e.priority,function(){_p(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bp(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=wp(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&bp(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);jt=r,n.target.dispatchEvent(r),jt=null,t.shift()}return!0}function Fp(e,t,n){Bp(e)&&n.delete(t)}function Wp(){kp=!1,null!==Ap&&Bp(Ap)&&(Ap=null),null!==Ip&&Bp(Ip)&&(Ip=null),null!==Pp&&Bp(Pp)&&(Pp=null),Mp.forEach(Fp),jp.forEach(Fp)}function Up(e,t){e.blockedOn===t&&(e.blockedOn=null,kp||(kp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wp)))}var Hp=null;function Yp(e){Hp!==e&&(Hp=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hp===e&&(Hp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],o=e[t+2];if("function"!==typeof r){if(null===Ep(r||n))continue;break}var a=Qe(n);null!==a&&(e.splice(t,3),t-=3,ts(a,{pending:!0,data:o,method:n.method,action:r},r,o))}}))}function Gp(e){function t(t){return Up(t,e)}null!==Ap&&Up(Ap,e),null!==Ip&&Up(Ip,e),null!==Pp&&Up(Pp,e),Mp.forEach(t),jp.forEach(t);for(var n=0;n<Dp.length;n++){var r=Dp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Dp.length&&null===(n=Dp[0]).blockedOn;)zp(n),null===n.blockedOn&&Dp.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var o=n[r],a=n[r+1],i=o[Ue]||null;if("function"===typeof a)i||Yp(n);else if(i){var s=null;if(a&&a.hasAttribute("formAction")){if(o=a,i=a[Ue]||null)s=i.formAction;else if(null!==Ep(o))continue}else s=i.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Yp(n)}}}function qp(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return o=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==o&&(o(),o=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==o&&(o(),o=null)}}}function Vp(e){this._internalRoot=e}function Kp(e){this._internalRoot=e}Kp.prototype.render=Vp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));gp(t.current,Vc(),e,t,null,null)},Kp.prototype.unmount=Vp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;gp(e.current,2,null,e,null,null),ed(),t[He]=null}},Kp.prototype.unstable_scheduleHydration=function(e){if(e){var t=ze();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dp.length&&0!==t&&t<Dp[n].priority;n++);Dp.splice(n,0,e),0===n&&zp(e)}};var $p=o.version;if("19.2.3"!==$p)throw Error(i(527,$p,"19.2.3"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(r=o.return)){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return u(o),e;if(a===r)return u(o),t;a=a.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=a;else{for(var s=!1,c=o.child;c;){if(c===n){s=!0,n=o,r=a;break}if(c===r){s=!0,r=o,n=a;break}c=c.sibling}if(!s){for(c=a.child;c;){if(c===n){s=!0,n=a,r=o;break}if(c===r){s=!0,r=a,n=o;break}c=c.sibling}if(!s)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?p(e):null)?null:e.stateNode};var Xp={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qp.isDisabled&&Qp.supportsFiber)try{ye=Qp.inject(Xp),be=Qp}catch(Zp){}}t.createRoot=function(e,t){if(!s(e))throw Error(i(299));var n=!1,r="",o=ws,a=Rs,l=Es;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(o=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hp(e,1,!1,null,0,n,r,null,o,a,l,qp),e[He]=t.current,eu(e),new Vp(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(i(299));var r=!1,o="",a=ws,l=Rs,c=Es,d=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(d=n.formState)),(t=hp(e,1,!0,t,0,r,o,d,a,l,c,qp)).context=fp(null),n=t.current,(o=_a(r=Ne(r=Vc()))).callback=null,xa(n,o,r),n=r,t.current.lanes=n,Me(t,n),Nd(t),e[He]=t.current,eu(e),new Kp(t)},t.version="19.2.3"},43(e,t,n){e.exports=n(288)},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),f=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,y={};function b(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}function _(){}function x(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||g}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=b.prototype;var v=x.prototype=new _;v.constructor=x,m(v,b.prototype),v.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function E(e,t,r){var o=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==o?o:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,o,a,i){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,d=!1;if(null===e)d=!0;else switch(s){case"bigint":case"string":case"number":d=!0;break;case"object":switch(e.$$typeof){case n:case r:d=!0;break;case p:return I((d=e._init)(e._payload),t,o,a,i)}}if(d)return i=i(e),d=""===a?"."+A(e,0):a,S(i)?(o="",null!=d&&(o=d.replace(k,"$&/")+"/"),I(i,t,o,"",function(e){return e})):null!=i&&(T(i)&&(l=i,c=o+(null==i.key||e&&e.key===i.key?"":(""+i.key).replace(k,"$&/")+"/")+d,i=E(l.type,c,l.props)),t.push(i)),1;d=0;var u,h=""===a?".":a+":";if(S(e))for(var g=0;g<e.length;g++)d+=I(a=e[g],t,o,s=h+A(a,g),i);else if("function"===typeof(g=null===(u=e)||"object"!==typeof u?null:"function"===typeof(u=f&&u[f]||u["@@iterator"])?u:null))for(e=g.call(e),g=0;!(a=e.next()).done;)d+=I(a=a.value,t,o,s=h+A(a,g++),i);else if("object"===s){if("function"===typeof e.then)return I(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(C,C):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,o,a,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return d}function P(e,t,n){if(null==e)return e;var r=[],o=0;return I(e,r,"","",function(e){return t.call(n,e,o++)}),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var j="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=h,t.Children=D,t.Component=b,t.Fragment=o,t.Profiler=i,t.PureComponent=x,t.StrictMode=a,t.Suspense=d,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),o=e.key;if(null!=t)for(a in void 0!==t.key&&(o=""+t.key),t)!R.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var i=Array(a),s=0;s<a;s++)i[s]=arguments[s+2];r.children=i}return E(e.type,o,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,o={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)R.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var i=arguments.length-2;if(1===i)o.children=n;else if(1<i){for(var s=Array(i),l=0;l<i;l++)s[l]=arguments[l+2];o.children=s}if(e&&e.defaultProps)for(r in i=e.defaultProps)void 0===o[r]&&(o[r]=i[r]);return E(e,a,o)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),o=w.S;null!==o&&o(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(C,j)}catch(Xs){j(Xs)}finally{null!==t&&null!==n.types&&(t.types=n.types),w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return w.H.useEffect(e,t)},t.useEffectEvent=function(e){return w.H.useEffectEvent(e)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.2.3"},331(e,t,n){n.r(t),n.d(t,{MAX_LOCKED_SLOTS:()=>l,PLAYER_COUNT_REQ_SCALING:()=>a,RARE_WEIGHT_SCALING_BASE:()=>i,SLOT_LOCK_COST:()=>s,SUBFACTION:()=>r,SUBFACTION_CONFIG:()=>o,getDefaultSubfaction:()=>u,getRareWeightMultiplier:()=>d,getRequisitionMultiplier:()=>c,getSlotLockCost:()=>h,getSubfactionsForFaction:()=>p});const r={BUGS_VANILLA:"bugs_vanilla",BUGS_PREDATOR:"bugs_predator",BUGS_SPORE_BURST:"bugs_spore_burst",BUGS_RUPTURE:"bugs_rupture",BOTS_VANILLA:"bots_vanilla",BOTS_JET_BRIGADE:"bots_jet_brigade",BOTS_INCINERATION_CORE:"bots_incineration_core",SQUIDS_VANILLA:"squids_vanilla"},o={[r.BUGS_VANILLA]:{name:"Standard",description:"Standard bug forces",reqMultiplier:1,rareWeightMultiplier:1},[r.BUGS_SPORE_BURST]:{name:"Spore Burst Strain",description:"Explosive spore variants",reqMultiplier:1.1,rareWeightMultiplier:1.1},[r.BUGS_PREDATOR]:{name:"Predator Strain",description:"Fast, aggressive hunters",reqMultiplier:1.2,rareWeightMultiplier:1.2},[r.BUGS_RUPTURE]:{name:"Rupture Strain",description:"Highly armored burst variants",reqMultiplier:1.3,rareWeightMultiplier:1.3},[r.BOTS_VANILLA]:{name:"Standard",description:"Standard automaton forces",reqMultiplier:1,rareWeightMultiplier:1},[r.BOTS_JET_BRIGADE]:{name:"Jet Brigade",description:"Airborne assault units",reqMultiplier:1.2,rareWeightMultiplier:1.2},[r.BOTS_INCINERATION_CORE]:{name:"Incineration Core",description:"Fire-focused bot variant",reqMultiplier:1.3,rareWeightMultiplier:1.3},[r.SQUIDS_VANILLA]:{name:"Standard",description:"Standard illuminate forces",reqMultiplier:1,rareWeightMultiplier:1}},a={1:1,2:.8,3:.6,4:.5},i=.7,s={1:3,2:3,3:2,4:2},l=3;function c(e,t){var n;return(a[e]||1)*((null===(n=o[t])||void 0===n?void 0:n.reqMultiplier)||1)}function d(e,t){var n;return Math.pow(i,e-1)*((null===(n=o[t])||void 0===n?void 0:n.rareWeightMultiplier)||1)}function u(e){switch(e){case"terminid":default:return r.BUGS_VANILLA;case"automaton":return r.BOTS_VANILLA;case"illuminate":return r.SQUIDS_VANILLA}}function p(e){switch(e){case"terminid":return[r.BUGS_VANILLA,r.BUGS_PREDATOR,r.BUGS_SPORE_BURST,r.BUGS_RUPTURE];case"automaton":return[r.BOTS_VANILLA,r.BOTS_JET_BRIGADE,r.BOTS_INCINERATION_CORE];case"illuminate":return[r.SQUIDS_VANILLA];default:return[r.BUGS_VANILLA]}}function h(e){return s[e]||3}},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579(e,t,n){e.exports=n(799)},672(e,t,n){var r=n(43);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(o(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(o(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=i.p;try{if(l.T=null,i.p=2,e)return e()}finally{l.T=t,i.p=n,i.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,i.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&i.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),o="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?i.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:o,fetchPriority:a}):"script"===n&&i.d.X(e,{crossOrigin:r,integrity:o,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&i.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else i.d.m(e)},t.requestFormReset=function(e){i.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function o(e,t,r){var o=null;if(void 0!==r&&(o=""+r),void 0!==t.key&&(o=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:o,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=o,t.jsxs=o},853(e,t,n){e.exports=n(896)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<a(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,i=o>>>1;r<i;){var s=2*(r+1)-1,l=e[s],c=s+1,d=e[c];if(0>a(l,n))c<o&&0>a(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<o&&0>a(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],d=[],u=1,p=null,h=3,f=!1,g=!1,m=!1,y=!1,b="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=r(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function S(e){if(m=!1,v(e),!g)if(null!==r(c))g=!0,w||(w=!0,C());else{var t=r(d);null!==t&&M(S,t.startTime-e)}}var C,w=!1,R=-1,E=5,T=-1;function k(){return!!y||!(t.unstable_now()-T<E)}function A(){if(y=!1,w){var e=t.unstable_now();T=e;var n=!0;try{e:{g=!1,m&&(m=!1,_(R),R=-1),f=!0;var a=h;try{t:{for(v(e),p=r(c);null!==p&&!(p.expirationTime>e&&k());){var i=p.callback;if("function"===typeof i){p.callback=null,h=p.priorityLevel;var s=i(p.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){p.callback=s,v(e),n=!0;break t}p===r(c)&&o(c),v(e)}else o(c);p=r(c)}if(null!==p)n=!0;else{var l=r(d);null!==l&&M(S,l.startTime-e),n=!1}}break e}finally{p=null,h=a,f=!1}n=void 0}}finally{n?C():w=!1}}}if("function"===typeof x)C=function(){x(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=A,C=function(){P.postMessage(null)}}else C=function(){b(A,0)};function M(e,n){R=b(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>i?(e.sortIndex=a,n(d,e),null===r(c)&&e===r(d)&&(m?(_(R),R=-1):m=!0,M(S,a-i))):(e.sortIndex=s,n(c,e),g||f||(g=!0,w||(w=!0,C()))),e},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&r;("object"==typeof s||"function"==typeof s)&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=n(43),o=n.t(r,2),a=n(391);function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e){var t=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==i(t)?t:t+""}function l(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}const p=["sri"],h=["page"],f=["page","matches"],g=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var b="popstate";function _(){return E(function(e,t){let{pathname:n,search:r,hash:o}=e.location;return C("",{pathname:n,search:r,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:w(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function x(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function v(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function S(e,t){return{usr:e.state,key:e.key,idx:t}}function C(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return d(d({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?R(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function w(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function R(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function E(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:a=!1}=r,i=o.history,s="POP",l=null,c=u();function u(){return(i.state||{idx:null}).idx}function p(){s="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:s,location:f.location,delta:t})}function h(e){return T(e)}null==c&&(c=0,i.replaceState(d(d({},i.state),{},{idx:c}),""));let f={get action(){return s},get location(){return e(o,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(b,p),l=e,()=>{o.removeEventListener(b,p),l=null}},createHref:e=>t(o,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){s="PUSH";let r=C(f.location,e,t);n&&n(r,e),c=u()+1;let d=S(r,c),p=f.createHref(r);try{i.pushState(d,"",p)}catch(Xs){if(Xs instanceof DOMException&&"DataCloneError"===Xs.name)throw Xs;o.location.assign(p)}a&&l&&l({action:s,location:f.location,delta:1})},replace:function(e,t){s="REPLACE";let r=C(f.location,e,t);n&&n(r,e),c=u();let o=S(r,c),d=f.createHref(r);i.replaceState(o,"",d),a&&l&&l({action:s,location:f.location,delta:0})},go:e=>i.go(e)};return f}function T(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),x(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:w(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function k(e,t){return A(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function A(e,t,n,r){let o=Y(("string"===typeof t?R(t):t).pathname||"/",n);if(null==o)return null;let a=I(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let s=0;null==i&&s<a.length;++s){let e=H(o);i=F(a[s],e,r)}return i}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,s=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;x(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=J([r,l.relativePath]),d=n.concat(l);e.children&&e.children.length>0&&(x(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),I(e.children,t,d,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:B(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of P(e.path))a(e,t,!0,r);else a(e,t)}),t}function P(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return o?[a,""]:[a];let i=P(r.join("/")),s=[];return s.push(...i.map(e=>""===e?a:[a,e].join("/"))),o&&s.push(...i),s.map(t=>e.startsWith("/")&&""===t?"/":t)}var M=/^:[\w-]+$/,j=3,D=2,O=1,N=10,L=-2,z=e=>"*"===e;function B(e,t){let n=e.split("/"),r=n.length;return n.some(z)&&(r+=L),t&&(r+=D),n.filter(e=>!z(e)).reduce((e,t)=>e+(M.test(t)?j:""===t?O:N),r)}function F(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,o={},a="/",i=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=W({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=W({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(o,d.params),i.push({params:o,pathname:J([a,d.pathname]),pathnameBase:Z(J([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=J([a,d.pathnameBase]))}return i}function W(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=U(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],i=a.replace(/(.)\/+$/,"$1"),s=o.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:o}=t;if("*"===r){let e=s[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{}),pathname:a,pathnameBase:i,pattern:e}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function H(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(Xs){return v(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(Xs,").")),e}}function Y(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}var G=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=e=>G.test(e);function V(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}function K(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function $(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function X(e){let t=$(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Q(e,t,n){let r,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=R(e):(r=d({},e),x(!r.pathname||!r.pathname.includes("?"),K("?","pathname","search",r)),x(!r.pathname||!r.pathname.includes("#"),K("#","pathname","hash",r)),x(!r.search||!r.search.includes("#"),K("#","search","hash",r)));let a,i=""===e||""===r.pathname,s=i?"/":r.pathname;if(null==s)a=n;else{let e=t.length-1;if(!o&&s.startsWith("..")){let t=s.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:o="",hash:a=""}="string"===typeof e?R(e):e;if(r)if(q(r))t=r;else{if(r.includes("//")){let e=r;r=r.replace(/\/\/+/g,"/"),v(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(r))}t=r.startsWith("/")?V(r.substring(1),"/"):V(r,n)}else t=n;return{pathname:t,search:ee(o),hash:te(a)}}(r,a),c=s&&"/"!==s&&s.endsWith("/"),u=(i||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var J=e=>e.join("/").replace(/\/\/+/g,"/"),Z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ee=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",te=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var ne=class{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function oe(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ae="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function ie(e,t){let n=e;if("string"!==typeof n||!G.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,o=!1;if(ae)try{let e=new URL(window.location.href),r=n.startsWith("//")?new URL(e.protocol+n):new URL(n),a=Y(r.pathname,t);r.origin===e.origin&&null!=a?n=a+r.search+r.hash:o=!0}catch(a){v(!1,'<Link to="'.concat(n,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:r,isExternal:o,to:n}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var se=["POST","PUT","PATCH","DELETE"],le=(new Set(se),["GET",...se]);new Set(le),Symbol("ResetLoaderData");var ce=r.createContext(null);ce.displayName="DataRouter";var de=r.createContext(null);de.displayName="DataRouterState";var ue=r.createContext(!1);function pe(){return r.useContext(ue)}var he=r.createContext({isTransitioning:!1});he.displayName="ViewTransition";var fe=r.createContext(new Map);fe.displayName="Fetchers";var ge=r.createContext(null);ge.displayName="Await";var me=r.createContext(null);me.displayName="Navigation";var ye=r.createContext(null);ye.displayName="Location";var be=r.createContext({outlet:null,matches:[],isDataRoute:!1});be.displayName="Route";var _e=r.createContext(null);_e.displayName="RouteError";var xe="REACT_ROUTER_ERROR";function ve(){return null!=r.useContext(ye)}function Se(){return x(ve(),"useLocation() may be used only in the context of a <Router> component."),r.useContext(ye).location}var Ce="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function we(e){r.useContext(me).static||r.useLayoutEffect(e)}function Re(){let{isDataRoute:e}=r.useContext(be);return e?function(){let{router:e}=Ne("useNavigate"),t=ze("useNavigate"),n=r.useRef(!1);we(()=>{n.current=!0});let o=r.useCallback(async function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v(n.current,Ce),n.current&&("number"===typeof r?await e.navigate(r):await e.navigate(r,d({fromRouteId:t},o)))},[e,t]);return o}():function(){x(ve(),"useNavigate() may be used only in the context of a <Router> component.");let e=r.useContext(ce),{basename:t,navigator:n}=r.useContext(me),{matches:o}=r.useContext(be),{pathname:a}=Se(),i=JSON.stringify(X(o)),s=r.useRef(!1);we(()=>{s.current=!0});let l=r.useCallback(function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(s.current,Ce),!s.current)return;if("number"===typeof r)return void n.go(r);let l=Q(r,JSON.parse(i),a,"path"===o.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:J([t,l.pathname])),(o.replace?n.replace:n.push)(l,o.state,o)},[t,n,i,a,e]);return l}()}r.createContext(null);function Ee(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=r.useContext(be),{pathname:o}=Se(),a=JSON.stringify(X(n));return r.useMemo(()=>Q(e,JSON.parse(a),o,"path"===t),[e,a,o,t])}function Te(e,t,n,o,a){x(ve(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=r.useContext(me),{matches:s}=r.useContext(be),l=s[s.length-1],c=l?l.params:{},u=l?l.pathname:"/",p=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";We(u,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(u,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let f,g=Se();if(t){var m;let e="string"===typeof t?R(t):t;x("/"===p||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(p)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(p,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),f=e}else f=g;let y=f.pathname||"/",b=y;if("/"!==p){let e=p.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=k(e,{pathname:b});v(h||null!=_,'No routes matched location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" ')),v(null==_||void 0!==_[_.length-1].route.element||void 0!==_[_.length-1].route.Component||void 0!==_[_.length-1].route.lazy,'Matched leaf route at location "'.concat(f.pathname).concat(f.search).concat(f.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let S=De(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([p,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:J([p,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),s,n,o,a);return t&&S?r.createElement(ye.Provider,{value:{location:d({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:"POP"}},S):S}function ke(){let e=Be(),t=re(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:o},i={padding:"2px 4px",backgroundColor:o},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=r.createElement(r.Fragment,null,r.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),r.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",r.createElement("code",{style:i},"ErrorBoundary")," or"," ",r.createElement("code",{style:i},"errorElement")," prop on your route.")),r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,s)}var Ae=r.createElement(ke,null),Ie=class extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(xe,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new ne(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let t=void 0!==e?r.createElement(be.Provider,{value:this.props.routeContext},r.createElement(_e.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?r.createElement(Me,{error:e},t):t}};Ie.contextType=ue;var Pe=new WeakMap;function Me(e){let{children:t,error:n}=e,{basename:o}=r.useContext(me);if("object"===typeof n&&n&&"digest"in n&&"string"===typeof n.digest){let e=function(e){if(e.startsWith("".concat(xe,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(n.digest);if(e){let t=Pe.get(n);if(t)throw t;let a=ie(e.location,o);if(ae&&!Pe.get(n)){if(!a.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:e.replace}));throw Pe.set(n,t),t}window.location.href=a.absoluteURL||a.to}return r.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(a.absoluteURL||a.to)})}}return t}function je(e){let{routeContext:t,match:n,children:o}=e,a=r.useContext(ce);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(be.Provider,{value:t},o)}function De(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,i=null===n||void 0===n?void 0:n.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));x(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,l=-1;if(n)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=r),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){s=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}let c=n&&o?(e,t)=>{var r,a;o(e,{location:n.location,params:null!==(r=null===(a=n.matches)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.params)&&void 0!==r?r:{},unstable_pattern:oe(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,o,d)=>{let u,p=!1,h=null,f=null;n&&(u=i&&o.route.id?i[o.route.id]:void 0,h=o.route.errorElement||Ae,s&&(l<0&&0===d?(We("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,f=null):l===d&&(p=!0,f=o.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,d+1)),m=()=>{let t;return t=u?h:p?f:o.route.Component?r.createElement(o.route.Component,null):o.route.element?o.route.element:e,r.createElement(je,{match:o,routeContext:{outlet:e,matches:g,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===d)?r.createElement(Ie,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0},onError:c}):m()},null)}function Oe(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ne(e){let t=r.useContext(ce);return x(t,Oe(e)),t}function Le(e){let t=r.useContext(de);return x(t,Oe(e)),t}function ze(e){let t=function(e){let t=r.useContext(be);return x(t,Oe(e)),t}(e),n=t.matches[t.matches.length-1];return x(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Be(){var e;let t=r.useContext(_e),n=Le("useRouteError"),o=ze("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[o]}var Fe={};function We(e,t,n){t||Fe[e]||(Fe[e]=!0,v(!1,n))}var Ue={};function He(e,t){e||Ue[t]||(Ue[t]=!0,console.warn(t))}o.useOptimistic;r.memo(function(e){let{routes:t,future:n,state:r,onError:o}=e;return Te(t,void 0,r,o,n)});function Ye(e){x(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ge(e){let{basename:t="/",children:n=null,location:o,navigationType:a="POP",navigator:i,static:s=!1,unstable_useTransitions:l}=e;x(!ve(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=r.useMemo(()=>({basename:c,navigator:i,static:s,unstable_useTransitions:l,future:{}}),[c,i,s,l]);"string"===typeof o&&(o=R(o));let{pathname:u="/",search:p="",hash:h="",state:f=null,key:g="default"}=o,m=r.useMemo(()=>{let e=Y(u,c);return null==e?null:{location:{pathname:e,search:p,hash:h,state:f,key:g},navigationType:a}},[c,u,p,h,f,g,a]);return v(null!=m,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(u).concat(p).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:r.createElement(me.Provider,{value:d},r.createElement(ye.Provider,{children:n,value:m}))}function qe(e){let{children:t,location:n}=e;return Te(Ve(t),n)}r.Component;function Ve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return r.Children.forEach(e,(e,o)=>{if(!r.isValidElement(e))return;let a=[...t,o];if(e.type===r.Fragment)return void n.push.apply(n,Ve(e.props.children,a));x(e.type===Ye,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),x(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Ve(e.props.children,a)),n.push(i)}),n}var Ke="get",$e="application/x-www-form-urlencoded";function Xe(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}var Qe=null;var Je=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ze(e){return null==e||Je.has(e)?e:(v(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat($e,'"')),null)}function et(e,t){let n,r,o,a,i;if(Xe(s=e)&&"form"===s.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?Y(i,t):null,n=e.getAttribute("method")||Ke,o=Ze(e.getAttribute("enctype"))||$e,a=new FormData(e)}else if(function(e){return Xe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Xe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let s=e.getAttribute("formaction")||i.getAttribute("action");if(r=s?Y(s,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||Ke,o=Ze(e.getAttribute("formenctype"))||Ze(i.getAttribute("enctype"))||$e,a=new FormData(i,e),!function(){if(null===Qe)try{new FormData(document.createElement("form"),0),Qe=!1}catch(e){Qe=!0}return Qe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(Xe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ke,r=null,o=$e,i=e}var s;return a&&"text/plain"===o&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function tt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function nt(e,t,n,r){let o="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return n?o.pathname.endsWith("/")?o.pathname="".concat(o.pathname,"_.").concat(r):o.pathname="".concat(o.pathname,".").concat(r):"/"===o.pathname?o.pathname="_root.".concat(r):t&&"/"===Y(o.pathname,t)?o.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(r):o.pathname="".concat(o.pathname.replace(/\/$/,""),".").concat(r),o}async function rt(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(Xs){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(Xs),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ot(e){return null!=e&&"string"===typeof e.page}function at(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function it(e,t,n,r,o,a){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,s=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>i(e,t)||s(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function st(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1),[...new Set(r)];var r}function lt(e,t){let n=new Set,r=new Set(t);return e.reduce((e,o)=>{if(t&&!ot(o)&&"script"===o.as&&o.href&&r.has(o.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(o));return n.has(a)||(n.add(a),e.push({key:a,link:o})),e},[])}function ct(e,t){return"lazy"===e.mode&&!0===t}function dt(){let e=r.useContext(ce);return tt(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ut(){let e=r.useContext(de);return tt(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var pt=r.createContext(void 0);function ht(){let e=r.useContext(pt);return tt(e,"You must render this element inside a <HydratedRouter> element"),e}function ft(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function gt(e,t,n){if(n&&!_t)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}pt.displayName="FrameworkContext";function mt(e){let{page:t}=e,n=u(e,h),{router:o}=dt(),a=r.useMemo(()=>k(o.routes,t,o.basename),[o.routes,t,o.basename]);return a?r.createElement(bt,d({page:t,matches:a},n)):null}function yt(e){let{manifest:t,routeModules:n}=ht(),[o,a]=r.useState([]);return r.useEffect(()=>{let r=!1;return async function(e,t,n){return lt((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await rt(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(at).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?d(d({},e),{},{rel:"prefetch",as:"style"}):d(d({},e),{},{rel:"prefetch"})))}(e,t,n).then(e=>{r||a(e)}),()=>{r=!0}},[e,t,n]),o}function bt(e){let{page:t,matches:n}=e,o=u(e,f),a=Se(),{future:i,manifest:s,routeModules:l}=ht(),{basename:c}=dt(),{loaderData:p,matches:h}=ut(),g=r.useMemo(()=>it(t,n,h,s,a,"data"),[t,n,h,s,a]),m=r.useMemo(()=>it(t,n,h,s,a,"assets"),[t,n,h,s,a]),y=r.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let e=new Set,r=!1;if(n.forEach(t=>{var n;let o=s.routes[t.route.id];o&&o.hasLoader&&(!g.some(e=>e.route.id===t.route.id)&&t.route.id in p&&null!==(n=l[t.route.id])&&void 0!==n&&n.shouldRevalidate||o.hasClientLoader?r=!0:e.add(t.route.id))}),0===e.size)return[];let o=nt(t,c,i.unstable_trailingSlashAwareDataRequests,"data");return r&&e.size>0&&o.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[o.pathname+o.search]},[c,i.unstable_trailingSlashAwareDataRequests,p,a,s,g,n,t,l]),b=r.useMemo(()=>st(m,s),[m,s]),_=yt(m);return r.createElement(r.Fragment,null,y.map(e=>r.createElement("link",d({key:e,rel:"prefetch",as:"fetch",href:e},o))),b.map(e=>r.createElement("link",d({key:e,rel:"modulepreload",href:e},o))),_.map(e=>{let{key:t,link:n}=e;return r.createElement("link",d({key:t,nonce:o.nonce},n))}))}var _t=!1;function xt(e){let{manifest:t,serverHandoffString:n,isSpaMode:o,renderMeta:a,routeDiscovery:i,ssr:s}=ht(),{router:l,static:c,staticContext:h}=dt(),{matches:f}=ut(),g=pe(),m=ct(i,s);a&&(a.didRenderScripts=!0);let y=gt(f,null,o);r.useEffect(()=>{_t=!0},[]);let b=r.useMemo(()=>{var o;if(g)return null;let a=h?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=c?"".concat(null!==(o=t.hmr)&&void 0!==o&&o.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(m?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(y.map((e,n)=>{let r="route".concat(n),o=t.routes[e.route.id];tt(o,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:i,clientMiddlewareModule:s,hydrateFallbackModule:l,module:c}=o,d=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...s?[{module:s,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===d.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(m?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=u(e,p),o=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(a.pop();a.length>0;)i.push("/".concat(a.join("/"))),a.pop();i.forEach(e=>{let n=k(t.routes,e,t.basename);n&&n.forEach(e=>o.add(e.route.id))});let s=[...o].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return d(d({},r),{},{routes:s,sri:!!n||void 0})}(t,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(y.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return r.createElement(r.Fragment,null,r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:void 0})),r.createElement("script",d(d({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:"module",async:!0})))},[]),_=_t||g?[]:(x=t.entry.imports.concat(st(y,t,{includeHydrateFallback:!0})),[...new Set(x)]);var x;let v="object"===typeof t.sri?t.sri:{};return He(!g,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),_t||g?null:r.createElement(r.Fragment,null,"object"===typeof t.sri?r.createElement("script",d(d({},e),{},{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:v})}})):null,m?null:r.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin,integrity:v[t.url],suppressHydrationWarning:!0}),r.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin,integrity:v[t.entry.module],suppressHydrationWarning:!0}),_.map(t=>r.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin,integrity:v[t],suppressHydrationWarning:!0})),b)}function vt(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}r.Component;function St(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let o,a=r.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(re(t))return r.createElement(Ct,{title:"Unhandled Thrown Response!"},r.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),a);if(t instanceof Error)o=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);o=new Error(e)}return r.createElement(Ct,{title:"Application Error!",isOutsideRemixApp:n},r.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),r.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},o.stack),a)}function Ct(e){var t;let{title:n,renderScripts:o,isOutsideRemixApp:a,children:i}=e,{routeModules:s}=ht();return null!==(t=s.root)&&void 0!==t&&t.Layout&&!a?i:r.createElement("html",{lang:"en"},r.createElement("head",null,r.createElement("meta",{charSet:"utf-8"}),r.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),r.createElement("title",null,n)),r.createElement("body",null,r.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,o?r.createElement(xt,null):null)))}var wt="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{wt&&(window.__reactRouterVersion="7.12.0")}catch(Em){}function Rt(e){let{basename:t,children:n,unstable_useTransitions:o,window:a}=e,i=r.useRef();null==i.current&&(i.current=_({window:a,v5Compat:!0}));let s=i.current,[l,c]=r.useState({action:s.action,location:s.location}),d=r.useCallback(e=>{!1===o?c(e):r.startTransition(()=>c(e))},[o]);return r.useLayoutEffect(()=>s.listen(d),[s,d]),r.createElement(Ge,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:s,unstable_useTransitions:o})}var Et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=r.forwardRef(function(e,t){let{onClick:n,discover:o="render",prefetch:a="none",relative:i,reloadDocument:s,replace:l,state:c,target:p,to:h,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:y}=e,b=u(e,g),{basename:_,unstable_useTransitions:v}=r.useContext(me),S="string"===typeof h&&Et.test(h),C=ie(h,_);h=C.to;let R=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(ve(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:o}=r.useContext(me),{hash:a,pathname:i,search:s}=Ee(e,{relative:t}),l=i;return"/"!==n&&(l="/"===i?n:J([n,i])),o.createHref({pathname:l,search:s,hash:a})}(h,{relative:i}),[E,T,k]=function(e,t){let n=r.useContext(pt),[o,a]=r.useState(!1),[i,s]=r.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:p}=t,h=r.useRef(null);r.useEffect(()=>{if("render"===e&&s(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{s(e.isIntersecting)})},{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}},[e]),r.useEffect(()=>{if(o){let e=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(e)}}},[o]);let f=()=>{a(!0)},g=()=>{a(!1),s(!1)};return n?"intent"!==e?[i,h,{}]:[i,h,{onFocus:ft(l,f),onBlur:ft(c,g),onMouseEnter:ft(d,f),onMouseLeave:ft(u,g),onTouchStart:ft(p,f)}]:[!1,h,{}]}(a,b),A=function(e){let{target:t,replace:n,state:o,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},d=Re(),u=Se(),p=Ee(e,{relative:i});return r.useCallback(h=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(h,t)){h.preventDefault();let t=void 0!==n?n:w(u)===w(p),f=()=>d(e,{replace:t,state:o,preventScrollReset:a,relative:i,viewTransition:s,unstable_defaultShouldRevalidate:l});c?r.startTransition(()=>f()):f()}},[u,d,p,n,o,t,e,a,i,s,l,c])}(h,{replace:l,state:c,target:p,preventScrollReset:f,relative:i,viewTransition:m,unstable_defaultShouldRevalidate:y,unstable_useTransitions:v});let I=r.createElement("a",d(d(d({},b),k),{},{href:C.absoluteURL||R,onClick:C.isExternal||s?n:function(e){n&&n(e),e.defaultPrevented||A(e)},ref:vt(t,T),target:p,"data-discover":S||"render"!==o?void 0:"true"}));return E&&!S?r.createElement(r.Fragment,null,I,r.createElement(mt,{page:R})):I});Tt.displayName="Link",r.forwardRef(function(e,t){let{"aria-current":n="page",caseSensitive:o=!1,className:a="",end:i=!1,style:s,to:l,viewTransition:c,children:p}=e,h=u(e,m),f=Ee(l,{relative:h.relative}),g=Se(),y=r.useContext(de),{navigator:b,basename:_}=r.useContext(me),v=null!=y&&function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.useContext(he);x(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=It("useViewTransitionState"),a=Ee(e,{relative:t});if(!n.isTransitioning)return!1;let i=Y(n.currentLocation.pathname,o)||n.currentLocation.pathname,s=Y(n.nextLocation.pathname,o)||n.nextLocation.pathname;return null!=W(a.pathname,s)||null!=W(a.pathname,i)}(f)&&!0===c,S=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,C=g.pathname,w=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;o||(C=C.toLowerCase(),w=w?w.toLowerCase():null,S=S.toLowerCase()),w&&_&&(w=Y(w,_)||w);const R="/"!==S&&S.endsWith("/")?S.length-1:S.length;let E,T=C===S||!i&&C.startsWith(S)&&"/"===C.charAt(R),k=null!=w&&(w===S||!i&&w.startsWith(S)&&"/"===w.charAt(S.length)),A={isActive:T,isPending:k,isTransitioning:v},I=T?n:void 0;E="function"===typeof a?a(A):[a,T?"active":null,k?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P="function"===typeof s?s(A):s;return r.createElement(Tt,d(d({},h),{},{"aria-current":I,className:E,ref:t,style:P,to:l,viewTransition:c}),"function"===typeof p?p(A):p)}).displayName="NavLink";var kt=r.forwardRef((e,t)=>{let{discover:n="render",fetcherKey:o,navigate:a,reloadDocument:i,replace:s,state:l,method:c=Ke,action:p,onSubmit:h,relative:f,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:b}=e,_=u(e,y),{unstable_useTransitions:v}=r.useContext(me),S=jt(),C=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=r.useContext(me),o=r.useContext(be);x(o,"useFormAction must be used inside a RouteContext");let[a]=o.matches.slice(-1),i=d({},Ee(e||".",{relative:t})),s=Se();if(null==e){i.search=s.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(i.pathname="/"===i.pathname?n:J([n,i.pathname]));return w(i)}(p,{relative:f}),R="get"===c.toLowerCase()?"get":"post",E="string"===typeof p&&Et.test(p);return r.createElement("form",d(d({ref:t,method:R,action:C,onSubmit:i?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||c,i=()=>S(t||e.currentTarget,{fetcherKey:o,method:n,navigate:a,replace:s,state:l,relative:f,preventScrollReset:g,viewTransition:m,unstable_defaultShouldRevalidate:b});v&&!1!==a?r.startTransition(()=>i()):i()}},_),{},{"data-discover":E||"render"!==n?void 0:"true"}))});function At(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function It(e){let t=r.useContext(ce);return x(t,At(e)),t}kt.displayName="Form";var Pt=0,Mt=()=>"__".concat(String(++Pt),"__");function jt(){let{router:e}=It("useSubmit"),{basename:t}=r.useContext(me),n=ze("useRouteId"),o=e.fetch,a=e.navigate;return r.useCallback(async function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:i,method:s,encType:l,formData:c,body:d}=et(e,t);if(!1===r.navigate){let e=r.fetcherKey||Mt();await o(e,n,r.action||i,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:d,formMethod:r.method||s,formEncType:r.encType||l,flushSync:r.flushSync})}else await a(r.action||i,{unstable_defaultShouldRevalidate:r.unstable_defaultShouldRevalidate,preventScrollReset:r.preventScrollReset,formData:c,body:d,formMethod:r.method||s,formEncType:r.encType||l,replace:r.replace,state:r.state,fromRouteId:n,flushSync:r.flushSync,viewTransition:r.viewTransition})},[o,a,t,n])}const Dt=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ot=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Nt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Lt=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],zt=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:s="",children:l,iconNode:c}=e,p=u(e,Lt);return(0,r.createElement)("svg",d(d(d({ref:t},Nt),{},{width:o,height:o,stroke:n,strokeWidth:i?24*Number(a)/Number(o):a,className:Ot("lucide",s)},!l&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"}),p),[...c.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(l)?l:[l]])}),Bt=["className"],Ft=(e,t)=>{const n=(0,r.forwardRef)((n,o)=>{let{className:a}=n,i=u(n,Bt);return(0,r.createElement)(zt,d({ref:o,iconNode:t,className:Ot("lucide-".concat((s=Dt(e),s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(e),a)},i));var s});return n.displayName=Dt(e),n},Wt=Ft("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Ut=Ft("bug",[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]]),Ht=Ft("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Yt=Ft("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Gt=Ft("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),qt="choice",Vt="random",Kt="beneficial",$t="add_requisition",Xt="spend_requisition",Qt="lose_requisition",Jt="change_faction",Zt="extra_draft",en="skip_difficulty",tn="replay_difficulty",nn="sacrifice_item",rn="gain_booster",on="remove_item",an="gain_specific_item",sn="duplicate_stratagem_to_another_helldiver",ln="swap_stratagem_with_player",cn="restrict_to_single_weapon",dn="redraft",un="transform_loadout",pn="gain_secondary",hn="gain_throwable",fn="random_outcome",gn="gain_random_light_armor_and_draft_throwable",mn="gain_random_heavy_armor_and_draft_secondary",yn="duplicate_loadout_to_all",bn="set_ceremonial_loadout",_n=[{id:"yearly_bonus",name:"Annual Requisition Payment",description:"Super Earth's fiscal year has ended, and your yearly bonus requisition payment has been processed. Most Helldivers don't survive long enough to see this day.",type:Kt,minDifficulty:1,maxDifficulty:10,weight:8,targetPlayer:"all",outcomes:[{type:$t,value:1}]},{id:"enemy_counterattack",name:"Enemy Counteroffensive",description:"Intelligence reports a massive enemy counterattack in response to your recent victories. Command demands you hold your position at all costs, but retreat is also an option.",type:qt,minDifficulty:4,maxDifficulty:10,weight:10,targetPlayer:"all",choices:[{text:"Hold the Line",requiresRequisition:2,outcomes:[{type:Qt,value:2}]},{text:"Tactical Retreat",outcomes:[{type:Jt}]}]},{id:"teamwork_training",name:"Coordinated Tactics Training",description:"Your squad has been selected for an experimental tactical coordination program. You can either learn to duplicate your stratagem deployment techniques with a squadmate, or practice equipment swapping protocols.",type:qt,minDifficulty:2,maxDifficulty:10,weight:12,requiresMultiplayer:!0,targetPlayer:"single",choices:[{text:"Duplicate Stratagem Training",requiresRequisition:1,outcomes:[{type:sn,targetPlayer:"choose"}]},{text:"Equipment Swap Protocol",outcomes:[{type:ln,targetPlayer:"choose"}]}]},{id:"national_holiday",name:"Democracy Day Celebration",description:"Today marks a national holiday celebrating the foundation of Managed Democracy! Special benefits are being distributed to active combat personnel.",type:qt,minDifficulty:4,maxDifficulty:6,weight:50,targetPlayer:"single",choices:[{text:"Request Tactical Booster",outcomes:[{type:rn,targetPlayer:"choose"}]},{text:"Request Medical Reinforcement",outcomes:[{type:$t,value:2,targetPlayer:"choose"}]}]},{id:"mysterious_deal",name:"A Shadowy Proposition",description:'A cloaked figure approaches you in the armory. They whisper: "Prove your skill with a single weapon in your next engagement, and I\'ll ensure you receive... priority access to equipment." Their voice sends chills down your spine.',type:qt,minDifficulty:3,maxDifficulty:10,weight:8,targetPlayer:"single",choices:[{text:"Accept the Deal",outcomes:[{type:cn,targetPlayer:"choose"},{type:Zt,value:1,targetPlayer:"choose"}]},{text:"Decline Politely",outcomes:[]}]},{id:"promotion_offer",name:"Career Advancement Opportunity",description:'The Democracy Officer summons you to their office. "Your performance has been... noted. We can fast-track your progression, but it comes with elevated expectations. Alternatively, if you refuse this opportunity, we\'ll need to reassess your current equipment clearance."',type:qt,minDifficulty:2,maxDifficulty:9,weight:10,targetPlayer:"single",choices:[{text:"Accept Promotion",outcomes:[{type:en,value:1,targetPlayer:"choose"}]},{text:"Decline (Demotion)",outcomes:[{type:on,value:1,targetPlayer:"choose"}]}]},{id:"combat_review",name:"Performance Review",description:'The Democracy Officer shows you combat footage from your last mission. "Your tactical positioning and weapon handling are... suboptimal. I\'m offering you a chance to repeat this difficulty tier and demonstrate improvement. What do you say?"',type:qt,minDifficulty:2,maxDifficulty:10,weight:9,targetPlayer:"all",choices:[{text:"Accept Remedial Training",requiresRequisition:1,outcomes:[{type:tn,value:1}]},{text:"Receive Corporal Punishment",outcomes:[]}]},{id:"fiscal_year_end",name:"Budget Allocation Decision",description:'Your commanding officer pulls you aside: "End of fiscal year means use it or lose it. We have leftover funding for either a new recruit to reinforce your squad, or we can liquidate your current assets and reinvest in fresh equipment. Your call, Helldiver."',type:qt,minDifficulty:3,maxDifficulty:10,weight:8,targetPlayer:"single",choices:[{text:"Recruit New Squad Member",outcomes:[{type:$t,value:2,targetPlayer:"choose"}]},{text:"Reinvest Assets",outcomes:[{type:dn,value:1,targetPlayer:"choose"}]}]},{id:"quantum_anomaly",name:"Quantum Equipment Anomaly",description:'Your destroyer\'s cargo bay has been exposed to a quantum fluctuation field during FTL travel. Science Officer reports: "Your equipment is undergoing spontaneous molecular reconfiguration. We can attempt to stabilize one item, or let the entire loadout phase-shift. The results are... unpredictable, but statistically favorable."',type:qt,minDifficulty:2,maxDifficulty:10,weight:10,targetPlayer:"single",choices:[{text:"Stabilize Single Item",outcomes:[{type:un,value:1,targetPlayer:"choose"}]},{text:"Full Loadout Phase-Shift",outcomes:[{type:un,value:-1,targetPlayer:"choose"}]}]},{id:"propaganda_ministry",name:"Ministry of Truth Rewards",description:'Your heroic deeds have been featured in a Ministry of Truth propaganda broadcast. A Democracy Officer congratulates you: "Your sacrifice will inspire millions! We can offer you either requisition credits for your footage rights, or a commemorative morale booster to honor your service."',type:qt,minDifficulty:1,maxDifficulty:3,weight:12,targetPlayer:"single",choices:[{text:"Accept Requisition Payment",outcomes:[{type:$t,value:1,targetPlayer:"choose"}]},{text:"Request Commemorative Booster",outcomes:[{type:rn,targetPlayer:"choose"}]}]},{id:"supply_disruption",name:"Supply Chain Malfunction",description:'A clerical error has flagged one of your items for immediate return to Super Earth logistics. The quartermaster offers: "I can expedite the paperwork... for a fee. Or you can surrender the equipment and I\'ll throw in some requisition credits as compensation."',type:qt,minDifficulty:3,maxDifficulty:10,weight:8,targetPlayer:"single",choices:[{text:"Pay the Fee",requiresRequisition:2,outcomes:[]},{text:"Surrender Equipment",outcomes:[{type:on,targetPlayer:"choose"}]}]},{id:"experimental_weapons",name:"Black Site Research Initiative",description:"A scientist from a classified research facility approaches you: \"We're testing experimental equipment modifications. Volunteer your loadout for testing and you'll receive cutting-edge gear. Results may vary. Side effects include... well, that's classified. Participation is 'voluntary'.\"",type:qt,minDifficulty:4,maxDifficulty:10,weight:7,targetPlayer:"single",choices:[{text:"Volunteer for Testing",outcomes:[{type:un,value:3,targetPlayer:"choose"}]},{text:"Politely Decline",outcomes:[]}]},{id:"citizenship_renewal",name:"Citizenship Examination",description:'It\'s time for your mandatory citizenship renewal exam. The proctor states: "Failure to meet combat effectiveness standards will result in demotion. However, citizens who exceed expectations may advance rapidly through the ranks. Choose your path, Helldiver."',type:qt,minDifficulty:2,maxDifficulty:9,weight:9,targetPlayer:"all",choices:[{text:"Request Easier Assessment",outcomes:[{type:tn,value:1}]},{text:"Attempt Advanced Qualification",requiresRequisition:1,outcomes:[{type:en,value:1}]}]},{id:"morale_inspection",name:"Mandatory Morale Assessment",description:'A Morale Officer has detected "suboptimal enthusiasm levels" in your squad. They offer a solution: "We can issue a tactical morale booster, or you can demonstrate your commitment through voluntary resource donation and extra training."',type:qt,minDifficulty:1,maxDifficulty:7,weight:11,targetPlayer:"single",choices:[{text:"Accept Morale Booster",outcomes:[{type:rn,targetPlayer:"choose"}]},{text:"Volunteer for Extra Training",requiresRequisition:2,outcomes:[{type:Xt,value:2},{type:Zt,value:1,targetPlayer:"choose"}]}]},{id:"veterans_memorial",name:"Fallen Heroes Memorial",description:"You're selected to honor fallen Helldivers at a memorial service. The ceremony organizer asks: \"Will you volunteer to carry the standard in remembrance? It's dangerous duty, but those who survive receive special recognition and equipment privileges.\"",type:qt,minDifficulty:5,maxDifficulty:10,weight:7,targetPlayer:"single",choices:[{text:"Carry the Standard",requiresRequisition:2,outcomes:[{type:Qt,value:2},{type:Zt,value:2,targetPlayer:"choose"}]},{text:"March in the Parade",requiresRequisition:1,outcomes:[{type:Qt,value:1},{type:Zt,value:1,targetPlayer:"choose"}]},{text:"Respectfully Decline",outcomes:[]}]},{id:"loyalty_test",name:"Patriotism Verification",description:"A Democracy Officer confronts you: \"We've intercepted communications questioning Super Earth's flawless leadership. Prove your loyalty by donating equipment to the war effort, or volunteer for hazardous duty to clear your name. Choose wisely, citizen.\"",type:qt,minDifficulty:2,maxDifficulty:10,weight:9,targetPlayer:"single",choices:[{text:"Donate Equipment",outcomes:[{type:on,targetPlayer:"choose"}]},{text:"Volunteer for Hazardous Duty",outcomes:[{type:cn,targetPlayer:"choose"},{type:rn,targetPlayer:"choose"}]}]},{id:"training_accident",name:"Training Exercise Gone Wrong",description:"A live-fire training exercise has gone catastrophically wrong. The medic assesses the squad: \"Everyone's banged up but combat-ready. However, I've got experimental performance enhancers available - top-shelf stuff from R&D. Costs requisition credits, but you'll each get a tactical booster. Or we can skip it and get back to standard operations.\"",type:qt,minDifficulty:1,maxDifficulty:6,weight:10,targetPlayer:"all",choices:[{text:"Purchase Performance Enhancers",requiresRequisition:2,outcomes:[{type:rn,targetPlayer:"random"}]},{text:"Return to Standard Operations",outcomes:[]}]},{id:"commendation_ceremony",name:"Medal of Valor Award",description:'You\'re being recognized for exceptional service! The commanding officer presents options: "You may select a single tactical booster for yourself, or we can distribute two random boosters among your squad. Both serve democracy equally!"',type:qt,minDifficulty:4,maxDifficulty:10,weight:9,targetPlayer:"single",choices:[{text:"Single Tactical Booster",outcomes:[{type:rn,targetPlayer:"choose"}]},{text:"Two Random Squad Boosters",outcomes:[{type:rn,targetPlayer:"random"},{type:rn,targetPlayer:"random"}]}]},{id:"supply_credits",name:"Surplus Requisition Allocation",description:'The Ministry of Finance has allocated surplus resources to your unit. A bureaucrat offers: "You can claim standard requisition credits, or we can arrange a tactical booster from the armory. Both options serve the greater good equally."',type:qt,minDifficulty:1,maxDifficulty:10,weight:12,targetPlayer:"single",choices:[{text:"Claim Requisition Credits",outcomes:[{type:$t,value:1,targetPlayer:"choose"}]},{text:"Request Tactical Booster",outcomes:[{type:rn,targetPlayer:"choose"}]}]},{id:"armory_surplus",name:"Quartermaster's Surplus Distribution",description:'The quartermaster has excess inventory after a supply run. "I\'ve got equipment to distribute, Helldiver. Everyone gets something - could be a sidearm, could be a throwable. Democracy is random but fair!"',type:Kt,minDifficulty:1,maxDifficulty:3,weight:10,targetPlayer:"all",outcomes:[{type:fn,possibleOutcomes:[{type:pn},{type:hn}]}]},{id:"probability_field",name:"Quantum Probability Cascade",description:'A quantum anomaly has created a probability field affecting your loadout. Science Officer warns: "50/50 chance - either lose a random item to the void OR gain a tactical booster from spontaneous materialization. We can collapse the field entirely for zero effect instead."',type:qt,minDifficulty:4,maxDifficulty:10,weight:7,targetPlayer:"single",choices:[{text:"Enter Probability Field",outcomes:[{type:fn,possibleOutcomes:[{type:on,targetPlayer:"choose"},{type:rn,targetPlayer:"choose"}]}]},{text:"Collapse Field Safely",outcomes:[]}]},{id:"light_armor_distribution",name:"Mobility Training Initiative",description:"Command is implementing a new mobility doctrine. All Helldivers will be issued randomized light armor for maximum speed. Additionally, you may select preferred throwables from the armory for tactical flexibility. This is mandatory. Well, you can refuse, but then nobody gets anything.",type:qt,minDifficulty:3,maxDifficulty:10,weight:8,targetPlayer:"all",choices:[{text:"Accept New Doctrine",outcomes:[{type:gn}]},{text:"Refuse for Everyone",outcomes:[]}]},{id:"heavy_armor_distribution",name:"Fortification Protocol",description:"Intelligence reports increased enemy firepower. All Helldivers are being re-equipped with randomized heavy armor for maximum protection. You may also select preferred sidearms from the armory. This is mandatory. Or you can all go without, your choice.",type:qt,minDifficulty:4,maxDifficulty:10,weight:8,targetPlayer:"all",choices:[{text:"Accept Fortification",outcomes:[{type:mn}]},{text:"Refuse for Everyone",outcomes:[]}]},{id:"tactical_synchronization",name:"Perfect Synchronization Protocol",description:"High Command has developed experimental loadout synchronization technology. You may select one Helldiver as a template and duplicate their entire loadout (excluding boosters) to all squad members. The technology bypasses normal equipment uniqueness restrictions. Or you can reject this experimental procedure.",type:qt,minDifficulty:7,maxDifficulty:10,weight:5,targetPlayer:"single",choices:[{text:"Synchronize Squad Loadouts",outcomes:[{type:yn,targetPlayer:"choose"}]},{text:"Reject Synchronization",outcomes:[]}]},{id:"ceremonial_parade",name:"Ceremonial Parade",description:"High Command has selected your squad for a prestigious ceremonial parade. All participants will be issued formal parade equipment and given command privileges. This is a great honor... and refusal would be an act of treason against Super Earth.",type:qt,minDifficulty:1,maxDifficulty:10,weight:1,targetPlayer:"all",choices:[{text:"Join the black parade",outcomes:[{type:bn},{type:$t,value:6}]},{text:"Refusal is treason",outcomes:[{type:Qt,value:1}]}]}];function xn(e,t){const n=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return _n.filter(o=>!(o.minDifficulty>e||o.maxDifficulty<e)&&(!(o.requiresMultiplayer&&!t)&&(!n.includes(o.id)&&!("teamwork_training"===o.id&&r.filter(e=>{var t,n;return null===(t=e.loadout)||void 0===t||null===(n=t.stratagems)||void 0===n?void 0:n.some(e=>null!==e)}).length<2))))}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[]);if(0===n.length)return null;const r=n.reduce((e,t)=>e+t.weight,0);let o=Math.random()*r;for(const a of n)if(o-=a.weight,o<=0)return a;return n[n.length-1]}const vn="Common",Sn="Uncommon",Cn="Rare",wn="Legendary",Rn={PRIMARY:"Primary",SECONDARY:"Secondary",GRENADE:"Grenade",STRATAGEM:"Stratagem",BOOSTER:"Booster",ARMOR:"Armor"},En={BUGS:"terminid",BOTS:"automaton",SQUIDS:"illuminate"},Tn="Fire",kn="Anti-Tank",An="Stun",In="Smoke",Pn="Backpack",Mn="Support Weapon",jn="Precision",Dn="Explosive",On="Defensive",Nn="light",Ln="medium",zn="heavy",Bn="servo_assisted",Fn="scout",Wn="peak_physique",Un="extra_padding",Hn="fortified",Yn="democracy_protects",Gn="unflinching",qn="ballistic_padding",Vn="rock_solid",Kn="engineering_kit",$n="med_kit",Xn="electrical_conduit",Qn="inflammable",Jn="advanced_filtration",Zn="desert_stormer",er="acclimated",tr="integrated_explosives",nr="gunslinger",rr="siege_ready",or="reinforced_epaulettes",ar="adreno_defibrillator",ir="feet_first",sr="reduced_signature",lr={[Bn]:"Increases throwing range by 30%. Provides +50% limb health.",[Fn]:"Markers placed on the map will generate radar scans every 2.0s. Reduces range at which enemies can detect the wearer by 30%.",[Wn]:"Increases melee damage by 100%. Improves weapons handling with less drag on weapon movement.",[Un]:"Provides a higher armor rating.",[Hn]:"Further reduces recoil when crouching or prone by 30%. Provides 50% resistance to explosive damage.",[Yn]:"50% chance to not die when taking lethal damage. Prevents all damage from bleeding if chest hemorrhages.",[Gn]:"Helps prevent Helldivers from flinching when hit. Provides a higher armor rating. Markers placed on the map will generate radar scans every 2.0s.",[qn]:"Provides 25% resistance to chest damage. Provides 25% resistance to explosive damage. Prevents all damage from bleeding if chest hemorrhages.",[Vn]:"Helps prevent Helldivers from ragdolling when hit. Increases melee damage by 100%.",[Kn]:"Further reduces recoil when crouching or prone by 30%. Increases initial inventory and holding capacity of throwables by +2.",[$n]:"Increases initial inventory and holding capacity of stims by +2. Increases stim effect duration by 2.0s.",[Xn]:"Provides 95% resistance to arc damage.",[Qn]:"Provides 75% damage resistance to fire, allowing bearer to rest assured in their inflammability.",[Jn]:"Provides 80% resistance to gas damage and effects.",[Zn]:"Provides 40% resistance to fire, gas, acid, and electrical damage. Increases throwing range by 20%.",[er]:"Provides 50% resistance to fire, gas, acid, and electrical damage.",[tr]:"Armor explodes 1.5s after the wearer dies. Increases initial inventory and holding capacity of throwables by +2.",[nr]:"Increases sidearms reload speed by 40%. Sidearm draw/holster speed increased by 50%. Sidearm recoil reduced by 70%.",[rr]:"Increases reload speed of primary weapons by 30%. Increases ammo capacity of all weapons by 20%. Does not affect weapon backpacks.",[or]:"Increases reload speed of primary weapons by 30%. Gives wearer a 50% chance to avoid grievous limb injury. Increases melee damage by 50%.",[ar]:"Provides one-time, short-lived resuscitation upon death, given that the Helldiver's body is still intact. Increases stim effect duration by 2.0s. Provides 50% resistance to arc damage.",[ir]:"Wearer makes 50% less noise when moving. Increases point-of-interest identification range by 30%. Provides immunity to leg injuries.",[sr]:"Wearer makes 50% less noise when moving. Reduces range at which enemies can detect the wearer by 40%."},cr=[{id:"p_double_freedom",name:"DBS-2 Double Freedom",type:Rn.PRIMARY,rarity:Cn,tags:[],superstore:!0},{id:"s_stun_baton",name:"CQC-30 Stun Baton",type:Rn.SECONDARY,rarity:vn,tags:[An],superstore:!0},{id:"s_combat_hatchet",name:"CQC-5 Combat Hatchet",type:Rn.SECONDARY,rarity:Sn,tags:[],superstore:!0},{id:"s_warrant",name:"P-92 Warrant",type:Rn.SECONDARY,rarity:Sn,tags:[],superstore:!0},{id:"s_machete",name:"CQC-42 Machete",type:Rn.SECONDARY,rarity:vn,tags:[],superstore:!0},{id:"a_sc37",name:"SC-37 Legionnaire",type:Rn.ARMOR,rarity:Sn,tags:[],superstore:!0,passive:Bn,armorClass:Nn},{id:"a_ce74",name:"CE-74 Breaker",type:Rn.ARMOR,rarity:vn,tags:[],superstore:!0,passive:Kn,armorClass:Nn},{id:"a_fs38",name:"FS-38 Eradicator",type:Rn.ARMOR,rarity:vn,tags:[On],superstore:!0,passive:Hn,armorClass:Nn},{id:"a_b08",name:"B-08 Light Gunner",type:Rn.ARMOR,rarity:vn,tags:[],superstore:!0,passive:Un,armorClass:Nn},{id:"a_ds10",name:"DS-10 Big Game Hunter",type:Rn.ARMOR,rarity:Cn,tags:[],superstore:!0,passive:Zn,armorClass:Nn},{id:"a_cm21",name:"CM-21 Trench Paramedic",type:Rn.ARMOR,rarity:Sn,tags:[],superstore:!0,passive:$n,armorClass:Nn},{id:"a_ce67",name:"CE-67 Titan",type:Rn.ARMOR,rarity:vn,tags:[],superstore:!0,passive:Kn,armorClass:Nn},{id:"a_fs37",name:"FS-37 Ravager",type:Rn.ARMOR,rarity:vn,tags:[],superstore:!0,passive:Kn,armorClass:Nn},{id:"a_ie57",name:"IE-57 Hell-Bent",type:Rn.ARMOR,rarity:Sn,tags:[Dn],superstore:!0,passive:tr,armorClass:Nn},{id:"a_gs11",name:"GS-11 Democracy's Deputy",type:Rn.ARMOR,rarity:Sn,tags:[],superstore:!0,passive:nr,armorClass:Nn},{id:"a_ad11",name:"AD-11 Livewire",type:Rn.ARMOR,rarity:Sn,tags:[],superstore:!0,passive:ar,armorClass:Nn},{id:"a_sc15",name:"SC-15 Drone Master",type:Rn.ARMOR,rarity:vn,tags:[],superstore:!0,passive:Kn,armorClass:Ln},{id:"a_b24",name:"B-24 Enforcer",type:Rn.ARMOR,rarity:vn,tags:[On],superstore:!0,passive:Hn,armorClass:Ln},{id:"a_ce81",name:"CE-81 Juggernaut",type:Rn.ARMOR,rarity:vn,tags:[],superstore:!0,passive:Kn,armorClass:Ln},{id:"a_fs34",name:"FS-34 Exterminator",type:Rn.ARMOR,rarity:vn,tags:[On],superstore:!0,passive:Hn,armorClass:Ln},{id:"a_cm10",name:"CM-10 Clinician",type:Rn.ARMOR,rarity:Sn,tags:[],superstore:!0,passive:$n,armorClass:Ln},{id:"a_cw9",name:"CW-9 White Wolf",type:Rn.ARMOR,rarity:vn,tags:[],superstore:!0,passive:Un,armorClass:Ln},{id:"a_ph56",name:"PH-56 Jaguar",type:Rn.ARMOR,rarity:Cn,tags:[],superstore:!0,passive:Wn,armorClass:Ln},{id:"a_i92",name:"I-92 Fire Fighter",type:Rn.ARMOR,rarity:wn,tags:[Tn],superstore:!0,passive:Qn,armorClass:Ln},{id:"a_af91",name:"AF-91 Field Chemist",type:Rn.ARMOR,rarity:Cn,tags:[],superstore:!0,passive:Jn,armorClass:Ln},{id:"a_uf84",name:"UF-84 Doubt Killer",type:Rn.ARMOR,rarity:Cn,tags:[],superstore:!0,passive:Gn,armorClass:Ln},{id:"a_rs6",name:"RS-6 Fiend Destroyer",type:Rn.ARMOR,rarity:Sn,tags:[],superstore:!0,passive:Vn,armorClass:Ln},{id:"a_b27",name:"B-27 Fortified Commando",type:Rn.ARMOR,rarity:vn,tags:[On],superstore:!0,passive:Un,armorClass:zn},{id:"a_fs61",name:"FS-61 Dreadnought",type:Rn.ARMOR,rarity:Sn,tags:[On],superstore:!0,passive:Bn,armorClass:zn},{id:"a_fs11",name:"FS-11 Executioner",type:Rn.ARMOR,rarity:vn,tags:[On],superstore:!0,passive:Hn,armorClass:zn},{id:"a_cm17",name:"CM-17 Butcher",type:Rn.ARMOR,rarity:Sn,tags:[],superstore:!0,passive:$n,armorClass:zn},{id:"a_ce64",name:"CE-64 Grenadier",type:Rn.ARMOR,rarity:vn,tags:[Dn],superstore:!0,passive:Kn,armorClass:zn},{id:"a_ce101",name:"CE-101 Guerilla Gorilla",type:Rn.ARMOR,rarity:vn,tags:[],superstore:!0,passive:Kn,armorClass:zn},{id:"a_i44",name:"I-44 Salamander",type:Rn.ARMOR,rarity:wn,tags:[Tn],superstore:!0,passive:Qn,armorClass:zn},{id:"a_af52",name:"AF-52 Lockdown",type:Rn.ARMOR,rarity:Cn,tags:[],superstore:!0,passive:Jn,armorClass:zn},{id:"a_sr64",name:"SR-64 Cinderblock",type:Rn.ARMOR,rarity:wn,tags:[],superstore:!0,passive:rr,armorClass:zn},{id:"a_re824",name:"RE-824 Bearer of the Standard",type:Rn.ARMOR,rarity:Sn,tags:[],superstore:!0,passive:or,armorClass:zn},{id:"a_bp77",name:"BP-77 Grand Juror",type:Rn.ARMOR,rarity:Sn,tags:[],superstore:!0,passive:qn,armorClass:zn}],dr=[...[{id:"p_liberator",name:"AR-23 Liberator",type:Rn.PRIMARY,rarity:vn,tags:[],warbond:"helldivers_mobilize"},{id:"p_constitution",name:"R-2124 Constitution",type:Rn.PRIMARY,rarity:wn,tags:[],warbond:"helldivers_mobilize"},{id:"p_punisher",name:"SG-8 Punisher",type:Rn.PRIMARY,rarity:vn,tags:[An],warbond:"helldivers_mobilize"},{id:"p_breaker",name:"SG-225 Breaker",type:Rn.PRIMARY,rarity:vn,tags:[],warbond:"helldivers_mobilize"},{id:"p_breaker_sp",name:"SG-225SP Breaker Spray&Pray",type:Rn.PRIMARY,rarity:vn,tags:[],warbond:"helldivers_mobilize"},{id:"p_scythe",name:"LAS-5 Scythe",type:Rn.PRIMARY,rarity:vn,tags:[],warbond:"helldivers_mobilize"},{id:"p_diligence",name:"R-63 Diligence",type:Rn.PRIMARY,rarity:vn,tags:[jn],warbond:"helldivers_mobilize"},{id:"p_cs",name:"R-63CS Counter Sniper",type:Rn.PRIMARY,rarity:Sn,tags:[jn],warbond:"helldivers_mobilize"},{id:"p_defender",name:"SMG-37 Defender",type:Rn.PRIMARY,rarity:vn,tags:[],warbond:"helldivers_mobilize"},{id:"p_lib_pen",name:"AR-23P Liberator Penetrator",type:Rn.PRIMARY,rarity:Sn,tags:[jn],warbond:"helldivers_mobilize"},{id:"p_slugger",name:"SG-8S Slugger",type:Rn.PRIMARY,rarity:vn,tags:[jn],warbond:"helldivers_mobilize"},{id:"p_scorcher",name:"PLAS-1 Scorcher",type:Rn.PRIMARY,rarity:Cn,tags:[Dn],warbond:"helldivers_mobilize"},{id:"s_peacemaker",name:"P-2 Peacemaker",type:Rn.SECONDARY,rarity:vn,tags:[],warbond:"helldivers_mobilize"},{id:"s_redeemer",name:"P-19 Redeemer",type:Rn.SECONDARY,rarity:vn,tags:[],warbond:"helldivers_mobilize"},{id:"g_he",name:"G-12 High Explosive",type:Rn.GRENADE,rarity:vn,tags:[Dn],warbond:"helldivers_mobilize"},{id:"g_frag",name:"G-6 Frag",type:Rn.GRENADE,rarity:vn,tags:[Dn],warbond:"helldivers_mobilize"},{id:"g_impact",name:"G-16 Impact",type:Rn.GRENADE,rarity:Sn,tags:[Dn],warbond:"helldivers_mobilize"},{id:"g_smoke",name:"G-3 Smoke",type:Rn.GRENADE,rarity:vn,tags:[In],warbond:"helldivers_mobilize"},{id:"a_sc34",name:"SC-34 Infiltrator",type:Rn.ARMOR,rarity:vn,tags:[],warbond:"helldivers_mobilize",passive:Fn,armorClass:Nn},{id:"a_fs05",name:"FS-05 Marksman",type:Rn.ARMOR,rarity:vn,tags:[On],warbond:"helldivers_mobilize",passive:Hn,armorClass:zn},{id:"a_ce35",name:"CE-35 Trench Engineer",type:Rn.ARMOR,rarity:vn,tags:[],warbond:"helldivers_mobilize",passive:Kn,armorClass:Ln},{id:"a_cm09",name:"CM-09 Bonesnapper",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"helldivers_mobilize",passive:$n,armorClass:Ln},{id:"a_fs23",name:"FS-23 Battle Master",type:Rn.ARMOR,rarity:vn,tags:[On],warbond:"helldivers_mobilize",passive:Hn,armorClass:zn},{id:"a_sc30",name:"SC-30 Trailblazer Scout",type:Rn.ARMOR,rarity:vn,tags:[],warbond:"helldivers_mobilize",passive:Fn,armorClass:Nn},{id:"a_sa04",name:"SA-04 Combat Technician",type:Rn.ARMOR,rarity:vn,tags:[],warbond:"helldivers_mobilize",passive:Fn,armorClass:Ln},{id:"a_cm14",name:"CM-14 Physician",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"helldivers_mobilize",passive:$n,armorClass:Ln},{id:"a_dp11",name:"DP-11 Champion of the People",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"helldivers_mobilize",passive:Yn,armorClass:Ln},{id:"a_b01",name:"B-01 Tactical",type:Rn.ARMOR,rarity:vn,tags:[],warbond:"helldivers_mobilize",passive:Un,armorClass:Ln},{id:"a_tr40",name:"TR-40 Gold Eagle",type:Rn.ARMOR,rarity:vn,tags:[],warbond:"helldivers_mobilize",passive:Un,armorClass:Ln},{id:"b_space",name:"Hellpod Space Optimization",type:Rn.BOOSTER,rarity:wn,tags:[],warbond:"helldivers_mobilize"},{id:"b_stamina",name:"Stamina Enhancement",type:Rn.BOOSTER,rarity:wn,tags:[],warbond:"helldivers_mobilize"},{id:"b_muscle",name:"Muscle Enhancement",type:Rn.BOOSTER,rarity:Cn,tags:[],warbond:"helldivers_mobilize"},{id:"b_reinforce",name:"Reinforcement Budget",type:Rn.BOOSTER,rarity:Cn,tags:[],warbond:"helldivers_mobilize"},{id:"b_vitality",name:"Vitality Enhancement",type:Rn.BOOSTER,rarity:wn,tags:[],warbond:"helldivers_mobilize"},{id:"b_uav",name:"UAV Recon",type:Rn.BOOSTER,rarity:Cn,tags:[],warbond:"helldivers_mobilize"},{id:"st_ops",name:"Orbital Precision Strike",type:Rn.STRATAGEM,rarity:vn,tags:[kn,jn],warbond:"helldivers_mobilize"},{id:"st_gatling",name:"Orbital Gatling Barrage",type:Rn.STRATAGEM,rarity:vn,tags:[],warbond:"helldivers_mobilize"},{id:"st_airburst",name:"Orbital Airburst Strike",type:Rn.STRATAGEM,rarity:vn,tags:[],warbond:"helldivers_mobilize"},{id:"st_120",name:"Orbital 120mm HE Barrage",type:Rn.STRATAGEM,rarity:Sn,tags:[Dn],warbond:"helldivers_mobilize"},{id:"st_380",name:"Orbital 380mm HE Barrage",type:Rn.STRATAGEM,rarity:Sn,tags:[Dn,kn],warbond:"helldivers_mobilize"},{id:"st_walking",name:"Orbital Walking Barrage",type:Rn.STRATAGEM,rarity:Cn,tags:[Dn],warbond:"helldivers_mobilize"},{id:"st_laser",name:"Orbital Laser",type:Rn.STRATAGEM,rarity:wn,tags:[kn,Tn],warbond:"helldivers_mobilize"},{id:"st_railcannon",name:"Orbital Railcannon Strike",type:Rn.STRATAGEM,rarity:Cn,tags:[kn,jn],warbond:"helldivers_mobilize"},{id:"st_gas_o",name:"Orbital Gas Strike",type:Rn.STRATAGEM,rarity:vn,tags:[],warbond:"helldivers_mobilize"},{id:"st_ems_o",name:"Orbital EMS Strike",type:Rn.STRATAGEM,rarity:vn,tags:[An],warbond:"helldivers_mobilize"},{id:"st_smoke_o",name:"Orbital Smoke Strike",type:Rn.STRATAGEM,rarity:vn,tags:[In],warbond:"helldivers_mobilize"},{id:"st_e_strafe",name:"Eagle Strafing Run",type:Rn.STRATAGEM,rarity:vn,tags:[],warbond:"helldivers_mobilize"},{id:"st_e_airstrike",name:"Eagle Airstrike",type:Rn.STRATAGEM,rarity:vn,tags:[Dn,kn],warbond:"helldivers_mobilize"},{id:"st_e_cluster",name:"Eagle Cluster Bomb",type:Rn.STRATAGEM,rarity:vn,tags:[],warbond:"helldivers_mobilize"},{id:"st_e_smoke",name:"Eagle Smoke Strike",type:Rn.STRATAGEM,rarity:vn,tags:[In],warbond:"helldivers_mobilize"},{id:"st_e_rockets",name:"Eagle 110mm Rocket Pods",type:Rn.STRATAGEM,rarity:Sn,tags:[kn,jn],warbond:"helldivers_mobilize"},{id:"st_e_500",name:"Eagle 500kg Bomb",type:Rn.STRATAGEM,rarity:Cn,tags:[kn,Dn],warbond:"helldivers_mobilize"},{id:"st_mg43",name:"Machine Gun MG-43",type:Rn.STRATAGEM,rarity:vn,tags:[Mn],warbond:"helldivers_mobilize"},{id:"st_amr",name:"Anti-Materiel Rifle",type:Rn.STRATAGEM,rarity:Sn,tags:[Mn,jn],warbond:"helldivers_mobilize"},{id:"st_stalwart",name:"Stalwart",type:Rn.STRATAGEM,rarity:Sn,tags:[Mn],warbond:"helldivers_mobilize"},{id:"st_eat",name:"EAT-17 Expendable Anti-Tank",type:Rn.STRATAGEM,rarity:Cn,tags:[Mn,kn],warbond:"helldivers_mobilize"},{id:"st_rr",name:"Recoilless Rifle",type:Rn.STRATAGEM,rarity:Cn,tags:[Mn,kn,Pn],warbond:"helldivers_mobilize"},{id:"st_flame",name:"Flamethrower",type:Rn.STRATAGEM,rarity:vn,tags:[Mn,Tn],warbond:"helldivers_mobilize"},{id:"st_ac",name:"Autocannon AC-8",type:Rn.STRATAGEM,rarity:Cn,tags:[Mn,Dn,Pn],warbond:"helldivers_mobilize"},{id:"st_railgun",name:"Railgun",type:Rn.STRATAGEM,rarity:Cn,tags:[Mn,kn,jn],warbond:"helldivers_mobilize"},{id:"st_spear",name:"Spear",type:Rn.STRATAGEM,rarity:Cn,tags:[Mn,kn,Pn],warbond:"helldivers_mobilize"},{id:"st_laser_can",name:"Laser Cannon",type:Rn.STRATAGEM,rarity:vn,tags:[Mn],warbond:"helldivers_mobilize"},{id:"st_arc",name:"Arc Thrower",type:Rn.STRATAGEM,rarity:vn,tags:[Mn],warbond:"helldivers_mobilize"},{id:"st_quasar",name:"Quasar Cannon",type:Rn.STRATAGEM,rarity:Cn,tags:[Mn,kn],warbond:"helldivers_mobilize"},{id:"st_hmg",name:"Heavy Machine Gun",type:Rn.STRATAGEM,rarity:Sn,tags:[Mn],warbond:"helldivers_mobilize"},{id:"st_commando",name:"Commando",type:Rn.STRATAGEM,rarity:Cn,tags:[Mn,kn],warbond:"helldivers_mobilize"},{id:"st_bp_jump",name:"Jump Pack",type:Rn.STRATAGEM,rarity:Sn,tags:[Pn],warbond:"helldivers_mobilize"},{id:"st_bp_supply",name:"Supply Pack",type:Rn.STRATAGEM,rarity:Sn,tags:[Pn],warbond:"helldivers_mobilize"},{id:"st_bp_dog",name:"Guard Dog",type:Rn.STRATAGEM,rarity:Sn,tags:[Pn],warbond:"helldivers_mobilize"},{id:"st_bp_shield",name:"Shield Generator Pack",type:Rn.STRATAGEM,rarity:Cn,tags:[Pn,On],warbond:"helldivers_mobilize"},{id:"st_bp_ballistic",name:"Ballistic Shield",type:Rn.STRATAGEM,rarity:vn,tags:[Pn,On],warbond:"helldivers_mobilize"},{id:"st_s_mg",name:"Machine Gun Sentry",type:Rn.STRATAGEM,rarity:vn,tags:[On],warbond:"helldivers_mobilize"},{id:"st_s_gat",name:"Gatling Sentry",type:Rn.STRATAGEM,rarity:vn,tags:[On],warbond:"helldivers_mobilize"},{id:"st_s_mortar",name:"Mortar Sentry",type:Rn.STRATAGEM,rarity:Sn,tags:[On,Dn],warbond:"helldivers_mobilize"},{id:"st_s_ems",name:"EMS Mortar Sentry",type:Rn.STRATAGEM,rarity:Sn,tags:[On,An],warbond:"helldivers_mobilize"},{id:"st_s_ac",name:"Autocannon Sentry",type:Rn.STRATAGEM,rarity:Sn,tags:[On,kn],warbond:"helldivers_mobilize"},{id:"st_s_rocket",name:"Rocket Sentry",type:Rn.STRATAGEM,rarity:Cn,tags:[On,kn],warbond:"helldivers_mobilize"},{id:"st_s_tesla",name:"Tesla Tower",type:Rn.STRATAGEM,rarity:Sn,tags:[On],warbond:"helldivers_mobilize"},{id:"st_s_mines",name:"Anti-Personnel Mines",type:Rn.STRATAGEM,rarity:vn,tags:[On],warbond:"helldivers_mobilize"},{id:"st_s_inc_mines",name:"Incendiary Mines",type:Rn.STRATAGEM,rarity:Sn,tags:[On,Tn],warbond:"helldivers_mobilize"},{id:"st_s_at_mines",name:"Anti-Tank Mines",type:Rn.STRATAGEM,rarity:Sn,tags:[On,kn],warbond:"helldivers_mobilize"},{id:"st_e_napalm",name:"Eagle Napalm Airstrike",type:Rn.STRATAGEM,rarity:Sn,tags:[Tn],warbond:"helldivers_mobilize"},{id:"st_bp_rover",name:"Guard Dog Rover",type:Rn.STRATAGEM,rarity:Sn,tags:[Pn,Tn],warbond:"helldivers_mobilize"}],...[{id:"p_lib_con",name:"AR-23C Liberator Concussive",type:Rn.PRIMARY,rarity:vn,tags:[An],warbond:"steeled_veterans"},{id:"p_breaker_inc",name:"SG-225IE Breaker Incendiary",type:Rn.PRIMARY,rarity:Cn,tags:[Tn],warbond:"steeled_veterans"},{id:"p_dominator",name:"JAR-5 Dominator",type:Rn.PRIMARY,rarity:vn,tags:[jn],warbond:"steeled_veterans"},{id:"s_senator",name:"P-4 Senator",type:Rn.SECONDARY,rarity:Cn,tags:[jn],warbond:"steeled_veterans"},{id:"g_inc",name:"G-10 Incendiary",type:Rn.GRENADE,rarity:Sn,tags:[Tn],warbond:"steeled_veterans"},{id:"b_flex_reinforce",name:"Flexible Reinforcement Budget",type:Rn.BOOSTER,rarity:Cn,tags:[],warbond:"steeled_veterans"},{id:"a_sa25",name:"SA-25 Steel Trooper",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"steeled_veterans",passive:Bn,armorClass:Ln},{id:"a_sa12",name:"SA-12 Servo Assisted",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"steeled_veterans",passive:Bn,armorClass:Ln},{id:"a_sa32",name:"SA-32 Dynamo",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"steeled_veterans",passive:Bn,armorClass:zn}],...[{id:"p_sickle",name:"LAS-16 Sickle",type:Rn.PRIMARY,rarity:Sn,tags:[],warbond:"cutting_edge"},{id:"p_blitzer",name:"ARC-12 Blitzer",type:Rn.PRIMARY,rarity:Sn,tags:[An],warbond:"cutting_edge"},{id:"p_punisher_plas",name:"SG-8P Punisher Plasma",type:Rn.PRIMARY,rarity:Cn,tags:[Dn],warbond:"cutting_edge"},{id:"s_dagger",name:"LAS-7 Dagger",type:Rn.SECONDARY,rarity:Sn,tags:[],warbond:"cutting_edge"},{id:"g_stun",name:"G-23 Stun",type:Rn.GRENADE,rarity:Sn,tags:[An],warbond:"cutting_edge"},{id:"b_local",name:"Localization Confusion",type:Rn.BOOSTER,rarity:wn,tags:[],warbond:"cutting_edge"},{id:"a_ex03",name:"EX-03 Prototype 3",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"cutting_edge",passive:Xn,armorClass:Ln},{id:"a_ex16",name:"EX-16 Prototype 16",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"cutting_edge",passive:Xn,armorClass:Ln},{id:"a_ex00",name:"EX-00 Prototype X",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"cutting_edge",passive:Xn,armorClass:Nn}],...[{id:"p_xbow",name:"CB-9 Explosive Crossbow",type:Rn.PRIMARY,rarity:wn,tags:[Dn],warbond:"democratic_detonation"},{id:"p_eruptor",name:"R-36 Eruptor",type:Rn.PRIMARY,rarity:wn,tags:[Dn],warbond:"democratic_detonation"},{id:"s_grenapistol",name:"GP-31 Grenade Pistol",type:Rn.SECONDARY,rarity:Cn,tags:[Dn],warbond:"democratic_detonation"},{id:"g_thermite",name:"Thermite Grenade",type:Rn.GRENADE,rarity:wn,tags:[kn,Tn],warbond:"democratic_detonation"},{id:"p_adjudicator",name:"BR-14 Adjudicator",type:Rn.PRIMARY,rarity:Sn,tags:[jn],warbond:"democratic_detonation"},{id:"b_expert_pilot",name:"Expert Extraction Pilot",type:Rn.BOOSTER,rarity:Cn,tags:[],warbond:"democratic_detonation"},{id:"a_ce27",name:"CE-27 Ground Breaker",type:Rn.ARMOR,rarity:Cn,tags:[],warbond:"democratic_detonation",passive:Kn,armorClass:Ln},{id:"a_ce07",name:"CE-07 Demolition Specialist",type:Rn.ARMOR,rarity:Cn,tags:[],warbond:"democratic_detonation",passive:Kn,armorClass:Nn},{id:"a_fs55",name:"FS-55 Devastator",type:Rn.ARMOR,rarity:vn,tags:[On],warbond:"democratic_detonation",passive:Hn,armorClass:zn}],...[{id:"p_purifier",name:"PLAS-101 Purifier",type:Rn.PRIMARY,rarity:wn,tags:[Dn],warbond:"polar_patriots"},{id:"p_pummeler",name:"SMG-72 Pummeler",type:Rn.PRIMARY,rarity:Sn,tags:[An],warbond:"polar_patriots"},{id:"p_tenderizer",name:"AR-61 Tenderizer",type:Rn.PRIMARY,rarity:Cn,tags:[jn],warbond:"polar_patriots"},{id:"s_verdict",name:"P-113 Verdict",type:Rn.SECONDARY,rarity:Sn,tags:[],warbond:"polar_patriots"},{id:"g_inc_imp",name:"G-13 Incendiary Impact",type:Rn.GRENADE,rarity:Sn,tags:[Tn],warbond:"polar_patriots"},{id:"b_shock",name:"Motivational Shocks",type:Rn.BOOSTER,rarity:Cn,tags:[],warbond:"polar_patriots"},{id:"a_cw36",name:"CW-36 Winter Warrior",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"polar_patriots",passive:Bn,armorClass:zn},{id:"a_cw22",name:"CW-22 Kodiak",type:Rn.ARMOR,rarity:vn,tags:[On],warbond:"polar_patriots",passive:Hn,armorClass:zn},{id:"a_cw4",name:"CW-4 Arctic Ranger",type:Rn.ARMOR,rarity:vn,tags:[],warbond:"polar_patriots",passive:Fn,armorClass:Nn}],...[{id:"p_lib_carb",name:"AR-23A Liberator Carbine",type:Rn.PRIMARY,rarity:Sn,tags:[],warbond:"viper_commandos"},{id:"s_bushwhacker",name:"SG-22 Bushwhacker",type:Rn.SECONDARY,rarity:Sn,tags:[An],warbond:"viper_commandos"},{id:"g_knife",name:"Throwing Knife",type:Rn.GRENADE,rarity:vn,tags:[],warbond:"viper_commandos"},{id:"a_ph9",name:"PH-9 Predator",type:Rn.ARMOR,rarity:Cn,tags:[],warbond:"viper_commandos",passive:Wn,armorClass:Nn},{id:"a_ph202",name:"PH-202 Twigsnapper",type:Rn.ARMOR,rarity:Cn,tags:[],warbond:"viper_commandos",passive:Wn,armorClass:zn},{id:"b_infusion",name:"Experimental Infusion",type:Rn.BOOSTER,rarity:wn,tags:[],warbond:"viper_commandos"}],...[{id:"p_cookout",name:"SG-451 Cookout",type:Rn.PRIMARY,rarity:wn,tags:[Tn,An],warbond:"freedoms_flame"},{id:"p_torcher",name:"FLAM-66 Torcher",type:Rn.PRIMARY,rarity:Cn,tags:[Tn],warbond:"freedoms_flame"},{id:"s_crisper",name:"Crisper",type:Rn.SECONDARY,rarity:Sn,tags:[Tn],warbond:"freedoms_flame"},{id:"a_i09",name:"I-09 Heatseeker",type:Rn.ARMOR,rarity:wn,tags:[Tn],warbond:"freedoms_flame",passive:Qn,armorClass:Nn},{id:"a_i102",name:"I-102 Draconaught",type:Rn.ARMOR,rarity:wn,tags:[Tn],warbond:"freedoms_flame",passive:Qn,armorClass:Ln},{id:"b_firepod",name:"Firebomb Hellpods",type:Rn.BOOSTER,rarity:Cn,tags:[Tn],warbond:"freedoms_flame"}],...[{id:"g_gas",name:"Gas Grenade",type:Rn.GRENADE,rarity:wn,tags:[],warbond:"chemical_agents"},{id:"s_stimpistol",name:"P-43 Stim Pistol",type:Rn.SECONDARY,rarity:Sn,tags:[On],warbond:"chemical_agents"},{id:"st_sterilizer",name:"Sterilizer",type:Rn.STRATAGEM,rarity:Sn,tags:[Mn],warbond:"chemical_agents"},{id:"st_bp_dog_breath",name:'AX/TX-13 "Guard Dog" Dog Breath',type:Rn.STRATAGEM,rarity:Cn,tags:[Pn],warbond:"chemical_agents"},{id:"a_af50",name:"AF-50 Noxious Ranger",type:Rn.ARMOR,rarity:Cn,tags:[],warbond:"chemical_agents",passive:Jn,armorClass:Nn},{id:"a_af02",name:"AF-02 Haz-Master",type:Rn.ARMOR,rarity:Cn,tags:[],warbond:"chemical_agents",passive:Jn,armorClass:Ln}],...[{id:"b_dead_sprint",name:"Dead Sprint",type:Rn.BOOSTER,rarity:Cn,tags:[],warbond:"truth_enforcers"},{id:"p_halt",name:"SG-20 Halt",type:Rn.PRIMARY,rarity:Sn,tags:[An],warbond:"truth_enforcers"},{id:"p_reprimand",name:"SMG-32 Reprimand",type:Rn.PRIMARY,rarity:Cn,tags:[],warbond:"truth_enforcers"},{id:"s_loyalist",name:"PLAS-15 Loyalist",type:Rn.SECONDARY,rarity:Cn,tags:[],warbond:"truth_enforcers"},{id:"a_uf50",name:"UF-50 Bloodhound",type:Rn.ARMOR,rarity:Cn,tags:[],warbond:"truth_enforcers",passive:Gn,armorClass:Ln},{id:"a_uf16",name:"UF-16 Inspector",type:Rn.ARMOR,rarity:Cn,tags:[],warbond:"truth_enforcers",passive:Gn,armorClass:Nn}],...[{id:"b_armed_pods",name:"Armed Resupply Pods",type:Rn.BOOSTER,rarity:Cn,tags:[],warbond:"urban_legends"},{id:"s_stun_lance",name:"CQC-19 Stun Lance",type:Rn.SECONDARY,rarity:Sn,tags:[An],warbond:"urban_legends"},{id:"st_bp_directional",name:"SH-51 Directional Shield",type:Rn.STRATAGEM,rarity:Sn,tags:[Pn,On],warbond:"urban_legends"},{id:"st_s_flame",name:"A/FLAM-40 Flame Sentry",type:Rn.STRATAGEM,rarity:Sn,tags:[On,Tn],warbond:"urban_legends"},{id:"st_s_at_emp",name:"E/AT-12 Anti-Tank Emplacement",type:Rn.STRATAGEM,rarity:Cn,tags:[On,kn],warbond:"urban_legends"},{id:"a_sr24",name:"SR-24 Street Scout",type:Rn.ARMOR,rarity:wn,tags:[],warbond:"urban_legends",passive:rr,armorClass:Nn},{id:"a_sr18",name:"SR-18 Roadblock",type:Rn.ARMOR,rarity:wn,tags:[On],warbond:"urban_legends",passive:rr,armorClass:zn}],...[{id:"p_double_edge",name:"LAS-17 Double-Edge Sickle",type:Rn.PRIMARY,rarity:Cn,tags:[],warbond:"servants_of_freedom"},{id:"s_ultimatum",name:"GP-20 Ultimatum",type:Rn.SECONDARY,rarity:wn,tags:[Dn],warbond:"servants_of_freedom"},{id:"g_seeker",name:"G-50 Seeker",type:Rn.GRENADE,rarity:Cn,tags:[Dn],warbond:"servants_of_freedom"},{id:"st_bp_hellbomb",name:"Portable Hellbomb",type:Rn.STRATAGEM,rarity:Cn,tags:[Pn,Dn],warbond:"servants_of_freedom"},{id:"a_ie3",name:"IE-3 Martyr",type:Rn.ARMOR,rarity:Sn,tags:[Dn],warbond:"servants_of_freedom",passive:tr,armorClass:Ln},{id:"a_ie12",name:"IE-12 Righteous",type:Rn.ARMOR,rarity:Sn,tags:[Dn],warbond:"servants_of_freedom",passive:tr,armorClass:Ln}],...[{id:"p_deadeye",name:"R-6 Deadeye",type:Rn.PRIMARY,rarity:Cn,tags:[jn],warbond:"borderline_justice"},{id:"s_talon",name:"LAS-58 Talon",type:Rn.SECONDARY,rarity:wn,tags:[jn],warbond:"borderline_justice"},{id:"g_dynamite",name:"TED-63 Dynamite",type:Rn.GRENADE,rarity:Cn,tags:[Dn],warbond:"borderline_justice"},{id:"st_bp_hover",name:"LIFT-860 Hover Pack",type:Rn.STRATAGEM,rarity:Cn,tags:[Pn],warbond:"borderline_justice"},{id:"b_sample_extricator",name:"Sample Extricator",type:Rn.BOOSTER,rarity:Cn,tags:[],warbond:"borderline_justice"},{id:"a_gs17",name:"GS-17 Frontier Marshal",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"borderline_justice",passive:nr,armorClass:Ln},{id:"a_gs66",name:"GS-66 Lawmaker",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"borderline_justice",passive:nr,armorClass:zn}],...[{id:"p_amendment",name:"R-2 Amendment",type:Rn.PRIMARY,rarity:Sn,tags:[jn],warbond:"masters_of_ceremony"},{id:"s_saber",name:"CQC-2 Saber",type:Rn.SECONDARY,rarity:Sn,tags:[],warbond:"masters_of_ceremony"},{id:"g_pyrotech",name:"G-142 Pyrotech",type:Rn.GRENADE,rarity:Sn,tags:[Tn],warbond:"masters_of_ceremony"},{id:"b_sample_scanner",name:"Sample Scanner",type:Rn.BOOSTER,rarity:Cn,tags:[],warbond:"masters_of_ceremony"},{id:"a_re2310",name:"RE-2310 Honorary Guard",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"masters_of_ceremony",passive:or,armorClass:Ln},{id:"a_re1861",name:"RE-1861 Parade Commander",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"masters_of_ceremony",passive:or,armorClass:Nn},{id:"st_flag",name:"CQC-1 One True Flag",type:Rn.STRATAGEM,rarity:wn,tags:[Mn],warbond:"masters_of_ceremony"}],...[{id:"p_pacifier",name:"AR-32 Pacifier",type:Rn.PRIMARY,rarity:vn,tags:[An],warbond:"force_of_law"},{id:"g_urchin",name:"G-109 Urchin",type:Rn.GRENADE,rarity:vn,tags:[],warbond:"force_of_law"},{id:"b_stun_pods",name:"Stun Pods",type:Rn.BOOSTER,rarity:Cn,tags:[An],warbond:"force_of_law"},{id:"a_bp20",name:"BP-20 Correct Officer",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"force_of_law",passive:qn,armorClass:Ln},{id:"a_bp32",name:"BP-32 Jackboot",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"force_of_law",passive:qn,armorClass:Nn},{id:"st_deescalator",name:"GL-52 De-Escalator",type:Rn.STRATAGEM,rarity:Cn,tags:[Mn],warbond:"force_of_law"},{id:"st_bp_k9",name:'AX/ARC-3 "Guard Dog" K-9',type:Rn.STRATAGEM,rarity:Cn,tags:[Pn],warbond:"force_of_law"}],...[{id:"p_variable",name:"VG-70 Variable",type:Rn.PRIMARY,rarity:Sn,tags:[],warbond:"control_group"},{id:"g_arc",name:"G-31 Arc",type:Rn.GRENADE,rarity:Sn,tags:[An],warbond:"control_group"},{id:"a_ad26",name:"AD-26 Bleeding Edge",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"control_group",passive:ar,armorClass:Ln},{id:"a_ad49",name:"AD-49 Apollonian",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"control_group",passive:ar,armorClass:zn},{id:"st_epoch",name:"PLAS-45 Epoch",type:Rn.STRATAGEM,rarity:Sn,tags:[Mn],warbond:"control_group"},{id:"st_s_laser",name:"A/LAS-98 Laser Sentry",type:Rn.STRATAGEM,rarity:Sn,tags:[On],warbond:"control_group"},{id:"st_bp_warp",name:"LIFT-182 Warp Pack",type:Rn.STRATAGEM,rarity:wn,tags:[Pn],warbond:"control_group"}],...[{id:"p_coyote",name:"AR-2 Coyote",type:Rn.PRIMARY,rarity:wn,tags:[Tn],warbond:"dust_devils"},{id:"g_pineapple",name:"G-7 Pineapple",type:Rn.GRENADE,rarity:Sn,tags:[Dn],warbond:"dust_devils"},{id:"a_ds42",name:"DS-42 Federation's Blade",type:Rn.ARMOR,rarity:Cn,tags:[],warbond:"dust_devils",passive:Zn,armorClass:zn},{id:"a_ds191",name:"DS-191 Scorpion",type:Rn.ARMOR,rarity:Cn,tags:[],warbond:"dust_devils",passive:Zn,armorClass:Ln},{id:"st_speargun",name:"S-11 Speargun",type:Rn.STRATAGEM,rarity:Cn,tags:[Mn],warbond:"dust_devils"},{id:"st_eat_napalm",name:"EAT-700 Expendable Napalm",type:Rn.STRATAGEM,rarity:Sn,tags:[Mn,Tn],warbond:"dust_devils"},{id:"st_solo_silo",name:"MS-11 Solo Silo",type:Rn.STRATAGEM,rarity:wn,tags:[Mn],warbond:"dust_devils"}],...[{id:"p_onetwo",name:"AR/GL-21 One-Two",type:Rn.PRIMARY,rarity:Sn,tags:[Dn],warbond:"python_commandos"},{id:"a_rs20",name:"RS-20 Constrictor",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"python_commandos",passive:Vn,armorClass:Nn},{id:"a_rs40",name:"RS-40 Beast of Prey",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"python_commandos",passive:Vn,armorClass:zn},{id:"st_bp_hotdog",name:'AX/FLAM-75 "Guard Dog" Hot Dog',type:Rn.STRATAGEM,rarity:Cn,tags:[Pn,Tn],warbond:"python_commandos"},{id:"st_defoliation",name:"CQC-9 Defoliation Tool",type:Rn.STRATAGEM,rarity:Sn,tags:[Mn],warbond:"python_commandos"},{id:"st_maxigun",name:"M-1000 Maxigun",type:Rn.STRATAGEM,rarity:Cn,tags:[Mn],warbond:"python_commandos"}],...[{id:"p_censor",name:"R-72 Censor",type:Rn.PRIMARY,rarity:Sn,tags:[jn],warbond:"redacted_regiment"},{id:"p_suppressor",name:"AR-59 Suppressor",type:Rn.PRIMARY,rarity:Sn,tags:[],warbond:"redacted_regiment"},{id:"s_re_educator",name:"P-35 Re-Educator",type:Rn.SECONDARY,rarity:Sn,tags:[],warbond:"redacted_regiment"},{id:"a_rs67",name:"RS-89 Shadow Paragon",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"redacted_regiment",passive:sr,armorClass:Nn},{id:"a_rs67ns",name:"RS-67 Null Cipher",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"redacted_regiment",passive:sr,armorClass:Ln},{id:"b_concealed_insertion",name:"Concealed Insertion",type:Rn.BOOSTER,rarity:Sn,tags:[In],warbond:"redacted_regiment"},{id:"st_c4",name:"C4 Pack",type:Rn.STRATAGEM,rarity:Cn,tags:[Mn,Dn,Pn],warbond:"redacted_regiment"},{id:"g_lure_mine",name:"TM-1 Lure Mine",type:Rn.GRENADE,rarity:Cn,tags:[Dn],warbond:"redacted_regiment"}],...[{id:"p_ma5c",name:"MA5C Assault Rifle",type:Rn.PRIMARY,rarity:Sn,tags:[],warbond:"obedient_democracy_support_troopers"},{id:"p_m7s",name:"M7S SMG",type:Rn.PRIMARY,rarity:vn,tags:[],warbond:"obedient_democracy_support_troopers"},{id:"p_m90a",name:"M90A Shotgun",type:Rn.PRIMARY,rarity:Sn,tags:[],warbond:"obedient_democracy_support_troopers"},{id:"s_m6c",name:"M6C/SOCOM Pistol",type:Rn.SECONDARY,rarity:vn,tags:[],warbond:"obedient_democracy_support_troopers"},{id:"a_a9",name:"A-9 Helljumper",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"obedient_democracy_support_troopers",passive:ir,armorClass:Ln},{id:"a_a35",name:"A-35 Recon",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"obedient_democracy_support_troopers",passive:ir,armorClass:Ln}],...[{id:"p_sta52",name:"StA-52 Assault Rifle",type:Rn.PRIMARY,rarity:Sn,tags:[],warbond:"righteous_revenants"},{id:"p_plas39",name:"PLAS-39 Accelerator Rifle",type:Rn.PRIMARY,rarity:Sn,tags:[],warbond:"righteous_revenants"},{id:"p_sta11",name:"StA-11 SMG",type:Rn.PRIMARY,rarity:vn,tags:[],warbond:"righteous_revenants"},{id:"a_ac1",name:"AC-1 Dutiful",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"righteous_revenants",passive:er,armorClass:Ln},{id:"a_ac2",name:"AC-2 Obedient",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"righteous_revenants",passive:er,armorClass:Ln}],...[{id:"p_knight",name:"MP-98 Knight",type:Rn.PRIMARY,rarity:Cn,tags:[],warbond:"premium_edition"},{id:"a_dp40",name:"DP-40 Hero of the Federation",type:Rn.ARMOR,rarity:Sn,tags:[],warbond:"premium_edition",passive:Yn,armorClass:Ln}],...cr],ur={primary:null,secondary:"s_peacemaker",grenade:"g_he",armor:"a_b01",booster:null,stratagems:[null,null,null,null]},pr=[{level:1,name:"Trivial",reqAT:!1},{level:2,name:"Easy",reqAT:!1},{level:3,name:"Medium",reqAT:!1},{level:4,name:"Challenging",reqAT:!0},{level:5,name:"Hard",reqAT:!0},{level:6,name:"Extreme",reqAT:!0},{level:7,name:"Suicide Mission",reqAT:!0},{level:8,name:"Impossible",reqAT:!0},{level:9,name:"Helldive",reqAT:!0},{level:10,name:"Super Helldive",reqAT:!0}],hr={1:1,2:1,3:2,4:2,5:3,6:3,7:3,8:3,9:3,10:3};function fr(e){return hr[e]||1}const gr=e=>dr.find(t=>t.id===e),mr=(e,t)=>e.some(e=>((e,t)=>{const n=gr(e);return!!n&&n.tags.includes(t)})(e,t)),yr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=((e,t)=>dr.filter(n=>"Armor"===n.type&&n.passive===e&&n.armorClass===t))(e,t),o=n?r.filter(e=>n.includes(e.id)):r;return 0===o.length?"Unknown Armor":o.map(e=>e.name).join(" / ")};var br=n(331);const _r=e=>e<=2?2:e<=4?3:4,xr=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],i=dr.filter(t=>!e.inventory.includes(t.id)&&t.type!==Rn.BOOSTER);if(e.warbonds&&e.warbonds.length>0&&(i=i.filter(t=>!(!t.warbond||!e.warbonds.includes(t.warbond))||(!(!t.superstore||!e.includeSuperstore)||!t.warbond&&!t.superstore))),e.excludedItems&&e.excludedItems.length>0&&(i=i.filter(t=>!e.excludedItems.includes(t.id))),n.burnCards&&(i=i.filter(e=>!r.includes(e.id))),a&&a.length>0&&(i=i.filter(e=>!a.includes(e.type))),n.globalUniqueness){const e=o.flatMap(e=>e.inventory);i=i.filter(t=>!e.includes(t.id))}const s=i.filter(e=>e.type===Rn.ARMOR),l=i.filter(e=>e.type!==Rn.ARMOR),c=(e=>{const t=new Map;return e.forEach(e=>{if(!e.passive||!e.armorClass)return;const n="".concat(e.passive,"|").concat(e.armorClass);t.has(n)||t.set(n,{passive:e.passive,armorClass:e.armorClass,items:[]}),t.get(n).items.push(e)}),Array.from(t.values())})(s).filter(t=>{var n,r,o;return(n=e.inventory,r=t.passive,o=t.armorClass,!n.some(e=>{const t=gr(e);return t&&"Armor"===t.type&&t.passive===r&&t.armorClass===o}))&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return e.items.some(e=>!r.includes(e.id)&&(!(!e.warbond||!t.includes(e.warbond))||!(!e.superstore||!n)||!e.warbond&&!e.superstore))}(t,e.warbonds,e.includeSuperstore,e.excludedItems||[])}),d=(0,br.getRareWeightMultiplier)(n.playerCount,n.subfaction);return[...l.map(r=>{let o=10;r.rarity===vn&&(o+=50),r.rarity===Sn&&(o+=25),r.rarity===Cn&&(o+=Math.round(5*d)),r.rarity===wn&&(o+=Math.round(2*d)),n.faction===En.BUGS&&r.tags.includes(Tn)&&(o+=30),n.faction===En.BOTS&&r.tags.includes(jn)&&(o+=20),n.faction===En.SQUIDS&&r.tags.includes(An)&&(o+=20);const a=mr(e.inventory,kn);t>=3&&!a&&r.tags.includes(kn)&&(o+=500),e.loadout.secondary&&r.type===Rn.SECONDARY&&(o=Math.max(1,o-40));return e.loadout.stratagems.some(e=>{const t=gr(e);return t&&t.tags.includes(Pn)})&&r.tags.includes(Pn)&&(o=0),{item:r,weight:o,isArmorCombo:!1}}),...c.map(e=>{let t=10;const r=e.items[0];return r.rarity===vn&&(t+=50),r.rarity===Sn&&(t+=25),r.rarity===Cn&&(t+=Math.round(5*d)),r.rarity===wn&&(t+=Math.round(2*d)),n.faction===En.BUGS&&r.tags.includes(Tn)&&(t+=30),n.faction===En.BOTS&&r.tags.includes(jn)&&(t+=20),n.faction===En.SQUIDS&&r.tags.includes(An)&&(t+=20),{armorCombo:e,weight:t,isArmorCombo:!0}})].filter(e=>e.weight>0)},vr=function(e,t,n){var r;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:[];if(!e)return console.warn("[Draft] Player not found for draft generation"),[];console.log("[Draft] Generating hand for player ".concat(e.id||e.name),{difficulty:t,burnCards:n.burnCards,burnedCardsCount:o.length,lockedSlots:l,playerInventoryCount:(null===(r=e.inventory)||void 0===r?void 0:r.length)||0});const c=xr(e,t,n,o,a,l),u=null!==s?s:_r(n.starRating);console.log("[Draft] Pool size: ".concat(c.length,", Hand size: ").concat(u));const p=c.filter(e=>e.isArmorCombo),h=c.filter(e=>!e.isArmorCombo);console.log("[Draft] Pool composition: ".concat(p.length," armor combos, ").concat(h.length," regular items"));const f=[],g={};for(let x=0;x<u;x++){if(0===c.length){console.warn("[Draft] Pool exhausted after ".concat(x," cards"));break}const e=c.map(e=>{const t=e.isArmorCombo?Rn.ARMOR:e.item.type,n=g[t]||0;let r=e.weight;return u>=3&&n>0&&(r=Math.max(1,e.weight*Math.pow(.1,n))),d(d({},e),{},{adjustedWeight:r})}),t=e.reduce((e,t)=>e+t.adjustedWeight,0);if(0===t){console.warn("[Draft] Pool has no valid weighted items");break}let r=Math.random()*t,o=-1;for(let a=0;a<e.length;a++){const t=e[a];if(t){if(r-=t.adjustedWeight,r<=0){var m,y,b,_;if(o=a,t.isArmorCombo)console.log("[Draft] Selected armor combo: ".concat(t.armorCombo.passive," (").concat(t.armorCombo.armorClass,")"),{itemCount:null===(m=t.armorCombo.items)||void 0===m?void 0:m.length,weight:t.weight,adjustedWeight:t.adjustedWeight}),f.push(t.armorCombo),g[Rn.ARMOR]=(g[Rn.ARMOR]||0)+1;else console.log("[Draft] Selected item: ".concat((null===(y=t.item)||void 0===y?void 0:y.name)||"Unknown"),{id:null===(b=t.item)||void 0===b?void 0:b.id,type:null===(_=t.item)||void 0===_?void 0:_.type,weight:t.weight,adjustedWeight:t.adjustedWeight}),f.push(t.item),g[t.item.type]=(g[t.item.type]||0)+1;n.burnCards&&i&&(t.isArmorCombo?t.armorCombo.items.forEach(e=>i(e.id)):i(t.item.id));break}}else console.warn("[Draft] Invalid pool item at index",a)}-1!==o&&c.splice(o,1)}return console.log("[Draft] Final hand size: ".concat(f.length),f.map(e=>e.name||"".concat(e.passive," (").concat(e.armorClass,")"))),f},Sr=e=>e&&e.stratagems&&Array.isArray(e.stratagems)?e.stratagems.indexOf(null):-1,Cr=e=>!(e&&e.stratagems&&Array.isArray(e.stratagems))||-1===Sr(e),wr="https://helldivers.wiki.gg/images",Rr={p_liberator:"".concat(wr,"/AR-23_Liberator_Primary_Weaponry.png"),p_constitution:"".concat(wr,"/R-2124_Constitution_Primary_Weaponry.png"),p_punisher:"".concat(wr,"/SG-8_Punisher_Primary_Weaponry.png"),p_breaker:"".concat(wr,"/SG-225_Breaker_Primary_Weaponry.png"),p_breaker_sp:"".concat(wr,"/SG-225SP_Breaker_Spray%26Pray_Primary_Weaponry.png"),p_scythe:"".concat(wr,"/LAS-5_Scythe_Primary_Weaponry.png"),p_diligence:"".concat(wr,"/R-63_Diligence_Primary_Weaponry.png"),p_cs:"".concat(wr,"/R-63CS_Diligence_Counter_Sniper_Primary_Weaponry.png"),p_defender:"".concat(wr,"/SMG-37_Defender_Primary_Weaponry.png"),p_lib_pen:"".concat(wr,"/AR-23P_Liberator_Penetrator_Primary_Weaponry.png"),p_slugger:"".concat(wr,"/SG-8S_Slugger_Primary_Weaponry.png"),p_scorcher:"".concat(wr,"/PLAS-1_Scorcher_Primary_Weaponry.png"),p_lib_con:"".concat(wr,"/AR-23C_Liberator_Concussive_Primary_Weaponry.png"),p_breaker_inc:"".concat(wr,"/SG-225IE_Breaker_Incendiary_Primary_Weaponry.png"),p_dominator:"".concat(wr,"/JAR-5_Dominator_Primary_Weaponry.png"),p_sickle:"".concat(wr,"/LAS-16_Sickle_Primary_Weaponry.png"),p_blitzer:"".concat(wr,"/ARC-12_Blitzer_Primary_Weaponry.png"),p_punisher_plas:"".concat(wr,"/SG-8P_Punisher_Plasma_Primary_Weaponry.png"),p_xbow:"".concat(wr,"/CB-9_Exploding_Crossbow_Primary_Weaponry.png"),p_eruptor:"".concat(wr,"/R-36_Eruptor_Primary_Weaponry.png"),p_adjudicator:"".concat(wr,"/BR-14_Adjudicator_Primary_Weaponry.png"),p_purifier:"".concat(wr,"/PLAS-101_Purifier_Primary_Weaponry.png"),p_pummeler:"".concat(wr,"/SMG-72_Pummeler_Primary_Weaponry.png"),p_tenderizer:"".concat(wr,"/AR-61_Tenderizer_Primary_Weaponry.png"),p_lib_carb:"".concat(wr,"/AR-23A_Liberator_Carbine_Primary_Weaponry.png"),p_cookout:"".concat(wr,"/SG-451_Cookout_Primary_Weaponry.png"),p_torcher:"".concat(wr,"/FLAM-66_Torcher_Primary_Weaponry.png"),p_halt:"".concat(wr,"/SG-20_Halt_Primary_Weaponry.png"),p_reprimand:"".concat(wr,"/SMG-32_Reprimand_Primary_Weaponry.png"),p_double_edge:"".concat(wr,"/LAS-17_Double-Edge_Sickle_Primary_Weaponry.png"),p_deadeye:"".concat(wr,"/R-6_Deadeye_Primary_Weaponry.png"),p_amendment:"".concat(wr,"/R-2_Amendment_Primary_Weaponry.png"),p_pacifier:"".concat(wr,"/thumb/AR-32_Pacifier_Primary_Render.png/300px-AR-32_Pacifier_Primary_Render.png"),p_variable:"".concat(wr,"/thumb/VG-70_Variable_Primary_Render.png/300px-VG-70_Variable_Primary_Render.png"),p_coyote:"".concat(wr,"/thumb/AR-2_Coyote_Primary_Render.png/300px-AR-2_Coyote_Primary_Render.png"),p_onetwo:"".concat(wr,"/thumb/AR-GL-21_One_Two_Primary_Render.png/300px-AR-GL-21_One_Two_Primary_Render.png"),p_ma5c:"".concat(wr,"/MA5C_Assault_Rifle_Primary_Weaponry.png"),p_m7s:"".concat(wr,"/M7S_SMG_Primary_Weaponry.png"),p_m90a:"".concat(wr,"/M90A_Shotgun_Primary_Weaponry.png"),p_sta52:"".concat(wr,"/StA-52_Assault_Rifle_Primary_Weaponry.png"),p_plas39:"".concat(wr,"/PLAS-39_Accelerator_Rifle_Primary_Weaponry.png"),p_sta11:"".concat(wr,"/StA-11_SMG_Primary_Weaponry.png"),p_knight:"".concat(wr,"/MP-98_Knight_Primary_Weaponry.png"),p_double_freedom:"".concat(wr,"/DBS-2_Double_Freedom_Primary_Weaponry.png"),p_censor:"".concat(wr,"/R-72_Censor_Primary_Weaponry.png"),p_suppressor:"".concat(wr,"/AR-59_Suppressor_Primary_Weaponry.png"),s_peacemaker:"".concat(wr,"/P-2_Peacemaker_Secondary_Weaponry.png"),s_redeemer:"".concat(wr,"/P-19_Redeemer_Secondary_Weaponry.png"),s_senator:"".concat(wr,"/P-4_Senator_Secondary_Weaponry.png"),s_dagger:"".concat(wr,"/LAS-7_Dagger_Secondary_Weaponry.png"),s_grenapistol:"".concat(wr,"/GP-31_Grenade_Pistol_Secondary_Weaponry.png"),s_verdict:"".concat(wr,"/P-113_Verdict_Secondary_Weaponry.png"),s_bushwhacker:"".concat(wr,"/SG-22_Bushwhacker_Secondary_Weaponry.png"),s_crisper:"".concat(wr,"/P-72_Crisper_Secondary_Weaponry.png"),s_stimpistol:"".concat(wr,"/P-11_Stim_Pistol_Secondary_Weaponry.png"),s_loyalist:"".concat(wr,"/PLAS-15_Loyalist_Secondary_Weaponry.png"),s_stun_lance:"".concat(wr,"/CQC-19_Stun_Lance_Secondary_Weaponry.png"),s_ultimatum:"".concat(wr,"/GP-20_Ultimatum_Secondary_Weaponry.png"),s_talon:"".concat(wr,"/LAS-58_Talon_Secondary_Weaponry.png"),s_saber:"".concat(wr,"/CQC-2_Saber_Secondary_Weaponry.png"),s_m6c:"".concat(wr,"/M6C-SOCOM_Pistol_Secondary_Weaponry.png"),s_stun_baton:"".concat(wr,"/CQC-30_Stun_Baton_Secondary_Weaponry.png"),s_combat_hatchet:"".concat(wr,"/CQC-5_Combat_Hatchet_Secondary_Weaponry.png"),s_warrant:"".concat(wr,"/P-92_Warrant_Secondary_Weaponry.png"),s_machete:"".concat(wr,"/CQC-42_Machete_Secondary_Weaponry.png"),s_re_educator:"".concat(wr,"/P-35_Re-Educator_Secondary_Weaponry.png"),s_entrenchment:"".concat(wr,"/CQC-72_Entrenchment_Tool_Secondary_Weaponry.png"),g_he:"".concat(wr,"/thumb/G-12_High_Explosive_Throwable_Weaponry.png/300px-G-12_High_Explosive_Throwable_Weaponry.png"),g_frag:"".concat(wr,"/thumb/G-6_Frag_Throwable_Weaponry.png/300px-G-6_Frag_Throwable_Weaponry.png"),g_impact:"".concat(wr,"/thumb/G-16_Impact_Throwable_Weaponry.png/300px-G-16_Impact_Throwable_Weaponry.png"),g_smoke:"".concat(wr,"/thumb/G-3_Smoke_Throwable_Weaponry.png/300px-G-3_Smoke_Throwable_Weaponry.png"),g_inc:"".concat(wr,"/thumb/G-10_Incendiary_Throwable_Weaponry.png/300px-G-10_Incendiary_Throwable_Weaponry.png"),g_stun:"".concat(wr,"/thumb/G-23_Stun_Throwable_Weaponry.png/300px-G-23_Stun_Throwable_Weaponry.png"),g_thermite:"".concat(wr,"/thumb/G-123_Thermite_Throwable_Weaponry.png/300px-G-123_Thermite_Throwable_Weaponry.png"),g_inc_imp:"".concat(wr,"/thumb/G-13_Incendiary_Impact_Throwable_Weaponry.png/300px-G-13_Incendiary_Impact_Throwable_Weaponry.png"),g_knife:"".concat(wr,"/thumb/K-2_Throwing_Knife_Throwable_Render.png/300px-K-2_Throwing_Knife_Throwable_Render.png"),g_gas:"".concat(wr,"/G-4_Gas_Throwable_Icon.png"),g_seeker:"".concat(wr,"/thumb/G-50_Seeker_Throwable_Weaponry.png/300px-G-50_Seeker_Throwable_Weaponry.png"),g_dynamite:"".concat(wr,"/thumb/TED-63_Dynamite_Throwable_Weaponry.png/300px-TED-63_Dynamite_Throwable_Weaponry.png"),g_pyrotech:"".concat(wr,"/thumb/G-142_Pyrotech_Throwable_Weaponry.png/300px-G-142_Pyrotech_Throwable_Weaponry.png"),g_urchin:"".concat(wr,"/thumb/G-109_Urchin_Throwable_Render.png/300px-G-109_Urchin_Throwable_Render.png"),g_arc:"".concat(wr,"/thumb/G-31_ARC_Throwable_Render.png/300px-G-31_ARC_Throwable_Render.png"),g_pineapple:"".concat(wr,"/thumb/G-7_Pineapple_Throwable_Render.png/300px-G-7_Pineapple_Throwable_Render.png"),g_lure_mine:"".concat(wr,"/thumb/TM-1_Lure_Mine_Throwable_Icon.png/51px-TM-1_Lure_Mine_Throwable_Icon.png"),b_space:"".concat(wr,"/Hellpod_Space_Optimization_Booster_Icon.svg"),b_stamina:"".concat(wr,"/Stamina_Enhancement_Booster_Icon.svg"),b_muscle:"".concat(wr,"/Muscle_Enhancement_Booster_Icon.svg"),b_reinforce:"".concat(wr,"/Increased_Reinforcement_Budget_Booster_Icon.svg"),b_vitality:"".concat(wr,"/Vitality_Enhancement_Booster_Icon.svg"),b_uav:"".concat(wr,"/UAV_Recon_Booster_Booster_Icon.svg"),b_flex_reinforce:"".concat(wr,"/Flexible_Reinforcement_Budget_Booster_Icon.svg"),b_local:"".concat(wr,"/Localization_Confusion_Booster_Icon.svg"),b_expert_pilot:"".concat(wr,"/Expert_Extraction_Pilot_Booster_Icon.svg"),b_shock:"".concat(wr,"/Motivational_Shocks_Booster_Icon.svg"),b_infusion:"".concat(wr,"/Experimental_Infusion_Booster_Icon.svg"),b_firepod:"".concat(wr,"/Firebomb_Hellpods_Booster_Icon.svg"),b_dead_sprint:"".concat(wr,"/Dead_Sprint_Booster_Icon.svg"),b_armed_pods:"".concat(wr,"/Armed_Resupply_Pods_Booster_Icon.svg"),b_sample_extricator:"".concat(wr,"/Sample_Extricator_Booster_Icon.svg"),b_sample_scanner:"".concat(wr,"/Sample_Scanner_Booster_Icon.svg"),b_stun_pods:"".concat(wr,"/Stun_Pods_Booster_Icon.svg"),b_concealed_insertion:"".concat(wr,"/Concealed_Insertion_Booster_Icon.svg"),st_ops:"".concat(wr,"/Orbital_Precision_Strike_Stratagem_Icon.png"),st_gatling:"".concat(wr,"/Orbital_Gatling_Barrage_Stratagem_Icon.png"),st_airburst:"".concat(wr,"/Orbital_Airburst_Strike_Stratagem_Icon.png"),st_120:"".concat(wr,"/Orbital_120mm_HE_Barrage_Stratagem_Icon.png"),st_380:"".concat(wr,"/Orbital_380mm_HE_Barrage_Stratagem_Icon.png"),st_walking:"".concat(wr,"/Orbital_Walking_Barrage_Stratagem_Icon.png"),st_laser:"".concat(wr,"/Orbital_Laser_Stratagem_Icon.png"),st_railcannon:"".concat(wr,"/Orbital_Railcannon_Strike_Stratagem_Icon.png"),st_gas_o:"".concat(wr,"/Orbital_Gas_Strike_Stratagem_Icon.png"),st_ems_o:"".concat(wr,"/Orbital_EMS_Strike_Stratagem_Icon.png"),st_smoke_o:"".concat(wr,"/Orbital_Smoke_Strike_Stratagem_Icon.png"),st_napalm_o:"".concat(wr,"/Orbital_Napalm_Barrage_Stratagem_Icon.png"),st_e_strafe:"".concat(wr,"/Eagle_Strafing_Run_Stratagem_Icon.png"),st_e_airstrike:"".concat(wr,"/Eagle_Airstrike_Stratagem_Icon.png"),st_e_cluster:"".concat(wr,"/Eagle_Cluster_Bomb_Stratagem_Icon.png"),st_e_smoke:"".concat(wr,"/Eagle_Smoke_Strike_Stratagem_Icon.png"),st_e_rockets:"".concat(wr,"/Eagle_110mm_Rocket_Pods_Stratagem_Icon.png"),st_e_500:"".concat(wr,"/Eagle_500kg_Bomb_Stratagem_Icon.png"),st_e_napalm:"".concat(wr,"/Eagle_Napalm_Airstrike_Stratagem_Icon.png"),st_mg43:"".concat(wr,"/Machine_Gun_Stratagem_Icon.png"),st_amr:"".concat(wr,"/Anti-Materiel_Rifle_Stratagem_Icon.png"),st_stalwart:"".concat(wr,"/Stalwart_Stratagem_Icon.png"),st_eat:"".concat(wr,"/Expendable_Anti-Tank_Stratagem_Icon.png"),st_rr:"".concat(wr,"/Recoilless_Rifle_Stratagem_Icon.png"),st_flame:"".concat(wr,"/Flamethrower_Stratagem_Icon.png"),st_ac:"".concat(wr,"/Autocannon_Stratagem_Icon.png"),st_railgun:"".concat(wr,"/Railgun_Stratagem_Icon.png"),st_spear:"".concat(wr,"/Spear_Stratagem_Icon.png"),st_laser_can:"".concat(wr,"/Laser_Cannon_Stratagem_Icon.png"),st_arc:"".concat(wr,"/Arc_Thrower_Stratagem_Icon.png"),st_quasar:"".concat(wr,"/Quasar_Cannon_Stratagem_Icon.png"),st_hmg:"".concat(wr,"/Heavy_Machine_Gun_Stratagem_Icon.png"),st_commando:"".concat(wr,"/Commando_Stratagem_Icon.png"),st_sterilizer:"".concat(wr,"/Sterilizer_Stratagem_Icon.png"),st_flag:"".concat(wr,"/CQC-1_One_True_Flag_Stratagem_Icon.png"),st_deescalator:"".concat(wr,"/GL-52_De-Escalator_Stratagem_Icon.png"),st_epoch:"".concat(wr,"/PLAS-45_Epoch_Stratagem_Icon.png"),st_speargun:"".concat(wr,"/S-11_Speargun_Stratagem_Icon.png"),st_eat_napalm:"".concat(wr,"/EAT-700_Expendable_Napalm_Stratagem_Icon.png"),st_solo_silo:"".concat(wr,"/MS-11_Stratagem_Icon.png"),st_defoliation:"".concat(wr,"/CQC-9_Defoliation_Tool_Stratagem_Icon.png"),st_maxigun:"".concat(wr,"/M-1000_Maxigun_Stratagem_Icon.png"),st_airburst_rl:"".concat(wr,"/Airburst_Rocket_Launcher_Icon.png"),st_gl:"".concat(wr,"/Grenade_Launcher_Stratagem_Icon.png"),st_wasp:"".concat(wr,"/StA-X3_W.A.S.P._Launcher_Stratagem_Icon.png"),st_c4:"".concat(wr,"/B-MD_C4_Pack_Stratagem_Icon.png"),st_bp_jump:"".concat(wr,"/Jump_Pack_Stratagem_Icon.png"),st_bp_supply:"".concat(wr,"/Supply_Pack_Stratagem_Icon.png"),st_bp_dog:"".concat(wr,"/Guard_Dog_Stratagem_Icon.png"),st_bp_shield:"".concat(wr,"/Ballistic_Shield_Backpack_Stratagem_Icon.png"),st_bp_ballistic:"".concat(wr,"/Shield_Generator_Pack_Stratagem_Icon.png"),st_bp_rover:"".concat(wr,"/Guard_Dog_Rover_Stratagem_Icon.png"),st_bp_dog_breath:"".concat(wr,"/Guard_Dog_Dog_Breath_Stratagem_Icon.png"),st_bp_directional:"".concat(wr,"/SH-51_Directional_Shield_Stratagem_Icon.png"),st_bp_hellbomb:"".concat(wr,"/Portable_Hellbomb_Stratagem_Icon.png"),st_bp_hover:"".concat(wr,"/Hover_Pack_Stratagem_Icon.png"),st_bp_k9:"".concat(wr,"/AX_ARC-3_%22Guard_Dog%22_K-9_Stratagem_Icon.png"),st_bp_warp:"".concat(wr,"/LIFT-182_Warp_Pack_Stratagem_Icon.png"),st_bp_hotdog:"".concat(wr,"/AX_FLAM-75_%22Guard_Dog%22_Hot_Dog_Stratagem_Icon.png"),st_s_mg:"".concat(wr,"/Machine_Gun_Sentry_Stratagem_Icon.png"),st_s_gat:"".concat(wr,"/Gatling_Sentry_Stratagem_Icon.png"),st_s_mortar:"".concat(wr,"/Mortar_Sentry_Stratagem_Icon.png"),st_s_ems:"".concat(wr,"/AM-23_EMS_Mortar_Sentry_Stratagem_Icon.png"),st_s_ac:"".concat(wr,"/Autocannon_Sentry_Stratagem_Icon.png"),st_s_rocket:"".concat(wr,"/Rocket_Sentry_Stratagem_Icon.png"),st_s_tesla:"".concat(wr,"/Tesla_Tower_Stratagem_Icon.png"),st_s_mines:"".concat(wr,"/Anti-Personnel_Minefield_Stratagem_Icon.png"),st_s_inc_mines:"".concat(wr,"/Incendiary_Mines_Stratagem_Icon.png"),st_s_at_mines:"".concat(wr,"/MD-17_Anti-Tank_Mines_Stratagem_Icon.png"),st_s_flame:"".concat(wr,"/A_FLAM-40_Flame_Sentry_Stratagem_Icon.png"),st_s_at_emp:"".concat(wr,"/E_AT-12_Anti-Tank_Emplacement_Stratagem_Icon.png"),st_s_laser:"".concat(wr,"/A_LAS-98_Laser_Sentry_Stratagem_Icon.png"),st_s_hmg:"".concat(wr,"/HMG_Emplacement_Stratagem_Icon.png"),st_s_shield_relay:"".concat(wr,"/Shield_Generator_Relay_Stratagem_Icon.png"),st_s_grenadier:"".concat(wr,"/GL-21_Grenadier_Battlement_Stratagem_Icon.png"),st_s_gas_mines:"".concat(wr,"/Gas_Minefield_Stratagem_Icon.png"),st_v_frv:"".concat(wr,"/M-102_Fast_Recon_Vehicle_Stratagem_Icon.png"),st_v_patriot:"".concat(wr,"/EXO-45_Patriot_Exosuit_Stratagem_Icon.png"),st_v_emancipator:"".concat(wr,"/EXO-49_Emancipator_Exosuit_Stratagem_Icon.png"),a_sc34:"".concat(wr,"/SC-34_Infiltrator_Body_Icon.png"),a_fs05:"".concat(wr,"/FS-05_Marksman_Body_Icon.png"),a_ce35:"".concat(wr,"/CE-35_Trench_Engineer_Body_Icon.png"),a_cm09:"".concat(wr,"/CM-09_Bonesnapper_Body_Icon.png"),a_fs23:"".concat(wr,"/FS-23_Battle_Master_Body_Icon.png"),a_sc30:"".concat(wr,"/SC-30_Trailblazer_Scout_Body_Icon.png"),a_sa04:"".concat(wr,"/SA-04_Combat_Technician_Body_Icon.png"),a_cm14:"".concat(wr,"/CM-14_Physician_Body_Icon.png"),a_dp11:"".concat(wr,"/DP-11_Champion_of_the_People_Body_Icon.png"),a_b01:"".concat(wr,"/B-01_Tactical_Body_Icon.png"),a_tr40:"".concat(wr,"/TR-40_Gold_Eagle_Body_Icon.png"),a_dp40:"".concat(wr,"/DP-40_Hero_of_the_Federation_Body_Icon.png"),a_sa25:"".concat(wr,"/SA-25_Steel_Trooper_Body_Icon.png"),a_sa12:"".concat(wr,"/SA-12_Servo_Assisted_Body_Icon.png"),a_sa32:"".concat(wr,"/SA-32_Dynamo_Body_Icon.png"),a_ex03:"".concat(wr,"/EX-03_Prototype_3_Body_Icon.png"),a_ex16:"".concat(wr,"/EX-16_Prototype_16_Body_Icon.png"),a_ex00:"".concat(wr,"/EX-00_Prototype_X_Body_Icon.png"),a_ce27:"".concat(wr,"/CE-27_Ground_Breaker_Body_Icon.png"),a_ce07:"".concat(wr,"/CE-07_Demolition_Specialist_Body_Icon.png"),a_fs55:"".concat(wr,"/FS-55_Devastator_Body_Icon.png"),a_cw36:"".concat(wr,"/CW-36_Winter_Warrior_Body_Icon.png"),a_cw22:"".concat(wr,"/CW-22_Kodiak_Body_Icon.png"),a_cw4:"".concat(wr,"/CW-4_Arctic_Ranger_Body_Icon.png"),a_ph9:"".concat(wr,"/PH-9_Predator_Body_Icon.png"),a_ph202:"".concat(wr,"/PH-202_Twigsnapper_Body_Icon.png"),a_i09:"".concat(wr,"/I-09_Heatseeker_Body_Icon.png"),a_i102:"".concat(wr,"/I-102_Draconaught_Body_Icon.png"),a_af50:"".concat(wr,"/AF-50_Noxious_Ranger_Body_Icon.png"),a_af02:"".concat(wr,"/AF-02_Haz-Master_Body_Icon.png"),a_uf50:"".concat(wr,"/UF-50_Bloodhound_Body_Icon.png"),a_uf16:"".concat(wr,"/UF-16_Inspector_Body_Icon.png"),a_sr24:"".concat(wr,"/SR-24_Street_Scout_Body_Icon.png"),a_sr18:"".concat(wr,"/SR-18_Roadblock_Body_Icon.png"),a_ie3:"".concat(wr,"/IE-3_Martyr_Body_Icon.png"),a_ie12:"".concat(wr,"/IE-12_Righteous_Body_Icon.png"),a_gs17:"".concat(wr,"/GS-17_Frontier_Marshal_Body_Icon.png"),a_gs66:"".concat(wr,"/GS-66_Lawmaker_Body_Icon.png"),a_re2310:"".concat(wr,"/RE-2310_Honorary_Guard_Body_Icon.png"),a_re1861:"".concat(wr,"/RE-1861_Parade_Commander_Body_Icon.png"),a_bp20:"".concat(wr,"/BP-20_Correct_Officer_Body_Icon.png"),a_bp32:"".concat(wr,"/BP-32_Jackboot_Body_Icon.png"),a_ad26:"".concat(wr,"/AD-26_Bleeding_Edge_Body_Icon.png"),a_ad49:"".concat(wr,"/AD-49_Apollonian_Body_Icon.png"),a_ds42:"".concat(wr,"/DS-42_Federation%27s_Blade_Body_Icon.png"),a_ds191:"".concat(wr,"/DS-191_Scorpion_Body_Icon.png"),a_rs20:"".concat(wr,"/RS-20_Constrictor_Body_Icon.png"),a_rs40:"".concat(wr,"/RS-40_Beast_of_Prey_Body_Icon.png"),a_rs67:"".concat(wr,"/RS-89_Shadow_Paragon_Body_Armory.png"),a_rs67ns:"".concat(wr,"/RS-67_Null_Cipher_Body_Armory.png"),a_a9:"".concat(wr,"/A-9_Helljumper_Body_Icon.png"),a_a35:"".concat(wr,"/A-35_Recon_Body_Icon.png"),a_ac1:"".concat(wr,"/AC-1_Dutiful_Body_Icon.png"),a_ac2:"".concat(wr,"/AC-2_Obedient_Body_Icon.png"),a_sc37:"".concat(wr,"/SC-37_Legionnaire_Body_Icon.png"),a_ce74:"".concat(wr,"/CE-74_Breaker_Body_Icon.png"),a_fs38:"".concat(wr,"/FS-38_Eradicator_Body_Icon.png"),a_b08:"".concat(wr,"/B-08_Light_Gunner_Body_Icon.png"),a_ds10:"".concat(wr,"/DS-10_Big_Game_Hunter_Body_Icon.png"),a_cm21:"".concat(wr,"/CM-21_Trench_Paramedic_Body_Icon.png"),a_ce67:"".concat(wr,"/CE-67_Titan_Body_Icon.png"),a_fs37:"".concat(wr,"/FS-37_Ravager_Body_Icon.png"),a_ie57:"".concat(wr,"/IE-57_Hell-Bent_Body_Icon.png"),a_gs11:"".concat(wr,"/GS-11_Democracy%27s_Deputy_Body_Icon.png"),a_ad11:"".concat(wr,"/AD-11_Livewire_Body_Icon.png"),a_sc15:"".concat(wr,"/SC-15_Drone_Master_Body_Icon.png"),a_b24:"".concat(wr,"/B-24_Enforcer_Body_Icon.png"),a_ce81:"".concat(wr,"/CE-81_Juggernaut_Body_Icon.png"),a_fs34:"".concat(wr,"/FS-34_Exterminator_Body_Icon.png"),a_cm10:"".concat(wr,"/CM-10_Clinician_Body_Icon.png"),a_cw9:"".concat(wr,"/CW-9_White_Wolf_Body_Icon.png"),a_ph56:"".concat(wr,"/PH-56_Jaguar_Body_Icon.png"),a_i92:"".concat(wr,"/I-92_Fire_Fighter_Body_Icon.png"),a_af91:"".concat(wr,"/AF-91_Field_Chemist_Body_Icon.png"),a_uf84:"".concat(wr,"/UF-84_Doubt_Killer_Body_Icon.png"),a_rs6:"".concat(wr,"/RS-6_Fiend_Destroyer_Body_Icon.png"),a_b27:"".concat(wr,"/B-27_Fortified_Commando_Body_Icon.png"),a_fs61:"".concat(wr,"/FS-61_Dreadnought_Body_Icon.png"),a_fs11:"".concat(wr,"/FS-11_Executioner_Body_Icon.png"),a_cm17:"".concat(wr,"/CM-17_Butcher_Body_Icon.png"),a_ce64:"".concat(wr,"/CE-64_Grenadier_Body_Icon.png"),a_ce101:"".concat(wr,"/CE-101_Guerilla_Gorilla_Body_Icon.png"),a_i44:"".concat(wr,"/I-44_Salamander_Body_Icon.png"),a_af52:"".concat(wr,"/AF-52_Lockdown_Body_Icon.png"),a_sr64:"".concat(wr,"/SR-64_Cinderblock_Body_Icon.png"),a_re824:"".concat(wr,"/RE-824_Bearer_of_the_Standard_Body_Icon.png"),a_bp77:"".concat(wr,"/BP-77_Grand_Juror_Body_Icon.png")},Er=e=>e?Rr[e.id]?Rr[e.id]:(e=>{if(!e)return null;const t=e.replace(/ /g,"_").replace(/&/g,"%26").replace(/'/g,"%27").replace(/"/g,"%22");return"".concat(wr,"/").concat(t,".png")})(e.name):null,Tr=function(e,t,n){var r;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const{players:a,eventPlayerChoice:i,requisition:s,currentDiff:l,gameConfig:c,burnedCards:u}=n,p={};switch(e.type){case $t:const h=(0,br.getRequisitionMultiplier)(c.playerCount,c.subfaction),f=e.value*h;p.requisition=s+f;break;case Xt:case Qt:p.requisition=Math.max(0,s-e.value);break;case Jt:const g=null===c||void 0===c?void 0:c.faction,m=Object.values(En).filter(e=>e!==g),y=m[Math.floor(Math.random()*m.length)];p.needsSubfactionSelection=!0,p.pendingFaction=y;break;case Zt:const b="choose"===e.targetPlayer&&null!==(r=null===o||void 0===o?void 0:o.targetPlayerSelection)&&void 0!==r?r:i;if(null!==b&&void 0!==b){const t=[...a],n=t[b];n.extraDraftCards=(n.extraDraftCards||0)+e.value,p.players=t}break;case en:p.currentDiff=Math.min(10,l+e.value);break;case tn:p.currentDiff=Math.max(1,l-e.value);break;case nn:if("choose"===e.targetPlayer&&null!==i){const e=[...a],t=e[i];t.loadout.stratagems.length>0&&t.loadout.stratagems.pop(),p.players=e}break;case rn:if("random"===e.targetPlayer){if(!a||0===a.length)break;const e=Ar(a,c,u);if(0===e.length)break;const t=a.map((e,t)=>({player:e,index:t})),n=t.filter(e=>{let{player:t}=e;return!t.loadout.booster}),r=n.length>0?n:t,o=r[Math.floor(Math.random()*r.length)],i=e[Math.floor(Math.random()*e.length)],s=[...a],l=s[o.index];l.loadout.booster=i.id,l.inventory.includes(i.id)||l.inventory.push(i.id),p.players=s,p.gainedItems=[{playerIndex:o.index,itemName:i.name}],c.burnCards&&(p.newBurnedCards=[i.id]);break}p.needsBoosterSelection=!0;const _=Ir(a,c,n.burnedCards||[]);p.boosterDraft=_,p.boosterOutcome=e,c.burnCards&&_.length>0&&(p.burnBoosterDraft=_);break;case pn:if(null!==i){const e=[...a],t=e[i],n=dr.filter(e=>e.type===Rn.SECONDARY&&!u.includes(e.id)&&"s_peacemaker"!==e.id);if(n.length>0){const r=n[Math.floor(Math.random()*n.length)];t.loadout.secondary=r.id,p.players=e,p.gainedItemName=r.name,c.burnCards&&(p.newBurnedCards=[r.id])}}break;case hn:if(null!==i){const e=[...a],t=e[i],n=dr.filter(e=>e.type===Rn.THROWABLE&&!u.includes(e.id)&&"g_he"!==e.id);if(n.length>0){const r=n[Math.floor(Math.random()*n.length)];t.loadout.grenade=r.id,p.players=e,p.gainedItemName=r.name,c.burnCards&&(p.newBurnedCards=[r.id])}}break;case fn:if(e.possibleOutcomes&&e.possibleOutcomes.length>0)if(null===i&&a&&a.length>0){const r=[...a],i=[];a.forEach((a,s)=>{const l=e.possibleOutcomes[Math.floor(Math.random()*e.possibleOutcomes.length)],c=d(d({},n),{},{eventPlayerChoice:s,players:r}),u=Tr(l,t,c,o);u.players&&(r[s]=u.players[s]),u.gainedItemName&&i.push({playerIndex:s,itemName:u.gainedItemName}),u.newBurnedCards&&(p.newBurnedCards||(p.newBurnedCards=[]),p.newBurnedCards.push(...u.newBurnedCards))}),p.players=r,i.length>0&&(p.gainedItems=i)}else{const r=e.possibleOutcomes[Math.floor(Math.random()*e.possibleOutcomes.length)],a=Tr(r,t,n,o);Object.assign(p,a)}break;case sn:p.players=Pr(a,i,o);break;case dn:const x=Dr(a[i]);if(p.liquidatedItems=x,x.length>0){const t=Math.ceil(x.length/(e.value||1));p.bonusRequisition=Nr(a[i],e.value),p.needsRedraft=!0,p.redraftPlayerIndex=i,p.redraftCount=t;const n=Or(a,i);n[i].redraftRounds=t,p.players=n}break;case ln:p.players=Lr(a,i,o);break;case cn:const v=o&&null!==o.targetPlayerSelection&&void 0!==o.targetPlayerSelection?o.targetPlayerSelection:"choose"===e.targetPlayer&&null!==i?i:null;if(null!==v){const e=[...a],t=e[v];t.savedStratagems=[...t.loadout.stratagems],t.loadout.stratagems=[null,null,null,null],t.loadout.primary?t.loadout.secondary=null:t.loadout.primary=null,t.weaponRestricted=!0,p.players=e}break;case un:if(null!==i){const t=Mr(a,i,e.value,c,n.burnedCards||[]);p.players=t.players,p.transformedSlots=t.transformedSlots,t.burnedCards.length>0&&(p.newBurnedCards=t.burnedCards)}break;case on:if("choose"===e.targetPlayer&&null!==i){const e=[...a],t=e[i],n=[];if(t.loadout.primary&&n.push({type:"primary",id:t.loadout.primary,slot:"primary"}),t.loadout.secondary&&n.push({type:"secondary",id:t.loadout.secondary,slot:"secondary"}),t.loadout.grenade&&n.push({type:"grenade",id:t.loadout.grenade,slot:"grenade"}),t.loadout.stratagems.forEach((e,t)=>{e&&n.push({type:"stratagem",id:e,slot:t})}),n.length>0){const e=Math.floor(Math.random()*n.length),r=n[e],o=dr.find(e=>e.id===r.id);p.removedItemName=o?o.name:"Unknown Item",p.removedItemType=r.type,"stratagem"===r.type?t.loadout.stratagems[r.slot]=null:t.loadout[r.slot]=null;const a=t.inventory.indexOf(r.id);-1!==a&&t.inventory.splice(a,1);const i=jr(t.loadout,t.inventory);t.loadout=i.loadout,t.inventory=i.inventory}p.players=e}break;case gn:if(a&&a.length>0){const e=[...a];e.forEach(e=>{const t=dr.filter(t=>t.type===Rn.ARMOR&&t.armorClass===Nn&&(!u.includes(t.id)&&(!(e.warbonds&&e.warbonds.length>0)||(!(!t.warbond||!e.warbonds.includes(t.warbond))||(!(!t.superstore||!e.includeSuperstore)||!t.warbond&&!t.superstore)))));if(t.length>0){const n=t[Math.floor(Math.random()*t.length)];e.loadout.armor=n.id,e.inventory.includes(n.id)||e.inventory.push(n.id)}}),p.players=e,p.needsSpecialDraft=!0,p.specialDraftType="throwable"}break;case mn:if(a&&a.length>0){const e=[...a];e.forEach(e=>{const t=dr.filter(t=>t.type===Rn.ARMOR&&t.armorClass===zn&&(!u.includes(t.id)&&(!(e.warbonds&&e.warbonds.length>0)||(!(!t.warbond||!e.warbonds.includes(t.warbond))||(!(!t.superstore||!e.includeSuperstore)||!t.warbond&&!t.superstore)))));if(t.length>0){const n=t[Math.floor(Math.random()*t.length)];e.loadout.armor=n.id,e.inventory.includes(n.id)||e.inventory.push(n.id)}}),p.players=e,p.needsSpecialDraft=!0,p.specialDraftType="secondary"}break;case yn:if(null!==i&&a&&a.length>0){const e=a[i],t=[...a];t.forEach((t,n)=>{n!==i&&(t.loadout.primary=e.loadout.primary,t.loadout.secondary=e.loadout.secondary,t.loadout.grenade=e.loadout.grenade,t.loadout.armor=e.loadout.armor,t.loadout.stratagems=[...e.loadout.stratagems])}),p.players=t,p.synchronizedLoadout=!0}break;case bn:if(a&&a.length>0){const e=[...a];e.forEach((e,t)=>{const n=t=>{const n=dr.find(e=>e.id===t);return!!n&&(!!(n.warbond&&e.warbonds&&e.warbonds.includes(n.warbond))||!(!n.superstore||!e.includeSuperstore))};e.loadout.primary="p_constitution",e.inventory.includes("p_constitution")||e.inventory.push("p_constitution"),0===t?n("s_senator")&&(e.loadout.secondary="s_senator",e.inventory.includes("s_senator")||e.inventory.push("s_senator")):n("s_saber")&&(e.loadout.secondary="s_saber",e.inventory.includes("s_saber")||e.inventory.push("s_saber")),0===t?n("a_re1861")&&(e.loadout.armor="a_re1861",e.inventory.includes("a_re1861")||e.inventory.push("a_re1861")):n("a_re2310")&&(e.loadout.armor="a_re2310",e.inventory.includes("a_re2310")||e.inventory.push("a_re2310")),e.loadout.stratagems=[null,null,null,null],0===t&&n("st_flag")&&(e.loadout.stratagems[0]="st_flag",e.inventory.includes("st_flag")||e.inventory.push("st_flag"))}),p.players=e,p.ceremonialLoadoutApplied=!0}}return p},kr=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o={};return t&&t.requiresRequisition&&(o.requisition=Math.max(0,n.requisition-t.requiresRequisition)),e.forEach(e=>{const a=Tr(e,t,d(d({},n),o),r);a.newBurnedCards&&(o.newBurnedCards=[...o.newBurnedCards||[],...a.newBurnedCards],delete a.newBurnedCards),a.gainedItems&&(o.gainedItems=[...o.gainedItems||[],...a.gainedItems],delete a.gainedItems),Object.assign(o,a)}),o},Ar=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=dr.filter(e=>e.type===Rn.BOOSTER);if(0===r.length)return[];const o=new Set;return e.forEach(e=>{e.loadout.booster&&o.add(e.loadout.booster)}),r=r.filter(e=>!o.has(e.id)),t.burnCards&&n.length>0&&(r=r.filter(e=>!n.includes(e.id))),r},Ir=function(){const e=Ar(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2&&void 0!==arguments[2]?arguments[2]:[]);if(0===e.length)return[];const t=[...e].sort(()=>Math.random()-.5);return t.slice(0,Math.min(2,t.length)).map(e=>e.id)},Pr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.length<=1||null===t)return e;const{stratagemSelection:r,targetPlayerSelection:o,targetStratagemSelection:a}=n;if(r&&null!==o&&void 0!==o){const t=[...e],{stratagemId:n}=r;if(a){const{stratagemSlotIndex:e}=a;t[o].loadout.stratagems[e]=n,t[o].inventory.includes(n)||t[o].inventory.push(n)}else{const e=Sr(t[o].loadout);-1!==e&&(t[o].loadout.stratagems[e]=n,t[o].inventory.includes(n)||t[o].inventory.push(n))}return t}const i=e[t].loadout.stratagems.filter(e=>null!==e);if(0===i.length)return e;const s=i[Math.floor(Math.random()*i.length)],l=e.map((e,t)=>({player:e,idx:t})).filter((e,n)=>n!==t);if(0===l.length)return e;const c=l[Math.floor(Math.random()*l.length)],d=[...e],u=Sr(d[c.idx].loadout);return-1!==u&&(d[c.idx].loadout.stratagems[u]=s,d[c.idx].inventory.push(s)),d},Mr=(e,t,n,r,o)=>{if(null===t)return{players:e,transformedSlots:[],burnedCards:[]};const a=[...e],i=a[t],s=[],l=[],c=r.burnMode,d=[];i.loadout.primary&&d.push({slot:"primary",type:Rn.PRIMARY,current:i.loadout.primary}),i.loadout.secondary&&d.push({slot:"secondary",type:Rn.SECONDARY,current:i.loadout.secondary}),i.loadout.grenade&&d.push({slot:"grenade",type:Rn.GRENADE,current:i.loadout.grenade}),i.loadout.armor&&d.push({slot:"armor",type:Rn.ARMOR,current:i.loadout.armor}),i.loadout.booster&&d.push({slot:"booster",type:Rn.BOOSTER,current:i.loadout.booster}),i.loadout.stratagems.forEach((e,t)=>{e&&d.push({slot:"stratagem_".concat(t),slotIndex:t,type:Rn.STRATAGEM,current:e})});const u=[...d].sort(()=>Math.random()-.5),p=-1===n?u.length:Math.min(n,u.length),h=[...o];for(let f=0;f<p;f++){const e=u[f],t=dr.filter(t=>t.type===e.type&&(!c||!h.includes(t.id)));if(t.length>0){const n=t[Math.floor(Math.random()*t.length)],r=dr.find(t=>t.id===e.current);"primary"===e.slot?i.loadout.primary=n.id:"secondary"===e.slot?i.loadout.secondary=n.id:"grenade"===e.slot?i.loadout.grenade=n.id:"armor"===e.slot?i.loadout.armor=n.id:"booster"===e.slot?i.loadout.booster=n.id:e.slot.startsWith("stratagem_")&&(i.loadout.stratagems[e.slotIndex]=n.id);const o=i.inventory.indexOf(e.current);-1!==o&&i.inventory.splice(o,1),i.inventory.includes(n.id)||i.inventory.push(n.id),s.push({slot:e.slot,oldItem:r?r.name:"Unknown",newItem:n.name}),c&&!h.includes(n.id)&&(h.push(n.id),l.push(n.id))}}return{players:a,transformedSlots:s,burnedCards:l}},jr=(e,t)=>{const n=d({},e),r=[...t];return n.armor||(n.armor="a_b01",r.includes("a_b01")||r.push("a_b01")),n.primary||n.secondary||(n.secondary="s_peacemaker",r.includes("s_peacemaker")||r.push("s_peacemaker")),{loadout:n,inventory:r}},Dr=e=>{if(!e)return[];const t=[];if(e.loadout.primary&&e.loadout.primary!==ur.primary){const n=dr.find(t=>t.id===e.loadout.primary);n&&t.push(n.name)}if(e.loadout.secondary&&e.loadout.secondary!==ur.secondary){const n=dr.find(t=>t.id===e.loadout.secondary);n&&t.push(n.name)}if(e.loadout.grenade&&e.loadout.grenade!==ur.grenade){const n=dr.find(t=>t.id===e.loadout.grenade);n&&t.push(n.name)}if(e.loadout.armor&&e.loadout.armor!==ur.armor){const n=dr.find(t=>t.id===e.loadout.armor);n&&t.push(n.name)}return e.loadout.stratagems.forEach(e=>{if(e){const n=dr.find(t=>t.id===e);n&&t.push(n.name)}}),e.inventory.forEach(n=>{if(!(n===e.loadout.primary||n===e.loadout.secondary||n===e.loadout.grenade||n===e.loadout.armor||n===e.loadout.booster||e.loadout.stratagems.includes(n))){const e=dr.find(e=>e.id===n);e&&t.push(e.name)}}),t},Or=(e,t)=>{if(null===t)return e;const n=e[t],r=[...e],o={primary:ur.primary,secondary:ur.secondary,grenade:ur.grenade,armor:ur.armor,booster:n.loadout.booster,stratagems:[...ur.stratagems]},a=[ur.secondary,ur.grenade,ur.armor].filter(e=>null!==e);n.loadout.booster&&!a.includes(n.loadout.booster)&&a.push(n.loadout.booster);const{loadout:i,inventory:s}=jr(o,a);return r[t]=d(d({},n),{},{inventory:s,loadout:i}),r},Nr=(e,t)=>{if(!e)return 0;const n=e.inventory.length;return Math.ceil(n/(t||1))},Lr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.length<=1)return e;const{sourcePlayerSelection:r,stratagemSelection:o,targetPlayerSelection:a,targetStratagemSelection:i}=n,s=null!==r&&void 0!==r?r:t;if(o&&null!==a&&void 0!==a&&i&&null!==s){const t=[...e],{stratagemSlotIndex:n}=o,{stratagemSlotIndex:r}=i,l=t[s].loadout.stratagems[n];return t[s].loadout.stratagems[n]=t[a].loadout.stratagems[r],t[a].loadout.stratagems[r]=l,t}if(o&&null!==a&&void 0!==a&&null!==s){const t=[...e],{stratagemSlotIndex:n}=o,r=t[a].loadout.stratagems.map((e,t)=>({stratagem:e,idx:t})).filter(e=>null!==e.stratagem);if(0===r.length)return e;const i=r[0],l=t[s].loadout.stratagems[n];return t[s].loadout.stratagems[n]=t[a].loadout.stratagems[i.idx],t[a].loadout.stratagems[i.idx]=l,t}const l=e[t].loadout.stratagems.map((e,t)=>({stratagem:e,idx:t})).filter(e=>null!==e.stratagem);if(0===l.length)return e;const c=e.map((e,t)=>({player:e,idx:t})).filter((e,n)=>n!==t);if(0===c.length)return e;const d=c[Math.floor(Math.random()*c.length)],u=d.player.loadout.stratagems.map((e,t)=>({stratagem:e,idx:t})).filter(e=>null!==e.stratagem);if(0===u.length)return e;const p=l[Math.floor(Math.random()*l.length)],h=u[Math.floor(Math.random()*u.length)],f=[...e],g=f[t].loadout.stratagems[p.idx];return f[t].loadout.stratagems[p.idx]=f[d.idx].loadout.stratagems[h.idx],f[d.idx].loadout.stratagems[h.idx]=g,f},zr=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e.requiresRequisition&&t<e.requiresRequisition)return!1;if(e.outcomes&&e.outcomes.some(e=>e.type===dn)&&n&&null!==r&&n[r]){if(0===Dr(n[r]).length)return!1}return!0},Br=e=>{switch(e.type){case $t:return"+".concat(e.value," Requisition");case Xt:case Qt:return"-".concat(e.value," Requisition");case Jt:return"Switch to different theater";case Zt:return"Draft ".concat(e.value," extra card").concat(e.value>1?"s":"");case en:return"Skip ".concat(e.value," difficulty level").concat(e.value>1?"s":"");case tn:return"Replay current difficulty";case nn:return"Remove a ".concat(e.value);case rn:const t="all"===e.targetPlayer?"(All Helldivers)":"";return"Gain random Booster ".concat(t);case pn:return"Gain random Secondary";case hn:return"Gain random Throwable";case fn:if(e.possibleOutcomes&&e.possibleOutcomes.length>0){return e.possibleOutcomes.map(e=>Br(e)).join(" OR ")}return"Random outcome";case on:return"Remove an item";case an:return"Gain specific item";case sn:return"Copy stratagem to another Helldiver";case ln:return"Swap stratagem with another Helldiver";case cn:return"Use only 1 weapon next mission (no stratagems)";case dn:return"Redraft: Discard all items, draft ".concat(e.value?Math.ceil(1/e.value):1,"x per discarded");case un:return-1===e.value?"Transform entire loadout randomly":"Transform ".concat(e.value," random item").concat(e.value>1?"s":"");case gn:return"All Helldivers: Random Light Armor + Choose Throwable";case mn:return"All Helldivers: Random Heavy Armor + Choose Secondary";case yn:return"Duplicate chosen Helldiver's loadout to all";case bn:return"Equip full ceremonial parade loadout";default:return""}},Fr=e=>e&&0!==e.length?e.map(Br).filter(e=>e).join(", "):"No effect",Wr=e=>!(!e||"single"!==e.targetPlayer||!e.choices)&&e.choices.some(e=>!(!e.outcomes||!Array.isArray(e.outcomes))&&e.outcomes.some(e=>"choose"===e.targetPlayer||!(!e.possibleOutcomes||!Array.isArray(e.possibleOutcomes))&&e.possibleOutcomes.some(e=>"choose"===e.targetPlayer))),Ur=e=>{const t=(e=>({phase:e.phase,gameConfig:e.gameConfig,currentDiff:e.currentDiff,requisition:e.requisition,samples:e.samples,burnedCards:e.burnedCards,players:e.players,draftState:e.draftState,eventsEnabled:e.eventsEnabled,currentEvent:e.currentEvent,eventPlayerChoice:e.eventPlayerChoice,seenEvents:e.seenEvents,customSetup:e.customSetup,selectedPlayer:e.selectedPlayer,exportedAt:(new Date).toISOString()}))(e),n=JSON.stringify(t,null,2),r=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(r),a=document.createElement("a");a.href=o,a.download="helldrafters-save-".concat((new Date).toISOString().split("T")[0],".json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(o)},Hr=!1,Yr=!1,Gr="${JSCORE_VERSION}",qr=function(e,t){if(!e)throw Vr(t)},Vr=function(e){return new Error("Firebase Database ("+Gr+") INTERNAL ASSERT FAILED: "+e)},Kr=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):55296===(64512&o)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++r)),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},$r={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<e.length;o+=3){const t=e[o],a=o+1<e.length,i=a?e[o+1]:0,s=o+2<e.length,l=s?e[o+2]:0,c=t>>2,d=(3&t)<<4|i>>4;let u=(15&i)<<2|l>>6,p=63&l;s||(p=64,a||(u=64)),r.push(n[c],n[d],n[u],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Kr(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const o=e[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const a=e[n++];t[r++]=String.fromCharCode((31&o)<<6|63&a)}else if(o>239&&o<365){const a=((7&o)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],i=e[n++];t[r++]=String.fromCharCode((15&o)<<12|(63&a)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<e.length;){const t=n[e.charAt(o++)],a=o<e.length?n[e.charAt(o)]:0;++o;const i=o<e.length?n[e.charAt(o)]:64;++o;const s=o<e.length?n[e.charAt(o)]:64;if(++o,null==t||null==a||null==i||null==s)throw new Xr;const l=t<<2|a>>4;if(r.push(l),64!==i){const e=a<<4&240|i>>2;if(r.push(e),64!==s){const e=i<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Xr extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Qr=function(e){const t=Kr(e);return $r.encodeByteArray(t,!0)},Jr=function(e){return Qr(e).replace(/\./g,"")},Zr=function(e){try{return $r.decodeString(e,!0)}catch(Em){console.error("base64Decode failed: ",Em)}return null};function eo(e){return to(void 0,e)}function to(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&no(n)&&(e[n]=to(e[n],t[n]));return e}function no(e){return"__proto__"!==e}const ro=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,oo=()=>{try{return ro()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/helldrafters",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_TIME:"2026-01-23T18:06:02+11:00",REACT_APP_COMMIT_SHA:"53f7b6a05b5e764bc7c0e86988d33a71e5133c33",REACT_APP_FIREBASE_API_KEY:"AIzaSyARJLpsPz2mv9BMnOU5kOO9bPfw7XcCLqA",REACT_APP_FIREBASE_AUTH_DOMAIN:"helldrafters.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://helldrafters-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_PROJECT_ID:"helldrafters",REACT_APP_FIREBASE_STORAGE_BUCKET:"helldrafters.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"939935234211",REACT_APP_FIREBASE_APP_ID:"1:939935234211:web:714e4ab600a05445116716"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Em){return}const t=e&&Zr(e[1]);return t&&JSON.parse(t)})()}catch(Em){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(Em))}},ao=e=>{const t=(e=>{var t;return null===(t=oo())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},io=()=>{var e;return null===(e=oo())||void 0===e?void 0:e.config};class so{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function lo(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}const co={};let uo=!1;function po(e,t){if("undefined"===typeof window||"undefined"===typeof document||!lo(window.location.host)||co[e]===t||co[e]||uo)return;function n(e){return"__firebase__banner__".concat(e)}co[e]=t;const r="__firebase__banner",o=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(co))co[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{uo=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function i(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),i=document.getElementById(t)||document.createElement("span"),s=n("learnmore"),l=document.getElementById(s)||document.createElement("a"),c=n("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,s);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,c),t.append(d,i,l,n),document.body.appendChild(t)}o?(i.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',i.innerText="Preview backend running in this workspace."),i.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",i):i()}function ho(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function fo(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ho())}function go(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function mo(){return!0===Hr||!0===Yr}function yo(){try{return"object"===typeof indexedDB}catch(Em){return!1}}function bo(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var e;t((null===(e=o.error)||void 0===e?void 0:e.message)||"")}}catch(Xs){t(Xs)}})}function _o(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}class xo extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,xo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vo.prototype.create)}}class vo{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],o=r?function(e,t){return e.replace(So,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(o," (").concat(n,").");return new xo(n,a,t)}}const So=/\{\$([^}]+)}/g;function Co(e){return JSON.parse(e)}function wo(e){return JSON.stringify(e)}const Ro=function(e){let t={},n={},r={},o="";try{const a=e.split(".");t=Co(Zr(a[0])||""),n=Co(Zr(a[1])||""),o=a[2],r=n.d||{},delete n.d}catch(Em){}return{header:t,claims:n,data:r,signature:o}};function Eo(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function To(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ko(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ao(e,t,n){const r={};for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o],o,e));return r}function Io(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const n=e[o],a=t[o];if(Po(n)&&Po(a)){if(!Io(n,a))return!1}else if(n!==a)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function Po(e){return null!==e&&"object"===typeof e}class Mo{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let d=0;d<16;d++)n[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)n[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const e=n[d-3]^n[d-8]^n[d-14]^n[d-16];n[d]=4294967295&(e<<1|e>>>31)}let r,o,a=this.chain_[0],i=this.chain_[1],s=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(r=l^i&(s^l),o=1518500249):(r=i^s^l,o=1859775393):d<60?(r=i&s|l&(i|s),o=2400959708):(r=i^s^l,o=3395469782);const e=(a<<5|a>>>27)+r+c+o+n[d]&4294967295;c=l,l=s,s=4294967295&(i<<30|i>>>2),i=a,a=e}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const o=this.buf_;let a=this.inbuf_;for(;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(o[a]=e.charCodeAt(r),++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}else for(;r<t;)if(o[a]=e[r],++a,++r,a===this.blockSize){this.compress_(o),a=0;break}}this.inbuf_=a,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function jo(e,t){return"".concat(e," failed: ").concat(t," argument ")}const Do=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Oo(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function No(e){return e&&e._delegate?e._delegate:e}class Lo{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const zo="[DEFAULT]";class Bo{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new so;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Em){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Em){if(r)return null;throw Em}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:zo})}catch(Em){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Em){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zo;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zo;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zo;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(o)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),o=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;o.add(e),this.onInitCallbacks.set(r,o);const a=this.instances.get(r);return a&&e(a,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(o=t,o===zo?void 0:o),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var o;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zo;return this.component?this.component.multipleInstances?e:zo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fo{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Bo(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Wo=[];var Uo;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Uo||(Uo={}));const Ho={debug:Uo.DEBUG,verbose:Uo.VERBOSE,info:Uo.INFO,warn:Uo.WARN,error:Uo.ERROR,silent:Uo.SILENT},Yo=Uo.INFO,Go={[Uo.DEBUG]:"log",[Uo.VERBOSE]:"log",[Uo.INFO]:"info",[Uo.WARN]:"warn",[Uo.ERROR]:"error"},qo=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Go[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var o=arguments.length,a=new Array(o>2?o-2:0),i=2;i<o;i++)a[i-2]=arguments[i];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class Vo{constructor(e){this.name=e,this._logLevel=Yo,this._logHandler=qo,this._userLogHandler=null,Wo.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Uo))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ho[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Uo.DEBUG,...t),this._logHandler(this,Uo.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Uo.VERBOSE,...t),this._logHandler(this,Uo.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Uo.INFO,...t),this._logHandler(this,Uo.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Uo.WARN,...t),this._logHandler(this,Uo.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Uo.ERROR,...t),this._logHandler(this,Uo.ERROR,...t)}}let Ko,$o;const Xo=new WeakMap,Qo=new WeakMap,Jo=new WeakMap,Zo=new WeakMap,ea=new WeakMap;let ta={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Qo.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Jo.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return oa(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function na(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?($o||($o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(aa(this),n),oa(Xo.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oa(e.apply(aa(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];const a=e.call(aa(this),t,...r);return Jo.set(a,t.sort?t.sort():[t]),oa(a)}}function ra(e){return"function"===typeof e?na(e):(e instanceof IDBTransaction&&function(e){if(Qo.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",a),e.removeEventListener("abort",a)},o=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",a),e.addEventListener("abort",a)});Qo.set(e,t)}(e),t=e,(Ko||(Ko=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,ta):e);var t}function oa(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",a)},o=()=>{t(oa(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&Xo.set(t,e)}).catch(()=>{}),ea.set(t,e),t}(e);if(Zo.has(e))return Zo.get(e);const t=ra(e);return t!==e&&(Zo.set(e,t),ea.set(t,e)),t}const aa=e=>ea.get(e);function ia(e,t){let{blocked:n,upgrade:r,blocking:o,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=indexedDB.open(e,t),s=oa(i);return r&&i.addEventListener("upgradeneeded",e=>{r(oa(i.result),e.oldVersion,e.newVersion,oa(i.transaction),e)}),n&&i.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener("close",()=>a()),o&&e.addEventListener("versionchange",e=>o(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}const sa=["get","getKey","getAll","getAllKeys","count"],la=["put","add","delete","clear"],ca=new Map;function da(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ca.get(t))return ca.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=la.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!sa.includes(n))return;const a=async function(e){const t=this.transaction(e,o?"readwrite":"readonly");let a=t.store;for(var i=arguments.length,s=new Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),o&&t.done]))[0]};return ca.set(t,a),a}ta=(e=>d(d({},e),{},{get:(t,n,r)=>da(t,n)||e.get(t,n,r),has:(t,n)=>!!da(t,n)||e.has(t,n)}))(ta);class ua{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const pa="@firebase/app",ha="0.14.7",fa=new Vo("@firebase/app"),ga="@firebase/app-compat",ma="@firebase/analytics-compat",ya="@firebase/analytics",ba="@firebase/app-check-compat",_a="@firebase/app-check",xa="@firebase/auth",va="@firebase/auth-compat",Sa="@firebase/database",Ca="@firebase/data-connect",wa="@firebase/database-compat",Ra="@firebase/functions",Ea="@firebase/functions-compat",Ta="@firebase/installations",ka="@firebase/installations-compat",Aa="@firebase/messaging",Ia="@firebase/messaging-compat",Pa="@firebase/performance",Ma="@firebase/performance-compat",ja="@firebase/remote-config",Da="@firebase/remote-config-compat",Oa="@firebase/storage",Na="@firebase/storage-compat",La="@firebase/firestore",za="@firebase/ai",Ba="@firebase/firestore-compat",Fa="firebase",Wa="[DEFAULT]",Ua={[pa]:"fire-core",[ga]:"fire-core-compat",[ya]:"fire-analytics",[ma]:"fire-analytics-compat",[_a]:"fire-app-check",[ba]:"fire-app-check-compat",[xa]:"fire-auth",[va]:"fire-auth-compat",[Sa]:"fire-rtdb",[Ca]:"fire-data-connect",[wa]:"fire-rtdb-compat",[Ra]:"fire-fn",[Ea]:"fire-fn-compat",[Ta]:"fire-iid",[ka]:"fire-iid-compat",[Aa]:"fire-fcm",[Ia]:"fire-fcm-compat",[Pa]:"fire-perf",[Ma]:"fire-perf-compat",[ja]:"fire-rc",[Da]:"fire-rc-compat",[Oa]:"fire-gcs",[Na]:"fire-gcs-compat",[La]:"fire-fst",[Ba]:"fire-fst-compat",[za]:"fire-vertex","fire-js":"fire-js",[Fa]:"fire-js-all"},Ha=new Map,Ya=new Map,Ga=new Map;function qa(e,t){try{e.container.addComponent(t)}catch(Em){fa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),Em)}}function Va(e){const t=e.name;if(Ga.has(t))return fa.debug("There were multiple attempts to register component ".concat(t,".")),!1;Ga.set(t,e);for(const n of Ha.values())qa(n,e);for(const n of Ya.values())qa(n,e);return!0}function Ka(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const $a=new vo("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xa{constructor(e,t,n){this._isDeleted=!1,this._options=d({},e),this._config=d({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $a.create("app-deleted",{appName:this._name})}}function Qa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=d({name:Wa,automaticDataCollectionEnabled:!0},t),o=r.name;if("string"!==typeof o||!o)throw $a.create("bad-app-name",{appName:String(o)});if(n||(n=io()),!n)throw $a.create("no-options");const a=Ha.get(o);if(a){if(Io(n,a.options)&&Io(r,a.config))return a;throw $a.create("duplicate-app",{appName:o})}const i=new Fo(o);for(const l of Ga.values())i.addComponent(l);const s=new Xa(n,r,i);return Ha.set(o,s),s}function Ja(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wa;const t=Ha.get(e);if(!t&&e===Wa&&io())return Qa();if(!t)throw $a.create("no-app",{appName:e});return t}function Za(e,t,n){var r;let o=null!==(r=Ua[e])&&void 0!==r?r:e;n&&(o+="-".concat(n));const a=o.match(/\s|\//),i=t.match(/\s|\//);if(a||i){const e=['Unable to register library "'.concat(o,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(o,'" contains illegal characters (whitespace or "/")')),a&&i&&e.push("and"),i&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fa.warn(e.join(" "))}Va(new Lo("".concat(o,"-version"),()=>({library:o,version:t}),"VERSION"))}const ei="firebase-heartbeat-store";let ti=null;function ni(){return ti||(ti=ia("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ei)}catch(Em){console.warn(Em)}}}).catch(e=>{throw $a.create("idb-open",{originalErrorMessage:e.message})})),ti}async function ri(e,t){try{const n=(await ni()).transaction(ei,"readwrite"),r=n.objectStore(ei);await r.put(t,oi(e)),await n.done}catch(Em){if(Em instanceof xo)fa.warn(Em.message);else{const t=$a.create("idb-set",{originalErrorMessage:null===Em||void 0===Em?void 0:Em.message});fa.warn(t.message)}}}function oi(e){return"".concat(e.name,"!").concat(e.options.appId)}class ai{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new si(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=ii();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(Em){fa.warn(Em)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=ii(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const o of e){const e=n.find(e=>e.agent===o.agent);if(e){if(e.dates.push(o.date),li(n)>t){e.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),li(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),o=Jr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(Em){return fa.warn(Em),""}}}function ii(){return(new Date).toISOString().substring(0,10)}class si{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!yo()&&bo().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ni()).transaction(ei),n=await t.objectStore(ei).get(oi(e));return await t.done,n}catch(Em){if(Em instanceof xo)fa.warn(Em.message);else{const t=$a.create("idb-get",{originalErrorMessage:null===Em||void 0===Em?void 0:Em.message});fa.warn(t.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ri(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function li(e){return Jr(JSON.stringify({version:2,heartbeats:e})).length}var ci;ci="",Va(new Lo("platform-logger",e=>new ua(e),"PRIVATE")),Va(new Lo("heartbeat",e=>new ai(e),"PRIVATE")),Za(pa,ha,ci),Za(pa,ha,"esm2020"),Za("fire-js","");const di="@firebase/installations",ui="0.6.19",pi=1e4,hi="w:".concat(ui),fi="FIS_v2",gi=36e5,mi=new vo("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function yi(e){return e instanceof xo&&e.code.includes("request-failed")}function bi(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function _i(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function xi(e,t){const n=(await t.json()).error;return mi.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function vi(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Si(e,t){let{refreshToken:n}=t;const r=vi(e);return r.append("Authorization",function(e){return"".concat(fi," ").concat(e)}(n)),r}async function Ci(e){const t=await e();return t.status>=500&&t.status<600?e():t}function wi(e){return new Promise(t=>{setTimeout(t,e)})}const Ri=/^[cdef][\w-]{21}$/;function Ei(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Ri.test(t)?t:""}catch(e){return""}}function Ti(e){return"".concat(e.appName,"!").concat(e.appId)}const ki=new Map;function Ai(e,t){const n=Ti(e);Ii(n,t),function(e,t){const n=Mi();n&&n.postMessage({key:e,fid:t});ji()}(n,t)}function Ii(e,t){const n=ki.get(e);if(n)for(const r of n)r(t)}let Pi=null;function Mi(){return!Pi&&"BroadcastChannel"in self&&(Pi=new BroadcastChannel("[Firebase] FID Change"),Pi.onmessage=e=>{Ii(e.data.key,e.data.fid)}),Pi}function ji(){0===ki.size&&Pi&&(Pi.close(),Pi=null)}const Di="firebase-installations-store";let Oi=null;function Ni(){return Oi||(Oi=ia("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Di)}})),Oi}async function Li(e,t){const n=Ti(e),r=(await Ni()).transaction(Di,"readwrite"),o=r.objectStore(Di),a=await o.get(n);return await o.put(t,n),await r.done,a&&a.fid===t.fid||Ai(e,t.fid),t}async function zi(e){const t=Ti(e),n=(await Ni()).transaction(Di,"readwrite");await n.objectStore(Di).delete(t),await n.done}async function Bi(e,t){const n=Ti(e),r=(await Ni()).transaction(Di,"readwrite"),o=r.objectStore(Di),a=await o.get(n),i=t(a);return void 0===i?await o.delete(n):await o.put(i,n),await r.done,!i||a&&a.fid===i.fid||Ai(e,i.fid),i}async function Fi(e){let t;const n=await Bi(e.appConfig,n=>{const r=function(e){const t=e||{fid:Ei(),registrationStatus:0};return Hi(t)}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(mi.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:o}=t;const a=bi(n),i=vi(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const l={fid:o,authVersion:fi,appId:n.appId,sdkVersion:hi},c={method:"POST",headers:i,body:JSON.stringify(l)},d=await Ci(()=>fetch(a,c));if(d.ok){const e=await d.json();return{fid:e.fid||o,registrationStatus:2,refreshToken:e.refreshToken,authToken:_i(e.authToken)}}throw await xi("Create Installation",d)}(e,t);return Li(e.appConfig,n)}catch(Em){throw yi(Em)&&409===Em.customData.serverCode?await zi(e.appConfig):await Li(e.appConfig,{fid:t.fid,registrationStatus:0}),Em}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Wi(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Wi(e){let t=await Ui(e.appConfig);for(;1===t.registrationStatus;)await wi(100),t=await Ui(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Fi(e);return n||t}return t}function Ui(e){return Bi(e,e=>{if(!e)throw mi.create("installation-not-found");return Hi(e)})}function Hi(e){return 1===(t=e).registrationStatus&&t.registrationTime+pi<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Yi(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const o=function(e,t){let{fid:n}=t;return"".concat(bi(e),"/").concat(n,"/authTokens:generate")}(n,t),a=Si(n,t),i=r.getImmediate({optional:!0});if(i){const e=await i.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const s={installation:{sdkVersion:hi,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(s)},c=await Ci(()=>fetch(o,l));if(c.ok){return _i(await c.json())}throw await xi("Generate Auth Token",c)}async function Gi(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Bi(e.appConfig,r=>{if(!Vi(r))throw mi.create("not-registered");const o=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+gi}(e)}(o))return r;if(1===o.requestStatus)return t=async function(e,t){let n=await qi(e.appConfig);for(;1===n.authToken.requestStatus;)await wi(100),n=await qi(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Gi(e,t):r}(e,n),r;{if(!navigator.onLine)throw mi.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return d(d({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await Yi(e,t),r=d(d({},t),{},{authToken:n});return await Li(e.appConfig,r),n}catch(Em){if(!yi(Em)||401!==Em.customData.serverCode&&404!==Em.customData.serverCode){const n=d(d({},t),{},{authToken:{requestStatus:0}});await Li(e.appConfig,n)}else await zi(e.appConfig);throw Em}}(e,n),n}});return t?await t:r.authToken}function qi(e){return Bi(e,e=>{if(!Vi(e))throw mi.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+pi<Date.now()?d(d({},e),{},{authToken:{requestStatus:0}}):e;var n})}function Vi(e){return void 0!==e&&2===e.registrationStatus}async function Ki(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Fi(e);t&&await t}(n);return(await Gi(n,t)).token}function $i(e){return mi.create("missing-app-config-values",{valueName:e})}const Xi="installations",Qi=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw $i("App Configuration");if(!e.name)throw $i("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw $i(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Ka(t,"heartbeat"),_delete:()=>Promise.resolve()}},Ji=e=>{const t=Ka(e.getProvider("app").getImmediate(),Xi).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Fi(t);return r?r.catch(console.error):Gi(t).catch(console.error),n.fid}(t),getToken:e=>Ki(t,e)}};Va(new Lo(Xi,Qi,"PUBLIC")),Va(new Lo("installations-internal",Ji,"PRIVATE")),Za(di,ui),Za(di,ui,"esm2020");const Zi="analytics",es="https://www.googletagmanager.com/gtag/js",ts=new Vo("@firebase/analytics"),ns=new vo("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rs(e){if(!e.startsWith(es)){const t=ns.create("invalid-gtag-resource",{gtagURL:e});return ts.warn(t.message),""}return e}function os(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function as(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:rs}),r=document.createElement("script"),o="".concat(es,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function is(e,t,n,r){return async function(o){try{for(var a=arguments.length,i=new Array(a>1?a-1:0),s=1;s<a;s++)i[s-1]=arguments[s];if("event"===o){const[r,o]=i;await async function(e,t,n,r,o){try{let a=[];if(o&&o.send_to){let e=o.send_to;Array.isArray(e)||(e=[e]);const r=await os(n);for(const n of e){const e=r.find(e=>e.measurementId===n),o=e&&t[e.appId];if(!o){a=[];break}a.push(o)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,o||{})}catch(Em){ts.error(Em)}}(e,t,n,r,o)}else if("config"===o){const[o,a]=i;await async function(e,t,n,r,o,a){const i=r[o];try{if(i)await t[i];else{const e=(await os(n)).find(e=>e.measurementId===o);e&&await t[e.appId]}}catch(Em){ts.error(Em)}e("config",o,a)}(e,t,n,r,o,a)}else if("consent"===o){const[t,n]=i;e("consent",t,n)}else if("get"===o){const[t,n,r]=i;e("get",t,n,r)}else if("set"===o){const[t]=i;e("set",t)}else e(o,...i)}catch(Em){ts.error(Em)}}}const ss=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ls(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function cs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ss,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:o,measurementId:a}=e.options;if(!r)throw ns.create("no-app-id");if(!o){if(a)return{measurementId:a,appId:r};throw ns.create("no-api-key")}const i=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new us;return setTimeout(async()=>{s.abort()},void 0!==n?n:6e4),ds({appId:r,apiKey:o,measurementId:a},i,s,t)}async function ds(e,t,n){let{throttleEndTimeMillis:r,backoffCount:o}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ss;const{appId:i,measurementId:s}=e;try{await function(e,t){return new Promise((n,r)=>{const o=Math.max(t-Date.now(),0),a=setTimeout(n,o);e.addEventListener(()=>{clearTimeout(a),r(ns.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(Em){if(s)return ts.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===Em||void 0===Em?void 0:Em.message,"]")),{appId:i,measurementId:s};throw Em}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:ls(n)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),a=await fetch(o,r);if(200!==a.status&&304!==a.status){let e="";try{var i;const t=await a.json();null!==(i=t.error)&&void 0!==i&&i.message&&(e=t.error.message)}catch(s){}throw ns.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return a.deleteThrottleMetadata(i),t}catch(Em){var l;const r=Em;if(!function(e){if(!(e instanceof xo)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(a.deleteThrottleMetadata(i),s)return ts.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:i,measurementId:s};throw Em}const c=503===Number(null===r||void 0===r||null===(l=r.customData)||void 0===l?void 0:l.httpStatus)?Oo(o,a.intervalMillis,30):Oo(o,a.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:o+1};return a.setThrottleMetadata(i,d),ts.debug("Calling attemptFetch again in ".concat(c," millis")),ds(e,d,n,a)}}class us{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ps,hs;function fs(e){hs=e}function gs(e){ps=e}async function ms(e,t,n,r,o,a,i){var s;const l=cs(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&ts.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>ts.error(e)),t.push(l);const c=async function(){if(!yo())return ts.warn(ns.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await bo()}catch(Em){return ts.warn(ns.create("indexeddb-unavailable",{errorInfo:null===Em||void 0===Em?void 0:Em.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[d,u]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(es)&&n.src.includes(e))return n;return null})(a)||as(a,d.measurementId),hs&&(o("consent","default",hs),fs(void 0)),o("js",new Date);const p=null!==(s=null===i||void 0===i?void 0:i.config)&&void 0!==s?s:{};return p.origin="firebase",p.update=!0,null!=u&&(p.firebase_id=u),o("config",d.measurementId,p),ps&&(o("set",ps),gs(void 0)),d.measurementId}class ys{constructor(e){this.app=e}_delete(){return delete bs[this.app.options.appId],Promise.resolve()}}let bs={},_s=[];const xs={};let vs,Ss,Cs="dataLayer",ws="gtag",Rs=!1;function Es(e,t,n){!function(){const e=[];if(go()&&e.push("This is a browser extension environment."),_o()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=ns.create("invalid-analytics-context",{errorInfo:t});ts.warn(n.message)}}();const r=e.options.appId;if(!r)throw ns.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ns.create("no-api-key");ts.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=bs[r])throw ns.create("already-exists",{id:r});if(!Rs){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Cs);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,o){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[o]&&"function"===typeof window[o]&&(a=window[o]),window[o]=is(a,e,t,n),{gtagCore:a,wrappedGtag:window[o]}}(bs,_s,xs,Cs,ws);Ss=e,vs=t,Rs=!0}bs[r]=ms(e,_s,xs,t,vs,Cs,n);return new ys(e)}function Ts(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja();e=No(e);const t=Ka(e,Zi);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ka(e,Zi);if(n.isInitialized()){const e=n.getImmediate();if(Io(t,n.getOptions()))return e;throw ns.create("already-initialized")}const r=n.initialize({options:t});return r}(e)}function ks(e,t,n){e=No(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(Ss,bs[e.app.options.appId],t,n).catch(e=>ts.error(e))}function As(e,t,n,r){e=No(e),async function(e,t,n,r,o){if(o&&o.global)e("event",n,r);else{const o=await t;e("event",n,d(d({},r),{},{send_to:o}))}}(Ss,bs[e.app.options.appId],t,n,r).catch(e=>ts.error(e))}const Is="@firebase/analytics",Ps="0.10.19";Va(new Lo(Zi,(e,t)=>{let{options:n}=t;return Es(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),Va(new Lo("analytics-internal",function(e){try{const t=e.getProvider(Zi).getImmediate();return{logEvent:(e,n,r)=>As(t,e,n,r),setUserProperties:(e,n)=>ks(t,e,n)}}catch(Em){throw ns.create("interop-component-reg-failed",{reason:Em})}},"PRIVATE")),Za(Is,Ps),Za(Is,Ps,"esm2020");Za("firebase","12.8.0","app");const Ms="@firebase/database",js="1.1.0";let Ds="";function Os(e){Ds=e}class Ns{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),wo(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Co(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Ls{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Eo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const zs=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ns(t)}}catch(Em){}return new Ls},Bs=zs("localStorage"),Fs=zs("sessionStorage"),Ws=new Vo("@firebase/database"),Us=function(){let e=1;return function(){return e++}}(),Hs=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let o=e.charCodeAt(r);if(o>=55296&&o<=56319){const t=o-55296;r++,qr(r<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(r)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t}(e),n=new Mo;n.update(t);const r=n.digest();return $r.encodeByteArray(r)},Ys=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Ys.apply(null,n):e+="object"===typeof n?wo(n):n,e+=" "}return e};let Gs=null,qs=!0;const Vs=function(e,t){qr(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Ws.logLevel=Uo.VERBOSE,Gs=Ws.log.bind(Ws),t&&Fs.set("logging_enabled",!0)):"function"===typeof e?Gs=e:(Gs=null,Fs.remove("logging_enabled"))},Ks=function(){if(!0===qs&&(qs=!1,null===Gs&&!0===Fs.get("logging_enabled")&&Vs(!0)),Gs){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Ys.apply(null,t);Gs(r)}},$s=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Ks(e,...n)}},Xs=function(){const e="FIREBASE INTERNAL ERROR: "+Ys(...arguments);Ws.error(e)},Qs=function(){const e="FIREBASE FATAL ERROR: ".concat(Ys(...arguments));throw Ws.error(e),new Error(e)},Js=function(){const e="FIREBASE WARNING: "+Ys(...arguments);Ws.warn(e)},Zs=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},el="[MIN_NAME]",tl="[MAX_NAME]",nl=function(e,t){if(e===t)return 0;if(e===el||t===tl)return-1;if(t===el||e===tl)return 1;{const n=dl(e),r=dl(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},rl=function(e,t){return e===t?0:e<t?-1:1},ol=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+wo(t))},al=function(e){if("object"!==typeof e||null===e)return wo(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=wo(t[r]),n+=":",n+=al(e[t[r]]);return n+="}",n},il=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let o=0;o<n;o+=t)o+t>n?r.push(e.substring(o,n)):r.push(e.substring(o,o+t));return r};function sl(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const ll=function(e){qr(!Zs(e),"Invalid JSON number");const t=1023;let n,r,o,a,i;0===e?(r=0,o=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=a+t,o=Math.round(e*Math.pow(2,52-a)-Math.pow(2,52))):(r=0,o=Math.round(e/Math.pow(2,-1074))));const s=[];for(i=52;i;i-=1)s.push(o%2?1:0),o=Math.floor(o/2);for(i=11;i;i-=1)s.push(r%2?1:0),r=Math.floor(r/2);s.push(n?1:0),s.reverse();const l=s.join("");let c="";for(i=0;i<64;i+=8){let e=parseInt(l.substr(i,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const cl=new RegExp("^-?(0*)\\d{1,10}$"),dl=function(e){if(cl.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},ul=function(e){try{e()}catch(Em){setTimeout(()=>{const t=Em.stack||"";throw Js("Exception was thrown by user callback.",t),Em},Math.floor(0))}},pl=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class hl{constructor(e,t){var n;this.appCheckProvider=t,this.appName=e.name,null!==(n=e)&&void 0!==n&&void 0!==n.settings&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){Js('Provided AppCheck credentials for the app named "'.concat(this.appName,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class fl{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(Ks("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Js(e)}}class gl{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gl.OWNER="owner";const ml="5",yl=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bl="ac",_l="websocket",xl="long_polling";class vl{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",i=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=a,this.includeNamespaceInQueryParams=i,this.isUsingEmulator=s,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Bs.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Bs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Sl(e,t,n){let r;if(qr("string"===typeof t,"typeof type must == string"),qr("object"===typeof n,"typeof params must == object"),t===_l)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==xl)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const o=[];return sl(n,(e,t)=>{o.push(e+"="+t)}),r+o.join("&")}class Cl{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Eo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return eo(this.counters_)}}const wl={},Rl={};function El(e){const t=e.toString();return wl[t]||(wl[t]=new Cl),wl[t]}class Tl{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&ul(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const kl="start";class Al{constructor(e,t,n,r,o,a,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.transportSessionId=a,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=$s(e),this.stats_=El(t),this.urlFn=e=>(this.appCheckToken&&(e[bl]=this.appCheckToken),Sl(t,xl,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Tl(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(mo()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Il(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,a,i,s,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,o===kl)n.id=a,n.password=i;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,()=>{n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[o,a]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const e={};e[kl]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=ml,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[bl]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&yl.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Al.forceAllow_=!0}static forceDisallow(){Al.forceDisallow_=!0}static isAvailable(){return!mo()&&(!!Al.forceAllow_||!Al.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=wo(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Qr(t),r=il(n,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(mo())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=wo(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Il{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,mo())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Us(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Il.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(Em){Ks("frame writing exception"),Em.stack&&Ks(Em.stack),Ks(Em)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Ks("No IE domain setting required")}catch(Em){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){mo()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Ks("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(Em){}},Math.floor(1))}}let Pl=null;"undefined"!==typeof MozWebSocket?Pl=MozWebSocket:"undefined"!==typeof WebSocket&&(Pl=WebSocket);class Ml{constructor(e,t,n,r,o,a,i){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=$s(this.connId),this.stats_=El(t),this.connURL=Ml.connectionURL_(t,a,i,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,o){const a={};return a.v=ml,!mo()&&"undefined"!==typeof location&&location.hostname&&yl.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[bl]=r),o&&(a.p=o),Sl(e,_l,a)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Bs.set("previous_websocket_failure",!0);try{let e;if(mo()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(ml,"/").concat(Ds,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/helldrafters",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_TIME:"2026-01-23T18:06:02+11:00",REACT_APP_COMMIT_SHA:"53f7b6a05b5e764bc7c0e86988d33a71e5133c33",REACT_APP_FIREBASE_API_KEY:"AIzaSyARJLpsPz2mv9BMnOU5kOO9bPfw7XcCLqA",REACT_APP_FIREBASE_AUTH_DOMAIN:"helldrafters.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://helldrafters-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_PROJECT_ID:"helldrafters",REACT_APP_FIREBASE_STORAGE_BUCKET:"helldrafters.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"939935234211",REACT_APP_FIREBASE_APP_ID:"1:939935234211:web:714e4ab600a05445116716"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Pl(this.connURL,[],e)}catch(Em){this.log_("Error instantiating WebSocket.");const t=Em.message||Em.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Ml.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Pl&&!Ml.forceDisallow_}static previouslyFailed(){return Bs.isInMemoryStorage||!0===Bs.get("previous_websocket_failure")}markConnectionHealthy(){Bs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Co(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(qr(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=wo(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=il(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(Em){this.log_("Exception thrown from WebSocket.send():",Em.message||Em.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ml.responsesRequiredToBeHealthy=2,Ml.healthyTimeout=3e4;class jl{static get ALL_TRANSPORTS(){return[Al,Ml]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Ml&&Ml.isAvailable();let n=t&&!Ml.previouslyFailed();if(e.webSocketOnly&&(t||Js("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Ml];else{const e=this.transports_=[];for(const t of jl.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);jl.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}jl.globalTransportInitialized_=!1;class Dl{constructor(e,t,n,r,o,a,i,s,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=a,this.onReady_=i,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=$s("c:"+this.id+":"),this.transportManager_=new jl(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=pl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ol("t",e),n=ol("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ol("t",e),n=ol("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ol("t",e);if("d"in e){const n=e.d;if("h"===t){const e=d({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Xs("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Xs("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),ml!==n&&Js("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),pl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Bs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Ol{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Nl{constructor(e){this.allowedEvents_=e,this.listeners_={},qr(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const o=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<o.length;e++)o[e].callback.apply(o[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!n||n===r[o].context))return void r.splice(o,1)}validateEventType_(e){qr(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Ll extends Nl{static getInstance(){return new Ll}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||fo()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return qr("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class zl{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Bl(){return new zl("")}function Fl(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Wl(e){return e.pieces_.length-e.pieceNum_}function Ul(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new zl(e.pieces_,t)}function Hl(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Yl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Gl(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new zl(t,0)}function ql(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof zl)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new zl(n,0)}function Vl(e){return e.pieceNum_>=e.pieces_.length}function Kl(e,t){const n=Fl(e),r=Fl(t);if(null===n)return t;if(n===r)return Kl(Ul(e),Ul(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function $l(e,t){const n=Yl(e,0),r=Yl(t,0);for(let o=0;o<n.length&&o<r.length;o++){const e=nl(n[o],r[o]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function Xl(e,t){if(Wl(e)!==Wl(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ql(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(Wl(e)>Wl(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Jl{constructor(e,t){this.errorPrefix_=t,this.parts_=Yl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Do(this.parts_[n]);Zl(this)}}function Zl(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ec(e))}function ec(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class tc extends Nl{static getInstance(){return new tc}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return qr("visible"===e,"Unknown event type: "+e),[this.visible_]}}const nc=1e3;class rc extends Ol{constructor(e,t,n,r,o,a,i,s){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=i,this.authOverride_=s,this.id=rc.nextPersistentConnectionId_++,this.log_=$s("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nc,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,s&&!mo())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tc.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Ll.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(wo(o)),qr(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new so,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const o=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),qr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),qr(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const i={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(o,i),this.connected_&&this.sendListen_(i)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const o={p:n};e.tag&&(o.q=t._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,o=>{const a=o.d,i=o.s;rc.warnOnListenWarnings_(a,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",o),"ok"!==i&&this.removeListen_(n,r),e.onComplete&&e.onComplete(i,a))})}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Eo(e,"w")){const n=To(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Js("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=Ro(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=Ro(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),qr(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const o={p:e};r&&(o.q=n,o.t=r),this.sendRequest("n",o)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const o={p:t,d:n};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,o){this.initConnection_();const a={p:t,d:n};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;const i=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(i):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+wo(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Xs("Unrecognized action received from server: "+wo(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){qr(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nc,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=nc,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=nc),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+rc.nextConnectionId_++,o=this.lastSessionId;let a=!1,i=null;const s=function(){i?i.close():(a=!0,n())},l=function(e){qr(i,"sendRequest call when we're not connected not allowed."),i.sendRequest(e)};this.realtime_={close:s,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[s,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);a?Ks("getToken() completed but was canceled"):(Ks("getToken() completed. Creating connection."),this.authToken_=s&&s.accessToken,this.appCheckToken_=l&&l.token,i=new Dl(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{Js(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},o))}catch(Xs){this.log_("Failed to get token: "+Xs),a||(this.repoInfo_.nodeAdmin&&Js(Xs),s())}}}interrupt(e){Ks("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ks("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ko(this.interruptReasons_)&&(this.reconnectDelay_=nc,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>al(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new zl(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Ks("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Ks("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";mo()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Ds.replace(/\./g,"-")]=1,fo()?e["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ll.getInstance().currentlyOnline();return ko(this.interruptReasons_)&&e}}rc.nextPersistentConnectionId_=0,rc.nextConnectionId_=0;class oc{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new oc(e,t)}}class ac{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new oc(el,e),r=new oc(el,t);return 0!==this.compare(n,r)}minPost(){return oc.MIN}}let ic;class sc extends ac{static get __EMPTY_NODE(){return ic}static set __EMPTY_NODE(e){ic=e}compare(e,t){return nl(e.name,t.name)}isDefinedOn(e){throw Vr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return oc.MIN}maxPost(){return new oc(tl,ic)}makePost(e,t){return qr("string"===typeof e,"KeyIndex indexValue must always be a string."),new oc(e,ic)}toString(){return".key"}}const lc=new sc;class cc{constructor(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,r&&(a*=-1),a<0)e=this.isReverse_?e.left:e.right;else{if(0===a){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class dc{constructor(e,t,n,r,o){this.key=e,this.value=t,this.color=null!=n?n:dc.RED,this.left=null!=r?r:uc.EMPTY_NODE,this.right=null!=o?o:uc.EMPTY_NODE}copy(e,t,n,r,o){return new dc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const o=n(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return uc.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return uc.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,dc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,dc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}dc.RED=!0,dc.BLACK=!1;class uc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:uc.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new uc(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,dc.BLACK,null,null))}remove(e){return new uc(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,dc.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new cc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new cc(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new cc(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new cc(this.root_,null,this.comparator_,!0,e)}}function pc(e,t){return nl(e.name,t.name)}function hc(e,t){return nl(e,t)}let fc;uc.EMPTY_NODE=new class{copy(e,t,n,r,o){return this}insert(e,t,n){return new dc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const gc=function(e){return"number"===typeof e?"number:"+ll(e):"string:"+e},mc=function(e){if(e.isLeafNode()){const t=e.val();qr("string"===typeof t||"number"===typeof t||"object"===typeof t&&Eo(t,".sv"),"Priority must be a string or number.")}else qr(e===fc||e.isEmpty(),"priority of unexpected type.");qr(e===fc||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let yc,bc,_c;class xc{static set __childrenNodeConstructor(e){yc=e}static get __childrenNodeConstructor(){return yc}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xc.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,qr(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),mc(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xc(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:xc.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Vl(e)?this:".priority"===Fl(e)?this.priorityNode_:xc.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:xc.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=Fl(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(qr(".priority"!==n||1===Wl(e),".priority must be the last token in a path"),this.updateImmediateChild(n,xc.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ul(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+gc(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?ll(this.value_):this.value_,this.lazyHash_=Hs(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xc.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xc.__childrenNodeConstructor?-1:(qr(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=xc.VALUE_TYPE_ORDER.indexOf(t),o=xc.VALUE_TYPE_ORDER.indexOf(n);return qr(r>=0,"Unknown leaf type: "+t),qr(o>=0,"Unknown leaf type: "+n),r===o?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}xc.VALUE_TYPE_ORDER=["object","boolean","number","string"];const vc=new class extends ac{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),o=n.compareTo(r);return 0===o?nl(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return oc.MIN}maxPost(){return new oc(tl,new xc("[PRIORITY-POST]",_c))}makePost(e,t){const n=bc(e);return new oc(t,new xc("[PRIORITY-POST]",n))}toString(){return".priority"}},Sc=Math.log(2);class Cc{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Sc,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wc=function(e,t,n,r){e.sort(t);const o=function(t,r){const a=r-t;let i,s;if(0===a)return null;if(1===a)return i=e[t],s=n?n(i):i,new dc(s,i.node,dc.BLACK,null,null);{const l=parseInt(a/2,10)+t,c=o(t,l),d=o(l+1,r);return i=e[l],s=n?n(i):i,new dc(s,i.node,dc.BLACK,c,d)}},a=function(t){let r=null,a=null,i=e.length;const s=function(t,r){const a=i-t,s=i;i-=t;const c=o(a+1,s),d=e[a],u=n?n(d):d;l(new dc(u,d.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(a=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?s(r,dc.BLACK):(s(r,dc.BLACK),s(r,dc.RED))}return a}(new Cc(e.length));return new uc(r||t,a)};let Rc;const Ec={};class Tc{static get Default(){return qr(Ec&&vc,"ChildrenNode.ts has not been loaded"),Rc=Rc||new Tc({".priority":Ec},{".priority":vc}),Rc}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=To(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof uc?t:null}hasIndex(e){return Eo(this.indexSet_,e.toString())}addIndex(e,t){qr(e!==lc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const o=t.getIterator(oc.Wrap);let a,i=o.getNext();for(;i;)r=r||e.isDefinedOn(i.node),n.push(i),i=o.getNext();a=r?wc(n,e.getCompare()):Ec;const s=e.toString(),l=d({},this.indexSet_);l[s]=e;const c=d({},this.indexes_);return c[s]=a,new Tc(c,l)}addToIndexes(e,t){const n=Ao(this.indexes_,(n,r)=>{const o=To(this.indexSet_,r);if(qr(o,"Missing index implementation for "+r),n===Ec){if(o.isDefinedOn(e.node)){const n=[],r=t.getIterator(oc.Wrap);let a=r.getNext();for(;a;)a.name!==e.name&&n.push(a),a=r.getNext();return n.push(e),wc(n,o.getCompare())}return Ec}{const r=t.get(e.name);let o=n;return r&&(o=o.remove(new oc(e.name,r))),o.insert(e,e.node)}});return new Tc(n,this.indexSet_)}removeFromIndexes(e,t){const n=Ao(this.indexes_,n=>{if(n===Ec)return n;{const r=t.get(e.name);return r?n.remove(new oc(e.name,r)):n}});return new Tc(n,this.indexSet_)}}let kc;class Ac{static get EMPTY_NODE(){return kc||(kc=new Ac(new uc(hc),null,Tc.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&mc(this.priorityNode_),this.children_.isEmpty()&&qr(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||kc}updatePriority(e){return this.children_.isEmpty()?this:new Ac(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?kc:t}}getChild(e){const t=Fl(e);return null===t?this:this.getImmediateChild(t).getChild(Ul(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(qr(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new oc(e,t);let r,o;t.isEmpty()?(r=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),o=this.indexMap_.addToIndexes(n,this.children_));const a=r.isEmpty()?kc:this.priorityNode_;return new Ac(r,a,o)}}updateChild(e,t){const n=Fl(e);if(null===n)return t;{qr(".priority"!==Fl(e)||1===Wl(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Ul(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,o=!0;if(this.forEachChild(vc,(a,i)=>{t[a]=i.val(e),n++,o&&Ac.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):o=!1}),!e&&o&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+gc(this.getPriority().val())+":"),this.forEachChild(vc,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":Hs(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new oc(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new oc(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new oc(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,oc.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,oc.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ic?-1:0}withIndex(e){if(e===lc||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Ac(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===lc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(vc),n=t.getIterator(vc);let r=e.getNext(),o=n.getNext();for(;r&&o;){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=e.getNext(),o=n.getNext()}return null===r&&null===o}return!1}return!1}}resolveIndex_(e){return e===lc?null:this.indexMap_.get(e.toString())}}Ac.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Ic=new class extends Ac{constructor(){super(new uc(hc),Ac.EMPTY_NODE,Tc.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ac.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(oc,{MIN:{value:new oc(el,Ac.EMPTY_NODE)},MAX:{value:new oc(tl,Ic)}}),sc.__EMPTY_NODE=Ac.EMPTY_NODE,xc.__childrenNodeConstructor=Ac,fc=Ic,function(e){_c=e}(Ic);function Pc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Ac.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),qr(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new xc(e,Pc(t))}if(e instanceof Array){let n=Ac.EMPTY_NODE;return sl(e,(t,r)=>{if(Eo(e,t)&&"."!==t.substring(0,1)){const e=Pc(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(Pc(t))}{const n=[];let r=!1;if(sl(e,(e,t)=>{if("."!==e.substring(0,1)){const o=Pc(t);o.isEmpty()||(r=r||!o.getPriority().isEmpty(),n.push(new oc(e,o)))}}),0===n.length)return Ac.EMPTY_NODE;const o=wc(n,pc,e=>e.name,hc);if(r){const e=wc(n,vc.getCompare());return new Ac(o,Pc(t),new Tc({".priority":e},{".priority":vc}))}return new Ac(o,Pc(t),Tc.Default)}}!function(e){bc=e}(Pc);class Mc extends ac{constructor(e){super(),this.indexPath_=e,qr(!Vl(e)&&".priority"!==Fl(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),o=n.compareTo(r);return 0===o?nl(e.name,t.name):o}makePost(e,t){const n=Pc(e),r=Ac.EMPTY_NODE.updateChild(this.indexPath_,n);return new oc(t,r)}maxPost(){const e=Ac.EMPTY_NODE.updateChild(this.indexPath_,Ic);return new oc(tl,e)}toString(){return Yl(this.indexPath_,0).join("/")}}const jc=new class extends ac{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?nl(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return oc.MIN}maxPost(){return oc.MAX}makePost(e,t){const n=Pc(e);return new oc(t,n)}toString(){return".value"}};function Dc(e){return{type:"value",snapshotNode:e}}function Oc(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Nc(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Lc(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class zc{constructor(e){this.index_=e}updateChild(e,t,n,r,o,a){qr(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const i=e.getImmediateChild(t);return i.getChild(r).equals(n.getChild(r))&&i.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(Nc(t,i)):qr(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):i.isEmpty()?a.trackChildChange(Oc(t,n)):a.trackChildChange(Lc(t,n,i))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(vc,(e,r)=>{t.hasChild(e)||n.trackChildChange(Nc(e,r))}),t.isLeafNode()||t.forEachChild(vc,(t,r)=>{if(e.hasChild(t)){const o=e.getImmediateChild(t);o.equals(r)||n.trackChildChange(Lc(t,r,o))}else n.trackChildChange(Oc(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Ac.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Bc{constructor(e){this.indexedFilter_=new zc(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Bc.getStartPost_(e),this.endPost_=Bc.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,o,a){return this.matches(new oc(t,n))||(n=Ac.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,o,a)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Ac.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Ac.EMPTY_NODE);const o=this;return t.forEachChild(vc,(e,t)=>{o.matches(new oc(e,t))||(r=r.updateImmediateChild(e,Ac.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Fc{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Bc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,o,a){return this.rangedFilter_.matches(new oc(t,n))||(n=Ac.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,o,a):this.fullLimitUpdateChild_(e,t,n,o,a)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Ac.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Ac.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Ac.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Ac.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,o){let a;if(this.reverse_){const e=this.index_.getCompare();a=(t,n)=>e(n,t)}else a=this.index_.getCompare();const i=e;qr(i.numChildren()===this.limit_,"");const s=new oc(t,n),l=this.reverse_?i.getFirstChild(this.index_):i.getLastChild(this.index_),c=this.rangedFilter_.matches(s);if(i.hasChild(t)){const e=i.getImmediateChild(t);let d=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=d&&(d.name===t||i.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);const u=null==d?1:a(d,s);if(c&&!n.isEmpty()&&u>=0)return null!=o&&o.trackChildChange(Lc(t,n,e)),i.updateImmediateChild(t,n);{null!=o&&o.trackChildChange(Nc(t,e));const n=i.updateImmediateChild(t,Ac.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=o&&o.trackChildChange(Oc(d.name,d.node)),n.updateImmediateChild(d.name,d.node)):n}}return n.isEmpty()?e:c&&a(l,s)>=0?(null!=o&&(o.trackChildChange(Nc(l.name,l.node)),o.trackChildChange(Oc(t,n))),i.updateImmediateChild(t,n).updateImmediateChild(l.name,Ac.EMPTY_NODE)):e}}class Wc{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vc}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return qr(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return qr(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:el}hasEnd(){return this.endSet_}getIndexEndValue(){return qr(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return qr(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return qr(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vc}copy(){const e=new Wc;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Uc(e){const t={};if(e.isDefault())return t;let n;if(e.index_===vc?n="$priority":e.index_===jc?n="$value":e.index_===lc?n="$key":(qr(e.index_ instanceof Mc,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=wo(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=wo(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+wo(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=wo(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+wo(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function Hc(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==vc&&(t.i=e.index_.toString()),t}class Yc extends Ol{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(qr(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=$s("p:rest:"),this.listens_={}}listen(e,t,n,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const a=Yc.getListenId_(e,n),i={};this.listens_[a]=i;const s=Uc(e._queryParams);this.restRequest_(o+".json",s,(e,t)=>{let s=t;if(404===e&&(s=null,e=null),null===e&&this.onDataUpdate_(o,s,!1,n),To(this.listens_,a)===i){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=Yc.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Uc(e._queryParams),n=e._path.toString(),r=new so;return this.restRequest_(n+".json",t,(e,t)=>{let o=t;404===e&&(o=null,e=null),null===e?(this.onDataUpdate_(n,o,!1,null),r.resolve(o)):r.reject(new Error(o))}),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(r=>{let[o,a]=r;o&&o.accessToken&&(t.auth=o.accessToken),a&&a.token&&(t.ac=a.token);const i=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}(t);this.log_("Sending REST request for "+i);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+i+" received. status:",s.status,"response:",s.responseText);let e=null;if(s.status>=200&&s.status<300){try{e=Co(s.responseText)}catch(Em){Js("Failed to parse JSON response for "+i+": "+s.responseText)}n(null,e)}else 401!==s.status&&404!==s.status&&Js("Got unsuccessful REST response for "+i+" Status: "+s.status),n(s.status);n=null}},s.open("GET",i,!0),s.send()})}}class Gc{constructor(){this.rootNode_=Ac.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function qc(){return{value:null,children:new Map}}function Vc(e,t,n){if(Vl(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=Fl(t);e.children.has(r)||e.children.set(r,qc());Vc(e.children.get(r),t=Ul(t),n)}}function Kc(e,t){if(Vl(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(vc,(t,n)=>{Vc(e,new zl(t),n)}),Kc(e,t)}}if(e.children.size>0){const n=Fl(t);if(t=Ul(t),e.children.has(n)){Kc(e.children.get(n),t)&&e.children.delete(n)}return 0===e.children.size}return!0}function $c(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{$c(r,new zl(t.toString()+"/"+e),n)})}class Xc{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=d({},e);return this.last_&&sl(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class Qc{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Xc(e);const n=1e4+2e4*Math.random();pl(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;sl(e,(e,r)=>{r>0&&Eo(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),pl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Jc;function Zc(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Jc||(Jc={}));class ed{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Jc.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Vl(this.path)){if(null!=this.affectedTree.value)return qr(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new zl(e));return new ed(Bl(),t,this.revert)}}return qr(Fl(this.path)===e,"operationForChild called for unrelated child."),new ed(Ul(this.path),this.affectedTree,this.revert)}}class td{constructor(e,t){this.source=e,this.path=t,this.type=Jc.LISTEN_COMPLETE}operationForChild(e){return Vl(this.path)?new td(this.source,Bl()):new td(this.source,Ul(this.path))}}class nd{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Jc.OVERWRITE}operationForChild(e){return Vl(this.path)?new nd(this.source,Bl(),this.snap.getImmediateChild(e)):new nd(this.source,Ul(this.path),this.snap)}}class rd{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Jc.MERGE}operationForChild(e){if(Vl(this.path)){const t=this.children.subtree(new zl(e));return t.isEmpty()?null:t.value?new nd(this.source,Bl(),t.value):new rd(this.source,Bl(),t)}return qr(Fl(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new rd(this.source,Ul(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class od{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Vl(e))return this.isFullyInitialized()&&!this.filtered_;const t=Fl(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ad{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function id(e,t,n,r,o,a){const i=r.filter(e=>e.type===n);i.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Vr("Should only compare child_ events.");const r=new oc(t.childName,t.snapshotNode),o=new oc(n.childName,n.snapshotNode);return e.index_.compare(r,o)}(e,t,n)),i.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);o.forEach(o=>{o.respondsTo(n.type)&&t.push(o.createEvent(r,e.query_))})})}function sd(e,t){return{eventCache:e,serverCache:t}}function ld(e,t,n,r){return sd(new od(t,n,r),e.serverCache)}function cd(e,t,n,r){return sd(e.eventCache,new od(t,n,r))}function dd(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ud(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let pd;class hd{static fromObject(e){let t=new hd(null);return sl(e,(e,n)=>{t=t.set(new zl(e),n)}),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(pd||(pd=new uc(rl)),pd);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Bl(),value:this.value};if(Vl(e))return null;{const n=Fl(e),r=this.children.get(n);if(null!==r){const o=r.findRootMostMatchingPathAndValue(Ul(e),t);if(null!=o){return{path:ql(new zl(n),o.path),value:o.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Vl(e))return this;{const t=Fl(e),n=this.children.get(t);return null!==n?n.subtree(Ul(e)):new hd(null)}}set(e,t){if(Vl(e))return new hd(t,this.children);{const n=Fl(e),r=(this.children.get(n)||new hd(null)).set(Ul(e),t),o=this.children.insert(n,r);return new hd(this.value,o)}}remove(e){if(Vl(e))return this.children.isEmpty()?new hd(null):new hd(null,this.children);{const t=Fl(e),n=this.children.get(t);if(n){const r=n.remove(Ul(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new hd(null):new hd(this.value,o)}return this}}get(e){if(Vl(e))return this.value;{const t=Fl(e),n=this.children.get(t);return n?n.get(Ul(e)):null}}setTree(e,t){if(Vl(e))return t;{const n=Fl(e),r=(this.children.get(n)||new hd(null)).setTree(Ul(e),t);let o;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new hd(this.value,o)}}fold(e){return this.fold_(Bl(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,o)=>{n[r]=o.fold_(ql(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Bl(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Vl(e))return null;{const r=Fl(e),o=this.children.get(r);return o?o.findOnPath_(Ul(e),ql(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Bl(),t)}foreachOnPath_(e,t,n){if(Vl(e))return this;{this.value&&n(t,this.value);const r=Fl(e),o=this.children.get(r);return o?o.foreachOnPath_(Ul(e),ql(t,r),n):new hd(null)}}foreach(e){this.foreach_(Bl(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(ql(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class fd{constructor(e){this.writeTree_=e}static empty(){return new fd(new hd(null))}}function gd(e,t,n){if(Vl(t))return new fd(new hd(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const o=r.path;let a=r.value;const i=Kl(o,t);return a=a.updateChild(i,n),new fd(e.writeTree_.set(o,a))}{const r=new hd(n),o=e.writeTree_.setTree(t,r);return new fd(o)}}}function md(e,t,n){let r=e;return sl(n,(e,n)=>{r=gd(r,ql(t,e),n)}),r}function yd(e,t){if(Vl(t))return fd.empty();{const n=e.writeTree_.setTree(t,new hd(null));return new fd(n)}}function bd(e,t){return null!=_d(e,t)}function _d(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Kl(n.path,t)):null}function xd(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(vc,(e,n)=>{t.push(new oc(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new oc(e,n.value))}),t}function vd(e,t){if(Vl(t))return e;{const n=_d(e,t);return new fd(null!=n?new hd(n):e.writeTree_.subtree(t))}}function Sd(e){return e.writeTree_.isEmpty()}function Cd(e,t){return wd(Bl(),e.writeTree_,t)}function wd(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,o)=>{".priority"===t?(qr(null!==o.value,"Priority writes must always be leaf nodes"),r=o.value):n=wd(ql(e,t),o,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(ql(e,".priority"),r)),n}}function Rd(e,t){return zd(t,e)}function Ed(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);qr(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let o=r.visible,a=!1,i=e.allWrites.length-1;for(;o&&i>=0;){const t=e.allWrites[i];t.visible&&(i>=n&&Td(t,r.path)?o=!1:Ql(r.path,t.path)&&(a=!0)),i--}if(o){if(a)return function(e){e.visibleWrites=Ad(e.allWrites,kd,Bl()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=yd(e.visibleWrites,r.path);else{sl(r.children,t=>{e.visibleWrites=yd(e.visibleWrites,ql(r.path,t))})}return!0}return!1}function Td(e,t){if(e.snap)return Ql(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ql(ql(e.path,n),t))return!0;return!1}function kd(e){return e.visible}function Ad(e,t,n){let r=fd.empty();for(let o=0;o<e.length;++o){const a=e[o];if(t(a)){const e=a.path;let t;if(a.snap)Ql(n,e)?(t=Kl(n,e),r=gd(r,t,a.snap)):Ql(e,n)&&(t=Kl(e,n),r=gd(r,Bl(),a.snap.getChild(t)));else{if(!a.children)throw Vr("WriteRecord should have .snap or .children");if(Ql(n,e))t=Kl(n,e),r=md(r,t,a.children);else if(Ql(e,n))if(t=Kl(e,n),Vl(t))r=md(r,Bl(),a.children);else{const e=To(a.children,Fl(t));if(e){const n=e.getChild(Ul(t));r=gd(r,Bl(),n)}}}}}return r}function Id(e,t,n,r,o){if(r||o){const a=vd(e.visibleWrites,t);if(!o&&Sd(a))return n;if(o||null!=n||bd(a,Bl())){const a=function(e){return(e.visible||o)&&(!r||!~r.indexOf(e.writeId))&&(Ql(e.path,t)||Ql(t,e.path))};return Cd(Ad(e.allWrites,a,t),n||Ac.EMPTY_NODE)}return null}{const r=_d(e.visibleWrites,t);if(null!=r)return r;{const r=vd(e.visibleWrites,t);if(Sd(r))return n;if(null!=n||bd(r,Bl())){return Cd(r,n||Ac.EMPTY_NODE)}return null}}}function Pd(e,t,n,r){return Id(e.writeTree,e.treePath,t,n,r)}function Md(e,t){return function(e,t,n){let r=Ac.EMPTY_NODE;const o=_d(e.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(vc,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const o=vd(e.visibleWrites,t);return n.forEachChild(vc,(e,t)=>{const n=Cd(vd(o,new zl(e)),t);r=r.updateImmediateChild(e,n)}),xd(o).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return xd(vd(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function jd(e,t,n,r){return function(e,t,n,r,o){qr(r||o,"Either existingEventSnap or existingServerSnap must exist");const a=ql(t,n);if(bd(e.visibleWrites,a))return null;{const t=vd(e.visibleWrites,a);return Sd(t)?o.getChild(n):Cd(t,o.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Dd(e,t){return function(e,t){return _d(e.visibleWrites,t)}(e.writeTree,ql(e.treePath,t))}function Od(e,t,n,r,o,a){return function(e,t,n,r,o,a,i){let s;const l=vd(e.visibleWrites,t),c=_d(l,Bl());if(null!=c)s=c;else{if(null==n)return[];s=Cd(l,n)}if(s=s.withIndex(i),s.isEmpty()||s.isLeafNode())return[];{const e=[],t=i.getCompare(),n=a?s.getReverseIteratorFrom(r,i):s.getIteratorFrom(r,i);let l=n.getNext();for(;l&&e.length<o;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,o,a)}function Nd(e,t,n){return function(e,t,n,r){const o=ql(t,n),a=_d(e.visibleWrites,o);if(null!=a)return a;if(r.isCompleteForChild(n))return Cd(vd(e.visibleWrites,o),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Ld(e,t){return zd(ql(e.treePath,t),e.writeTree)}function zd(e,t){return{treePath:e,writeTree:t}}class Bd{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;qr("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),qr(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(n,Lc(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(n,Nc(n,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(n,Oc(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw Vr("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Lc(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Fd=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Wd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new od(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Nd(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:ud(this.viewCache_),o=Od(this.writes_,r,t,1,n,e);return 0===o.length?null:o[0]}}function Ud(e,t,n,r,o){const a=new Bd;let i,s;if(n.type===Jc.OVERWRITE){const l=n;l.source.fromUser?i=Gd(e,t,l.path,l.snap,r,o,a):(qr(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered()&&!Vl(l.path),i=Yd(e,t,l.path,l.snap,r,o,s,a))}else if(n.type===Jc.MERGE){const l=n;l.source.fromUser?i=function(e,t,n,r,o,a,i){let s=t;return r.foreach((r,l)=>{const c=ql(n,r);qd(t,Fl(c))&&(s=Gd(e,s,c,l,o,a,i))}),r.foreach((r,l)=>{const c=ql(n,r);qd(t,Fl(c))||(s=Gd(e,s,c,l,o,a,i))}),s}(e,t,l.path,l.children,r,o,a):(qr(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),i=Kd(e,t,l.path,l.children,r,o,s,a))}else if(n.type===Jc.ACK_USER_WRITE){const s=n;i=s.revert?function(e,t,n,r,o,a){let i;if(null!=Dd(r,n))return t;{const s=new Wd(r,t,o),l=t.eventCache.getNode();let c;if(Vl(n)||".priority"===Fl(n)){let n;if(t.serverCache.isFullyInitialized())n=Pd(r,ud(t));else{const e=t.serverCache.getNode();qr(e instanceof Ac,"serverChildren would be complete if leaf node"),n=Md(r,e)}c=e.filter.updateFullNode(l,n,a)}else{const o=Fl(n);let d=Nd(r,o,t.serverCache);null==d&&t.serverCache.isCompleteForChild(o)&&(d=l.getImmediateChild(o)),c=null!=d?e.filter.updateChild(l,o,d,Ul(n),s,a):t.eventCache.getNode().hasChild(o)?e.filter.updateChild(l,o,Ac.EMPTY_NODE,Ul(n),s,a):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(i=Pd(r,ud(t)),i.isLeafNode()&&(c=e.filter.updateFullNode(c,i,a)))}return i=t.serverCache.isFullyInitialized()||null!=Dd(r,Bl()),ld(t,c,i,e.filter.filtersNodes())}}(e,t,s.path,r,o,a):function(e,t,n,r,o,a,i){if(null!=Dd(o,n))return t;const s=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Vl(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Yd(e,t,n,l.getNode().getChild(n),o,a,s,i);if(Vl(n)){let r=new hd(null);return l.getNode().forEachChild(lc,(e,t)=>{r=r.set(new zl(e),t)}),Kd(e,t,n,r,o,a,s,i)}return t}{let c=new hd(null);return r.foreach((e,t)=>{const r=ql(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))}),Kd(e,t,n,c,o,a,s,i)}}(e,t,s.path,s.affectedTree,r,o,a)}else{if(n.type!==Jc.LISTEN_COMPLETE)throw Vr("Unknown operation type: "+n.type);i=function(e,t,n,r,o){const a=t.serverCache,i=cd(t,a.getNode(),a.isFullyInitialized()||Vl(n),a.isFiltered());return Hd(e,i,n,r,Fd,o)}(e,t,n.path,r,a)}const l=a.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=dd(e);(n.length>0||!e.eventCache.isFullyInitialized()||o&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Dc(dd(t)))}}(t,i,l),{viewCache:i,changes:l}}function Hd(e,t,n,r,o,a){const i=t.eventCache;if(null!=Dd(r,n))return t;{let s,l;if(Vl(n))if(qr(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=ud(t),o=Md(r,n instanceof Ac?n:Ac.EMPTY_NODE);s=e.filter.updateFullNode(t.eventCache.getNode(),o,a)}else{const n=Pd(r,ud(t));s=e.filter.updateFullNode(t.eventCache.getNode(),n,a)}else{const c=Fl(n);if(".priority"===c){qr(1===Wl(n),"Can't have a priority with additional path components");const o=i.getNode();l=t.serverCache.getNode();const a=jd(r,n,o,l);s=null!=a?e.filter.updatePriority(o,a):i.getNode()}else{const d=Ul(n);let u;if(i.isCompleteForChild(c)){l=t.serverCache.getNode();const e=jd(r,n,i.getNode(),l);u=null!=e?i.getNode().getImmediateChild(c).updateChild(d,e):i.getNode().getImmediateChild(c)}else u=Nd(r,c,t.serverCache);s=null!=u?e.filter.updateChild(i.getNode(),c,u,d,o,a):i.getNode()}}return ld(t,s,i.isFullyInitialized()||Vl(n),e.filter.filtersNodes())}}function Yd(e,t,n,r,o,a,i,s){const l=t.serverCache;let c;const d=i?e.filter:e.filter.getIndexedFilter();if(Vl(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),e,null)}else{const e=Fl(n);if(!l.isCompleteForPath(n)&&Wl(n)>1)return t;const o=Ul(n),a=l.getNode().getImmediateChild(e).updateChild(o,r);c=".priority"===e?d.updatePriority(l.getNode(),a):d.updateChild(l.getNode(),e,a,o,Fd,null)}const u=cd(t,c,l.isFullyInitialized()||Vl(n),d.filtersNodes());return Hd(e,u,n,o,new Wd(o,u,a),s)}function Gd(e,t,n,r,o,a,i){const s=t.eventCache;let l,c;const d=new Wd(o,t,a);if(Vl(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,i),l=ld(t,c,!0,e.filter.filtersNodes());else{const o=Fl(n);if(".priority"===o)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=ld(t,c,s.isFullyInitialized(),s.isFiltered());else{const a=Ul(n),c=s.getNode().getImmediateChild(o);let u;if(Vl(a))u=r;else{const e=d.getCompleteChild(o);u=null!=e?".priority"===Hl(a)&&e.getChild(Gl(a)).isEmpty()?e:e.updateChild(a,r):Ac.EMPTY_NODE}if(c.equals(u))l=t;else{l=ld(t,e.filter.updateChild(s.getNode(),o,u,a,d,i),s.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function qd(e,t){return e.eventCache.isCompleteForChild(t)}function Vd(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function Kd(e,t,n,r,o,a,i,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Vl(n)?r:new hd(null).setTree(n,r);const d=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(d.hasChild(n)){const l=Vd(0,t.serverCache.getNode().getImmediateChild(n),r);c=Yd(e,c,new zl(n),l,o,a,i,s)}}),l.children.inorderTraversal((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!d.hasChild(n)&&!l){const l=Vd(0,t.serverCache.getNode().getImmediateChild(n),r);c=Yd(e,c,new zl(n),l,o,a,i,s)}}),c}class $d{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new zc(n.getIndex()),o=(a=n).loadsAllData()?new zc(a.getIndex()):a.hasLimit()?new Fc(a):new Bc(a);var a;this.processor_=function(e){return{filter:e}}(o);const i=t.serverCache,s=t.eventCache,l=r.updateFullNode(Ac.EMPTY_NODE,i.getNode(),null),c=o.updateFullNode(Ac.EMPTY_NODE,s.getNode(),null),d=new od(l,i.isFullyInitialized(),r.filtersNodes()),u=new od(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=sd(u,d),this.eventGenerator_=new ad(this.query_)}get query(){return this.query_}}function Xd(e,t){const n=ud(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Vl(t)&&!n.getImmediateChild(Fl(t)).isEmpty())?n.getChild(t):null}function Qd(e){return 0===e.eventRegistrations_.length}function Jd(e,t,n){const r=[];if(n){qr(null==t,"A cancel should cancel all event registrations.");const o=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,o);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const o=e.eventRegistrations_[r];if(o.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(o)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Zd(e,t,n,r){t.type===Jc.MERGE&&null!==t.source.queryId&&(qr(ud(e.viewCache_),"We should always have a full cache before handling merges"),qr(dd(e.viewCache_),"Missing event cache, even though we have a server cache"));const o=e.viewCache_,a=Ud(e.processor_,o,t,n,r);var i,s;return i=e.processor_,s=a.viewCache,qr(s.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),qr(s.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),qr(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=a.viewCache,eu(e,a.changes,a.viewCache.eventCache.getNode(),null)}function eu(e,t,n,r){const o=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const o=[],a=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),id(e,o,"child_removed",t,r,n),id(e,o,"child_added",t,r,n),id(e,o,"child_moved",a,r,n),id(e,o,"child_changed",t,r,n),id(e,o,"value",t,r,n),o}(e.eventGenerator_,t,n,o)}let tu,nu;class ru{constructor(){this.views=new Map}}function ou(e,t,n,r){const o=t.source.queryId;if(null!==o){const a=e.views.get(o);return qr(null!=a,"SyncTree gave us an op for an invalid query."),Zd(a,t,n,r)}{let o=[];for(const a of e.views.values())o=o.concat(Zd(a,t,n,r));return o}}function au(e,t,n,r,o){const a=t._queryIdentifier,i=e.views.get(a);if(!i){let e=Pd(n,o?r:null),a=!1;e?a=!0:r instanceof Ac?(e=Md(n,r),a=!1):(e=Ac.EMPTY_NODE,a=!1);const i=sd(new od(e,a,!1),new od(r,o,!1));return new $d(t,i)}return i}function iu(e,t,n,r,o,a){const i=au(e,t,r,o,a);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,i),function(e,t){e.eventRegistrations_.push(t)}(i,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(vc,(e,t)=>{r.push(Oc(e,t))});return n.isFullyInitialized()&&r.push(Dc(n.getNode())),eu(e,r,n.getNode(),t)}(i,n)}function su(e,t,n,r){const o=t._queryIdentifier,a=[];let i=[];const s=pu(e);if("default"===o)for(const[l,c]of e.views.entries())i=i.concat(Jd(c,n,r)),Qd(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||a.push(c.query));else{const t=e.views.get(o);t&&(i=i.concat(Jd(t,n,r)),Qd(t)&&(e.views.delete(o),t.query._queryParams.loadsAllData()||a.push(t.query)))}return s&&!pu(e)&&a.push(new(qr(tu,"Reference.ts has not been loaded"),tu)(t._repo,t._path)),{removed:a,events:i}}function lu(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function cu(e,t){let n=null;for(const r of e.views.values())n=n||Xd(r,t);return n}function du(e,t){if(t._queryParams.loadsAllData())return hu(e);{const n=t._queryIdentifier;return e.views.get(n)}}function uu(e,t){return null!=du(e,t)}function pu(e){return null!=hu(e)}function hu(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let fu=1;class gu{constructor(e){this.listenProvider_=e,this.syncPointTree_=new hd(null),this.pendingWriteTree_={visibleWrites:fd.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mu(e,t,n,r,o){return function(e,t,n,r,o){qr(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===o&&(o=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:o}),o&&(e.visibleWrites=gd(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,o),o?wu(e,new nd({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function yu(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Ed(e.pendingWriteTree_,t)){let t=new hd(null);return null!=r.snap?t=t.set(Bl(),!0):sl(r.children,e=>{t=t.set(new zl(e),!0)}),wu(e,new ed(r.path,t,n))}return[]}function bu(e,t,n){return wu(e,new nd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function _u(e,t,n,r){let o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=t._path,i=e.syncPointTree_.get(a);let s=[];if(i&&("default"===t._queryIdentifier||uu(i,t))){const l=su(i,t,n,r);0===i.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(a));const c=l.removed;if(s=l.events,!o){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),o=e.syncPointTree_.findOnPath(a,(e,t)=>pu(t));if(n&&!o){const t=e.syncPointTree_.subtree(a);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&pu(t)){return[hu(t)]}{let e=[];return t&&(e=lu(t)),sl(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],o=r.query,a=Tu(e,r);e.listenProvider_.startListening(ju(o),ku(e,o),a.hashFn,a.onComplete)}}}if(!o&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(ju(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(Au(t));e.listenProvider_.stopListening(ju(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Au(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return s}function xu(e,t,n,r){const o=Iu(e,r);if(null!=o){const r=Pu(o),a=r.path,i=r.queryId,s=Kl(a,t);return Mu(e,a,new nd(Zc(i),s,n))}return[]}function vu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=t._path;let a=null,i=!1;e.syncPointTree_.foreachOnPath(o,(e,t)=>{const n=Kl(e,o);a=a||cu(t,n),i=i||pu(t)});let s,l=e.syncPointTree_.get(o);if(l?(i=i||pu(l),a=a||cu(l,Bl())):(l=new ru,e.syncPointTree_=e.syncPointTree_.set(o,l)),null!=a)s=!0;else{s=!1,a=Ac.EMPTY_NODE;e.syncPointTree_.subtree(o).foreachChild((e,t)=>{const n=cu(t,Bl());n&&(a=a.updateImmediateChild(e,n))})}const c=uu(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Au(t);qr(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=fu++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let d=iu(l,t,n,Rd(e.pendingWriteTree_,o),a,s);if(!c&&!i&&!r){const n=du(l,t);d=d.concat(function(e,t,n){const r=t._path,o=ku(e,t),a=Tu(e,n),i=e.listenProvider_.startListening(ju(t),o,a.hashFn,a.onComplete),s=e.syncPointTree_.subtree(r);if(o)qr(!pu(s.value),"If we're adding a query, it shouldn't be shadowed");else{const t=s.fold((e,t,n)=>{if(!Vl(e)&&t&&pu(t))return[hu(t).query];{let e=[];return t&&(e=e.concat(lu(t).map(e=>e.query))),sl(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(ju(r),ku(e,r))}}return i}(e,t,n))}return d}function Su(e,t,n){const r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=cu(n,Kl(e,t));if(r)return r});return Id(r,t,o,n,!0)}function Cu(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const o=Kl(e,n);r=r||cu(t,o)});let o=e.syncPointTree_.get(n);o?r=r||cu(o,Bl()):(o=new ru,e.syncPointTree_=e.syncPointTree_.set(n,o));const a=null!=r,i=a?new od(r,!0,!1):null;return function(e){return dd(e.viewCache_)}(au(o,t,Rd(e.pendingWriteTree_,t._path),a?i.getNode():Ac.EMPTY_NODE,a))}function wu(e,t){return Ru(t,e.syncPointTree_,null,Rd(e.pendingWriteTree_,Bl()))}function Ru(e,t,n,r){if(Vl(e.path))return Eu(e,t,n,r);{const o=t.get(Bl());null==n&&null!=o&&(n=cu(o,Bl()));let a=[];const i=Fl(e.path),s=e.operationForChild(i),l=t.children.get(i);if(l&&s){const e=n?n.getImmediateChild(i):null,t=Ld(r,i);a=a.concat(Ru(s,l,e,t))}return o&&(a=a.concat(ou(o,e,r,n))),a}}function Eu(e,t,n,r){const o=t.get(Bl());null==n&&null!=o&&(n=cu(o,Bl()));let a=[];return t.children.inorderTraversal((t,o)=>{const i=n?n.getImmediateChild(t):null,s=Ld(r,t),l=e.operationForChild(t);l&&(a=a.concat(Eu(l,o,i,s)))}),o&&(a=a.concat(ou(o,e,r,n))),a}function Tu(e,t){const n=t.query,r=ku(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Ac.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Iu(e,n);if(r){const n=Pu(r),o=n.path,a=n.queryId,i=Kl(o,t);return Mu(e,o,new td(Zc(a),i))}return[]}(e,n._path,r):function(e,t){return wu(e,new td({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return _u(e,n,null,r)}}}}function ku(e,t){const n=Au(t);return e.queryToTagMap.get(n)}function Au(e){return e._path.toString()+"$"+e._queryIdentifier}function Iu(e,t){return e.tagToQueryMap.get(t)}function Pu(e){const t=e.indexOf("$");return qr(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new zl(e.substr(0,t))}}function Mu(e,t,n){const r=e.syncPointTree_.get(t);qr(r,"Missing sync point for query tag that we're tracking");return ou(r,n,Rd(e.pendingWriteTree_,t),null)}function ju(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(qr(nu,"Reference.ts has not been loaded"),nu)(e._repo,e._path):e}class Du{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Du(t)}node(){return this.node_}}class Ou{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=ql(this.path_,e);return new Ou(this.syncTree_,t)}node(){return Su(this.syncTree_,this.path_)}}const Nu=function(e,t,n){return e&&"object"===typeof e?(qr(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Lu(e[".sv"],t,n):"object"===typeof e[".sv"]?zu(e[".sv"],t):void qr(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Lu=function(e,t,n){if("timestamp"===e)return n.timestamp;qr(!1,"Unexpected server value: "+e)},zu=function(e,t,n){e.hasOwnProperty("increment")||qr(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&qr(!1,"Unexpected increment value: "+r);const o=t.node();if(qr(null!==o&&"undefined"!==typeof o,"Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const a=o.getValue();return"number"!==typeof a?r:a+r},Bu=function(e,t,n,r){return Wu(t,new Ou(n,e),r)},Fu=function(e,t,n){return Wu(e,new Du(t),n)};function Wu(e,t,n){const r=e.getPriority().val(),o=Nu(r,t.getImmediateChild(".priority"),n);let a;if(e.isLeafNode()){const r=e,a=Nu(r.getValue(),t,n);return a!==r.getValue()||o!==r.getPriority().val()?new xc(a,Pc(o)):e}{const r=e;return a=r,o!==r.getPriority().val()&&(a=a.updatePriority(new xc(o))),r.forEachChild(vc,(e,r)=>{const o=Wu(r,t.getImmediateChild(e),n);o!==r&&(a=a.updateImmediateChild(e,o))}),a}}class Uu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function Hu(e,t){let n=t instanceof zl?t:new zl(t),r=e,o=Fl(n);for(;null!==o;){const e=To(r.node.children,o)||{children:{},childCount:0};r=new Uu(o,r,e),n=Ul(n),o=Fl(n)}return r}function Yu(e){return e.node.value}function Gu(e,t){e.node.value=t,Xu(e)}function qu(e){return e.node.childCount>0}function Vu(e,t){sl(e.node.children,(n,r)=>{t(new Uu(n,e,r))})}function Ku(e,t,n,r){n&&!r&&t(e),Vu(e,e=>{Ku(e,t,!0,r)}),n&&r&&t(e)}function $u(e){return new zl(null===e.parent?e.name:$u(e.parent)+"/"+e.name)}function Xu(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===Yu(e)&&!qu(e)}(n),o=Eo(e.node.children,t);r&&o?(delete e.node.children[t],e.node.childCount--,Xu(e)):r||o||(e.node.children[t]=n.node,e.node.childCount++,Xu(e))}(e.parent,e.name,e)}const Qu=/[\[\].#$\/\u0000-\u001F\u007F]/,Ju=/[\[\].#$\u0000-\u001F\u007F]/,Zu=10485760,ep=function(e){return"string"===typeof e&&0!==e.length&&!Qu.test(e)},tp=function(e){return"string"===typeof e&&0!==e.length&&!Ju.test(e)},np=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!Zs(e)||e&&"object"===typeof e&&Eo(e,".sv")},rp=function(e,t,n,r){r&&void 0===t||op(jo(e,"value"),t,n)},op=function(e,t,n){const r=n instanceof zl?new Jl(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+ec(r));if("function"===typeof t)throw new Error(e+"contains a function "+ec(r)+" with contents = "+t.toString());if(Zs(t))throw new Error(e+"contains "+t.toString()+" "+ec(r));if("string"===typeof t&&t.length>Zu/3&&Do(t)>Zu)throw new Error(e+"contains a string greater than "+Zu+" utf8 bytes "+ec(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,o=!1;if(sl(t,(t,a)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(o=!0,!ep(t)))throw new Error(e+" contains an invalid key ("+t+") "+ec(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Do(t),Zl(e)}(r,t),op(e,a,r),function(e){const t=e.parts_.pop();e.byteLength_-=Do(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&o)throw new Error(e+' contains ".value" child '+ec(r)+" in addition to actual children.")}},ap=function(e,t,n,r){if(r&&void 0===t)return;const o=jo(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(o+" must be an object containing the children to replace.");const a=[];sl(t,(e,t)=>{const r=new zl(e);if(op(o,t,ql(n,r)),".priority"===Hl(r)&&!np(t))throw new Error(o+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const o=Yl(r);for(let t=0;t<o.length;t++)if(".priority"===o[t]&&t===o.length-1);else if(!ep(o[t]))throw new Error(e+"contains an invalid key ("+o[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort($l);let o=null;for(n=0;n<t.length;n++){if(r=t[n],null!==o&&Ql(o,r))throw new Error(e+"contains a path "+o.toString()+" that is ancestor of another path "+r.toString());o=r}}(o,a)},ip=function(e,t,n){if(!n||void 0!==t){if(Zs(t))throw new Error(jo(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!np(t))throw new Error(jo(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sp=function(e,t,n,r){if((!r||void 0!==n)&&!tp(n))throw new Error(jo(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},lp=function(e,t){if(".info"===Fl(t))throw new Error(e+" failed = Can't modify data under /.info/")},cp=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!ep(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),tp(e)}(n))throw new Error(jo(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class dp{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function up(e,t){let n=null;for(let r=0;r<t.length;r++){const o=t[r],a=o.getPath();null===n||Xl(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(o)}n&&e.eventLists_.push(n)}function pp(e,t,n){up(e,n),fp(e,e=>Xl(e,t))}function hp(e,t,n){up(e,n),fp(e,e=>Ql(e,t)||Ql(t,e))}function fp(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const o=e.eventLists_[r];if(o){t(o.path)?(gp(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function gp(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Gs&&Ks("event: "+n.toString()),ul(r)}}}const mp="repo_interrupt";class yp{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qc(),this.transactionQueueTree_=new Uu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function bp(e,t,n){if(e.stats_=El(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Yc(e.repoInfo_,(t,n,r,o)=>{vp(e,t,n,r,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>Sp(e,!0),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{wo(n)}catch(Em){throw new Error("Invalid authOverride provided: "+Em)}}e.persistentConnection_=new rc(e.repoInfo_,t,(t,n,r,o)=>{vp(e,t,n,r,o)},t=>{Sp(e,t)},t=>{!function(e,t){sl(t,(t,n)=>{Cp(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return Rl[n]||(Rl[n]=t()),Rl[n]}(e.repoInfo_,()=>new Qc(e.stats_,e.server_)),e.infoData_=new Gc,e.infoSyncTree_=new gu({startListening:(t,n,r,o)=>{let a=[];const i=e.infoData_.getNode(t._path);return i.isEmpty()||(a=bu(e.infoSyncTree_,t._path,i),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Cp(e,"connected",!1),e.serverSyncTree_=new gu({startListening:(t,n,r,o)=>(e.server_.listen(t,r,n,(n,r)=>{const a=o(n,r);hp(e.eventQueue_,t._path,a)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function _p(e){const t=e.infoData_.getNode(new zl(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function xp(e){return(t=(t={timestamp:_p(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function vp(e,t,n,r,o){e.dataUpdateCount++;const a=new zl(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let i=[];if(o)if(r){const t=Ao(n,e=>Pc(e));i=function(e,t,n,r){const o=Iu(e,r);if(o){const r=Pu(o),a=r.path,i=r.queryId,s=Kl(a,t),l=hd.fromObject(n);return Mu(e,a,new rd(Zc(i),s,l))}return[]}(e.serverSyncTree_,a,t,o)}else{const t=Pc(n);i=xu(e.serverSyncTree_,a,t,o)}else if(r){const t=Ao(n,e=>Pc(e));i=function(e,t,n){const r=hd.fromObject(n);return wu(e,new rd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,t)}else{const t=Pc(n);i=bu(e.serverSyncTree_,a,t)}let s=a;i.length>0&&(s=Dp(e,a)),hp(e.eventQueue_,s,i)}function Sp(e,t){Cp(e,"connected",t),!1===t&&function(e){Ip(e,"onDisconnectEvents");const t=xp(e),n=qc();$c(e.onDisconnect_,Bl(),(r,o)=>{const a=Bu(r,o,e.serverSyncTree_,t);Vc(n,r,a)});let r=[];$c(n,Bl(),(t,n)=>{r=r.concat(bu(e.serverSyncTree_,t,n));const o=Bp(e,t);Dp(e,o)}),e.onDisconnect_=qc(),hp(e.eventQueue_,Bl(),r)}(e)}function Cp(e,t,n){const r=new zl("/.info/"+t),o=Pc(n);e.infoData_.updateSnapshot(r,o);const a=bu(e.infoSyncTree_,r,o);hp(e.eventQueue_,r,a)}function wp(e){return e.nextWriteId_++}function Rp(e,t,n,r,o){Ip(e,"set",{path:t.toString(),value:n,priority:r});const a=xp(e),i=Pc(n,r),s=Su(e.serverSyncTree_,t),l=Fu(i,s,a),c=wp(e),d=mu(e.serverSyncTree_,t,l,c,!0);up(e.eventQueue_,d),e.server_.put(t.toString(),i.val(!0),(n,r)=>{const a="ok"===n;a||Js("set at "+t+" failed: "+n);const i=yu(e.serverSyncTree_,c,!a);hp(e.eventQueue_,t,i),Pp(e,o,n,r)});const u=Bp(e,t);Dp(e,u),hp(e.eventQueue_,u,[])}function Ep(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,o)=>{"ok"===r&&Kc(e.onDisconnect_,t),Pp(e,n,r,o)})}function Tp(e,t,n,r){const o=Pc(n);e.server_.onDisconnectPut(t.toString(),o.val(!0),(n,a)=>{"ok"===n&&Vc(e.onDisconnect_,t,o),Pp(e,r,n,a)})}function kp(e,t,n){let r;r=".info"===Fl(t._path)?_u(e.infoSyncTree_,t,n):_u(e.serverSyncTree_,t,n),pp(e.eventQueue_,t._path,r)}function Ap(e){e.persistentConnection_&&e.persistentConnection_.interrupt(mp)}function Ip(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];Ks(t,...r)}function Pp(e,t,n,r){t&&ul(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let o=e;r&&(o+=": "+r);const a=new Error(o);a.code=e,t(a)}})}function Mp(e,t,n){return Su(e.serverSyncTree_,t,n)||Ac.EMPTY_NODE}function jp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||zp(e,t),Yu(t)){const n=Np(e,t);qr(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),o=Mp(e,t,r);let a=o;const i=o.hash();for(let c=0;c<n.length;c++){const e=n[c];qr(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Kl(t,e.path);a=a.updateChild(r,e.currentOutputSnapshotRaw)}const s=a.val(!0),l=t;e.server_.put(l.toString(),s,r=>{Ip(e,"transaction put response",{path:l.toString(),status:r});let o=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,o=o.concat(yu(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();zp(e,Hu(e.transactionQueueTree_,t)),jp(e,e.transactionQueueTree_),hp(e.eventQueue_,t,o);for(let e=0;e<r.length;e++)ul(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Js("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Dp(e,t)}},i)}(e,$u(t),n)}else qu(t)&&Vu(t,t=>{jp(e,t)})}function Dp(e,t){const n=Op(e,t),r=$u(n);return function(e,t,n){if(0===t.length)return;const r=[];let o=[];const a=t.filter(e=>0===e.status),i=a.map(e=>e.currentWriteId);for(let s=0;s<t.length;s++){const a=t[s],l=Kl(n,a.path);let c,d=!1;if(qr(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)d=!0,c=a.abortReason,o=o.concat(yu(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=25)d=!0,c="maxretry",o=o.concat(yu(e.serverSyncTree_,a.currentWriteId,!0));else{const n=Mp(e,a.path,i);a.currentInputSnapshot=n;const r=t[s].update(n.val());if(void 0!==r){op("transaction failed: Data returned ",r,a.path);let t=Pc(r);"object"===typeof r&&null!=r&&Eo(r,".priority")||(t=t.updatePriority(n.getPriority()));const s=a.currentWriteId,l=xp(e),c=Fu(t,n,l);a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=c,a.currentWriteId=wp(e),i.splice(i.indexOf(s),1),o=o.concat(mu(e.serverSyncTree_,a.path,c,a.currentWriteId,a.applyLocally)),o=o.concat(yu(e.serverSyncTree_,s,!0))}else d=!0,c="nodata",o=o.concat(yu(e.serverSyncTree_,a.currentWriteId,!0))}hp(e.eventQueue_,n,o),o=[],d&&(t[s].status=2,function(e){setTimeout(e,Math.floor(0))}(t[s].unwatcher),t[s].onComplete&&("nodata"===c?r.push(()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot)):r.push(()=>t[s].onComplete(new Error(c),!1,null))))}zp(e,e.transactionQueueTree_);for(let s=0;s<r.length;s++)ul(r[s]);jp(e,e.transactionQueueTree_)}(e,Np(e,n),r),r}function Op(e,t){let n,r=e.transactionQueueTree_;for(n=Fl(t);null!==n&&void 0===Yu(r);)r=Hu(r,n),n=Fl(t=Ul(t));return r}function Np(e,t){const n=[];return Lp(e,t,n),n.sort((e,t)=>e.order-t.order),n}function Lp(e,t,n){const r=Yu(t);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);Vu(t,t=>{Lp(e,t,n)})}function zp(e,t){const n=Yu(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Gu(t,n.length>0?n:void 0)}Vu(t,t=>{zp(e,t)})}function Bp(e,t){const n=$u(Op(e,t)),r=Hu(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{Fp(e,t)}),Fp(e,r),Ku(r,t=>{Fp(e,t)}),n}function Fp(e,t){const n=Yu(t);if(n){const r=[];let o=[],a=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(qr(a===t-1,"All SENT items should be at beginning of queue."),a=t,n[t].status=3,n[t].abortReason="set"):(qr(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),o=o.concat(yu(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Gu(t,void 0):n.length=a+1,hp(e.eventQueue_,$u(t),o);for(let e=0;e<r.length;e++)ul(r[e])}}const Wp=function(e,t){const n=Up(e),r=n.namespace;"firebase.com"===n.domain&&Qs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Qs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Js("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const o="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new vl(n.host,n.secure,r,o,t,"",r!==n.subdomain),path:new zl(n.pathString)}},Up=function(e){let t="",n="",r="",o="",a="",i=!0,s="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));let d=e.indexOf("/");-1===d&&(d=e.length);let u=e.indexOf("?");-1===u&&(u=e.length),t=e.substring(0,Math.min(d,u)),d<u&&(o=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(Em){}t+="/"+e}return t}(e.substring(d,u)));const p=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Js("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,u)));c=t.indexOf(":"),c>=0?(i="https"===s||"wss"===s,l=parseInt(t.substring(c+1),10)):c=t.length;const h=t.slice(0,c);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),a=r}"ns"in p&&(a=p.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:i,scheme:s,pathString:o,namespace:a}},Hp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Yp=function(){let e=0;const t=[];return function(n){const r=n===e;let o;e=n;const a=new Array(8);for(o=7;o>=0;o--)a[o]=Hp.charAt(n%64),n=Math.floor(n/64);qr(0===n,"Cannot push at time == 0");let i=a.join("");if(r){for(o=11;o>=0&&63===t[o];o--)t[o]=0;t[o]++}else for(o=0;o<12;o++)t[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)i+=Hp.charAt(t[o]);return qr(20===i.length,"nextPushId: Length should be 20."),i}}();class Gp{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+wo(this.snapshot.exportVal())}}class qp{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Vp{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return qr(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Kp{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new so;return Ep(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){lp("OnDisconnect.remove",this._path);const e=new so;return Tp(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){lp("OnDisconnect.set",this._path),rp("OnDisconnect.set",e,this._path,!1);const t=new so;return Tp(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){lp("OnDisconnect.setWithPriority",this._path),rp("OnDisconnect.setWithPriority",e,this._path,!1),ip("OnDisconnect.setWithPriority",t,!1);const n=new so;return function(e,t,n,r,o){const a=Pc(n,r);e.server_.onDisconnectPut(t.toString(),a.val(!0),(n,r)=>{"ok"===n&&Vc(e.onDisconnect_,t,a),Pp(0,o,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){lp("OnDisconnect.update",this._path),ap("OnDisconnect.update",e,this._path,!1);const t=new so;return function(e,t,n,r){if(ko(n))return Ks("onDisconnect().update() called with empty data.  Don't do anything."),void Pp(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(o,a)=>{"ok"===o&&sl(n,(n,r)=>{const o=Pc(r);Vc(e.onDisconnect_,ql(t,n),o)}),Pp(0,r,o,a)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class $p{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Vl(this._path)?null:Hl(this._path)}get ref(){return new Xp(this._repo,this._path)}get _queryIdentifier(){const e=Hc(this._queryParams),t=al(e);return"{}"===t?"default":t}get _queryObject(){return Hc(this._queryParams)}isEqual(e){if(!((e=No(e))instanceof $p))return!1;const t=this._repo===e._repo,n=Xl(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class Xp extends $p{constructor(e,t){super(e,t,new Wc,!1)}get parent(){const e=Gl(this._path);return null===e?null:new Xp(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Qp{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new zl(e),n=Zp(this.ref,e);return new Qp(this._node.getChild(t),n,vc)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new Qp(n,Zp(this.ref,t),vc)))}hasChild(e){const t=new zl(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Jp(e,t){return(e=No(e))._checkNotDeleted("ref"),void 0!==t?Zp(e._root,t):e._root}function Zp(e,t){var n,r,o,a;return null===Fl((e=No(e))._path)?(n="child",r="path",a=!1,(o=t)&&(o=o.replace(/^\/*\.info(\/|$)/,"/")),sp(n,r,o,a)):sp("child","path",t,!1),new Xp(e._repo,ql(e._path,t))}function eh(e){return e=No(e),new Kp(e._repo,e._path)}function th(e){return lp("remove",e._path),nh(e,null)}function nh(e,t){e=No(e),lp("set",e._path),rp("set",t,e._path,!1);const n=new so;return Rp(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function rh(e){e=No(e);const t=new Vp(()=>{}),n=new oh(t);return function(e,t,n){const r=Cu(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then(r=>{const o=Pc(r).withIndex(t._queryParams.getIndex());let a;if(vu(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())a=bu(e.serverSyncTree_,t._path,o);else{const n=ku(e.serverSyncTree_,t);a=xu(e.serverSyncTree_,t._path,o,n)}return hp(e.eventQueue_,t._path,a),_u(e.serverSyncTree_,t,n,null,!0),o},n=>(Ip(e,"get for query "+wo(t)+" failed: "+n),Promise.reject(new Error(n))))}(e._repo,e,n).then(t=>new Qp(t,new Xp(e._repo,e._path),e._queryParams.getIndex()))}class oh{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new Gp("value",this,new Qp(e.snapshotNode,new Xp(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new qp(this,e,t):null}matches(e){return e instanceof oh&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ah{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new qp(this,e,t):null}createEvent(e,t){qr(null!=e.childName,"Child events should have a childName.");const n=Zp(new Xp(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Gp(e.type,this,new Qp(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof ah&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function ih(e,t,n,r,o){let a;if("object"===typeof r&&(a=void 0,o=r),"function"===typeof r&&(a=r),o&&o.onlyOnce){const t=n,r=(n,r)=>{kp(e._repo,e,s),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const i=new Vp(n,a||void 0),s="value"===t?new oh(i):new ah(t,i);return function(e,t,n){let r;r=".info"===Fl(t._path)?vu(e.infoSyncTree_,t,n):vu(e.serverSyncTree_,t,n),pp(e.eventQueue_,t._path,r)}(e._repo,e,s),()=>kp(e._repo,e,s)}function sh(e,t,n,r){return ih(e,"value",t,n,r)}!function(e){qr(!tu,"__referenceConstructor has already been defined"),tu=e}(Xp),function(e){qr(!nu,"__referenceConstructor has already been defined"),nu=e}(Xp);const lh={};let ch=!1;function dh(e,t,n,r,o){let a=r||e.options.databaseURL;void 0===a&&(e.options.projectId||Qs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ks("Using default host for project ",e.options.projectId),a="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let i,s,l=Wp(a,o),c=l.repoInfo;"undefined"!==typeof process&&(s={NODE_ENV:"production",PUBLIC_URL:"/helldrafters",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BUILD_TIME:"2026-01-23T18:06:02+11:00",REACT_APP_COMMIT_SHA:"53f7b6a05b5e764bc7c0e86988d33a71e5133c33",REACT_APP_FIREBASE_API_KEY:"AIzaSyARJLpsPz2mv9BMnOU5kOO9bPfw7XcCLqA",REACT_APP_FIREBASE_AUTH_DOMAIN:"helldrafters.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://helldrafters-default-rtdb.asia-southeast1.firebasedatabase.app",REACT_APP_FIREBASE_PROJECT_ID:"helldrafters",REACT_APP_FIREBASE_STORAGE_BUCKET:"helldrafters.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"939935234211",REACT_APP_FIREBASE_APP_ID:"1:939935234211:web:714e4ab600a05445116716"}.FIREBASE_DATABASE_EMULATOR_HOST),s?(i=!0,a="http://".concat(s,"?ns=").concat(c.namespace),l=Wp(a,o),c=l.repoInfo):i=!l.repoInfo.secure;const d=o&&i?new gl(gl.OWNER):new fl(e.name,e.options,t);cp("Invalid Firebase Database URL",l),Vl(l.path)||Qs("Database URL must point to the root of a Firebase Database (not including a child path).");const u=function(e,t,n,r){let o=lh[t.name];o||(o={},lh[t.name]=o);let a=o[e.toURLString()];a&&Qs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new yp(e,ch,n,r),o[e.toURLString()]=a,a}(c,e,d,new hl(e,n));return new uh(u,e)}class uh{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bp(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xp(this._repo,Bl())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=lh[t];n&&n[e.key]===e||Qs("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Ap(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Qs("Cannot call "+e+" on a deleted database.")}}function ph(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ja(),t=arguments.length>1?arguments[1]:void 0;const n=Ka(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=ao("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=No(e),e._checkNotDeleted("useEmulator");const o="".concat(t,":").concat(n),a=e._repoInternal;if(e._instanceStarted){if(o===e._repoInternal.repoInfo_.host&&Io(r,a.repoInfo_.emulatorOptions))return;Qs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let i;if(a.repoInfo_.nodeAdmin)r.mockUserToken&&Qs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new gl(gl.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=d({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Jr(JSON.stringify({alg:"none",type:"JWT"})),Jr(JSON.stringify(a)),""].join(".")}(r.mockUserToken,e.app.options.projectId);i=new gl(t)}lo(t)&&(!async function(e){(await fetch(e,{credentials:"include"})).ok}(t),po("Database",!0));!function(e,t,n,r){const o=t.lastIndexOf(":"),a=lo(t.substring(0,o));e.repoInfo_=new vl(t,a,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(a,o,r,i)}(n,...e)}return n}const hh={".sv":"timestamp"};function fh(){return hh}rc.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},rc.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Os("12.8.0"),Va(new Lo("database",(e,t)=>{let{instanceIdentifier:n}=t;return dh(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Za(Ms,js,e),Za(Ms,js,"esm2020")}();const gh={apiKey:"AIzaSyARJLpsPz2mv9BMnOU5kOO9bPfw7XcCLqA",authDomain:"helldrafters.firebaseapp.com",databaseURL:"https://helldrafters-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"helldrafters",storageBucket:"helldrafters.firebasestorage.app",messagingSenderId:"939935234211",appId:"1:939935234211:web:714e4ab600a05445116716"};let mh=null,yh=null,bh=null;const _h=async()=>{if(!gh.apiKey||!gh.databaseURL)return console.warn("Firebase config not found. Multiplayer features will be disabled."),!1;try{mh=Qa(gh),yh=ph(mh);return await async function(){if(go())return!1;if(!_o())return!1;if(!yo())return!1;try{return await bo()}catch(Xs){return!1}}()?(bh=Ts(mh),console.log("Firebase Analytics initialized successfully")):console.log("Firebase Analytics not supported in this environment"),!0}catch(Xs){return console.error("Failed to initialize Firebase:",Xs),!1}},xh=()=>{if(!yh)throw new Error("Firebase not initialized. Call initializeFirebase() first.");return yh},vh=()=>bh,Sh=()=>!(!gh.apiKey||!gh.databaseURL),Ch=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=vh();if(n)try{As(n,e,t)}catch(Xs){console.warn("Failed to log analytics event:",Xs)}},wh=(e,t)=>{Ch("game_start",{game_mode:e,difficulty:t})},Rh=(e,t,n,r)=>{Ch("game_end",{game_mode:e,missions_completed:t,game_time_seconds:n,victory:r})},Eh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n={action:e};null!==t&&(n.player_count=t),Ch("multiplayer_action",n)},Th=e=>{Ch("modal_open",{modal_name:e})},kh=Ft("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),Ah={PRIMARY:"#F5C642",PRIMARY_HOVER:"#f7d058",PRIMARY_DARK:"#d4a935",BG_MAIN:"#1a2332",BG_GRADIENT_START:"#1a2332",BG_GRADIENT_END:"#0f1419",CARD_BG:"#283548",CARD_INNER:"#1e293b",CARD_BORDER:"rgba(100, 116, 139, 0.5)",CARD_BORDER_ACTIVE:"#F5C642",TEXT_PRIMARY:"#ffffff",TEXT_SECONDARY:"#cbd5e1",TEXT_MUTED:"#94a3b8",TEXT_DISABLED:"#64748b",ACCENT_BLUE:"#3b82f6",ACCENT_PURPLE:"#a855f7",ACCENT_RED:"#ef4444",ACCENT_GREEN:"#22c55e",COMMON:"#94a3b8",UNCOMMON:"#3b82f6",RARE:"#a855f7",VERYRARE:"#F5C642",TERMINIDS:"#e59f61",AUTOMATONS:"#cf6559",ILLUMINATE:"#b28ac1"},Ih={terminid:{PRIMARY:"#e59f61",PRIMARY_HOVER:"#e2914b",SHADOW:"0 4px 16px rgba(229, 159, 97, 0.4)",SHADOW_HOVER:"0 6px 20px rgba(229, 159, 97, 0.5)",GLOW:"0 4px 20px rgba(229, 159, 97, 0.3)"},automaton:{PRIMARY:"#cf6559",PRIMARY_HOVER:"#c95245",SHADOW:"0 4px 16px rgba(207, 101, 89, 0.4)",SHADOW_HOVER:"0 6px 20px rgba(207, 101, 89, 0.5)",GLOW:"0 4px 20px rgba(207, 101, 89, 0.3)"},illuminate:{PRIMARY:"#b28ac1",PRIMARY_HOVER:"#a779b9",SHADOW:"0 4px 16px rgba(178, 138, 193, 0.4)",SHADOW_HOVER:"0 6px 20px rgba(178, 138, 193, 0.5)",GLOW:"0 4px 20px rgba(178, 138, 193, 0.3)"}},Ph=e=>Ih[e]||Ih.terminid,Mh={BUTTON_PRIMARY:"0 4px 16px rgba(245, 198, 66, 0.4)",BUTTON_PRIMARY_HOVER:"0 6px 20px rgba(245, 198, 66, 0.5)",CARD:"0 8px 32px rgba(0, 0, 0, 0.4)",GLOW_PRIMARY:"0 4px 20px rgba(245, 198, 66, 0.3)",GLOW_BLUE:"0 4px 20px rgba(59, 130, 246, 0.3)",GLOW_PURPLE:"0 4px 20px rgba(168, 85, 247, 0.3)",GLOW_GREEN:"0 4px 20px rgba(34, 197, 94, 0.3)"},jh="linear-gradient(to right, #5a5142, #6b6052)",Dh="linear-gradient(to bottom, #1a2332, #0f1419)",Oh="0.05em",Nh={PRIMARY:{backgroundColor:Ah.PRIMARY,color:"black",border:"2px solid ".concat(Ah.PRIMARY),fontWeight:"900",textTransform:"uppercase",letterSpacing:Oh,cursor:"pointer",transition:"all 0.2s",boxShadow:Mh.BUTTON_PRIMARY},SECONDARY:{backgroundColor:"transparent",color:Ah.TEXT_MUTED,border:"2px solid ".concat(Ah.CARD_BORDER),fontWeight:"900",textTransform:"uppercase",letterSpacing:Oh,cursor:"pointer",transition:"all 0.2s"}};"2px solid ".concat(Ah.CARD_BORDER),"1px solid ".concat(Ah.CARD_BORDER);var Lh=n(579);function zh(e){let{currentMission:t,totalMissions:n,factionColors:r}=e;const o=[];for(let a=1;a<=n;a++){const e=a<t,n=a===t;o.push((0,Lh.jsx)("div",{style:{width:"16px",height:"16px",borderRadius:"50%",border:"2px solid ".concat(r.PRIMARY),backgroundColor:e?r.PRIMARY:"transparent",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},title:"Mission ".concat(a).concat(e?" (Complete)":n?" (Current)":""),children:n&&(0,Lh.jsx)("div",{style:{width:"6px",height:"6px",borderRadius:"50%",backgroundColor:r.PRIMARY}})},a))}return(0,Lh.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:o})}function Bh(e){var t,n;let{currentDiff:r,currentMission:o,enduranceMode:a,requisition:i,faction:s,subfaction:l,samples:c,onExport:d,onHelp:u}=e;const p=Ph(s),h=(null===(t=br.SUBFACTION_CONFIG[l])||void 0===t?void 0:t.name)||"Unknown",f=a?fr(r):1;return(0,Lh.jsx)("div",{style:{backgroundColor:"#0f1419",borderBottom:"1px solid ".concat(p.PRIMARY,"4D"),padding:"16px",position:"sticky",top:0,zIndex:10},children:(0,Lh.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,Lh.jsxs)("div",{style:{backgroundColor:p.PRIMARY,color:"black",padding:"4px 12px",fontWeight:"900",fontSize:"20px",borderRadius:"4px"},children:["D",r]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("h1",{style:{fontSize:"18px",fontWeight:"bold",textTransform:"uppercase",color:"white",letterSpacing:"1px",margin:0},children:null===(n=pr[r-1])||void 0===n?void 0:n.name}),(0,Lh.jsxs)("div",{style:{fontSize:"12px",color:p.PRIMARY,fontFamily:"monospace"},children:["Theater: ",s," - ",h]})]}),a&&(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginLeft:"16px",padding:"8px 12px",backgroundColor:"rgba(100, 116, 139, 0.2)",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.3)"},children:[(0,Lh.jsx)("span",{style:{fontSize:"11px",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Operation"}),(0,Lh.jsx)(zh,{currentMission:o||1,totalMissions:f,factionColors:p}),(0,Lh.jsxs)("span",{style:{fontSize:"11px",color:p.PRIMARY,fontWeight:"bold"},children:[o||1,"/",f]})]})]}),(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"24px"},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:p.PRIMARY},children:[(0,Lh.jsx)("img",{src:"https://helldivers.wiki.gg/images/Requisition_Slip.svg",alt:"Requisition",style:{width:"20px",height:"20px"}}),(0,Lh.jsx)("span",{style:{fontFamily:"monospace",fontWeight:"bold",fontSize:"20px"},children:Math.floor(i)})]}),(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,Lh.jsx)("img",{src:"https://helldivers.wiki.gg/images/Common_Sample_Logo.svg",alt:"Common Samples",style:{width:"18px",height:"18px"}}),(0,Lh.jsx)("span",{style:{fontFamily:"monospace",fontWeight:"bold",fontSize:"16px",color:"#22c55e"},children:(null===c||void 0===c?void 0:c.common)||0})]}),(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,Lh.jsx)("img",{src:"https://helldivers.wiki.gg/images/Rare_Sample_Logo.svg",alt:"Rare Samples",style:{width:"18px",height:"18px"}}),(0,Lh.jsx)("span",{style:{fontFamily:"monospace",fontWeight:"bold",fontSize:"16px",color:"#f97316"},children:(null===c||void 0===c?void 0:c.rare)||0})]}),(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,Lh.jsx)("img",{src:"https://helldivers.wiki.gg/images/Super_Sample_Logo.svg",alt:"Super Rare Samples",style:{width:"18px",height:"18px"}}),(0,Lh.jsx)("span",{style:{fontFamily:"monospace",fontWeight:"bold",fontSize:"16px",color:"#a855f7"},children:(null===c||void 0===c?void 0:c.superRare)||0})]})]}),(0,Lh.jsxs)("button",{onClick:u,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"rgba(100, 116, 139, 0.3)",color:"#94a3b8",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.5)",e.currentTarget.style.color=p.PRIMARY},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.3)",e.currentTarget.style.color="#94a3b8"},children:[(0,Lh.jsx)(kh,{size:16}),"Help"]}),(0,Lh.jsx)("button",{onClick:d,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"rgba(100, 116, 139, 0.3)",color:"#94a3b8",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.5)",e.currentTarget.style.color=p.PRIMARY},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.3)",e.currentTarget.style.color="#94a3b8"},children:"\ud83d\udcbe Export"})]})]})})}const Fh=Ft("coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);function Wh(){return(0,Lh.jsx)("div",{style:{backgroundColor:"transparent",padding:"20px 16px",marginTop:"auto"},children:(0,Lh.jsxs)("div",{style:{margin:"0 auto",display:"flex",justifyContent:"center",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[(0,Lh.jsxs)("a",{href:"https://github.com/TheInsomnolent/helldrafters/issues",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"rgba(100, 116, 139, 0.1)",color:Ah.TEXT_MUTED,border:"1px solid rgba(100, 116, 139, 0.3)",borderRadius:"6px",fontSize:"13px",fontWeight:"bold",textDecoration:"none",textTransform:"uppercase",transition:"all 0.2s",letterSpacing:"0.5px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.2)",e.currentTarget.style.borderColor=Ah.TEXT_MUTED,e.currentTarget.style.color=Ah.TEXT_SECONDARY},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.1)",e.currentTarget.style.borderColor="rgba(100, 116, 139, 0.3)",e.currentTarget.style.color=Ah.TEXT_MUTED},children:[(0,Lh.jsx)(Ut,{size:16}),"Report Bug/Feedback"]}),(0,Lh.jsxs)("a",{href:"https://ko-fi.com/theinsomnolent",target:"_blank",rel:"noopener noreferrer",style:{display:"flex",alignItems:"center",gap:"8px",padding:"10px 20px",backgroundColor:"rgba(255, 94, 77, 0.1)",color:"#ff5e4d",border:"1px solid rgba(255, 94, 77, 0.3)",borderRadius:"6px",fontSize:"13px",fontWeight:"bold",textDecoration:"none",textTransform:"uppercase",transition:"all 0.2s",letterSpacing:"0.5px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255, 94, 77, 0.2)",e.currentTarget.style.borderColor="#ff5e4d"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255, 94, 77, 0.1)",e.currentTarget.style.borderColor="rgba(255, 94, 77, 0.3)"},children:[(0,Lh.jsx)(Fh,{size:16}),"Support Our Costs"]})]})})}function Uh(e){let{currentEvent:t,eventPlayerChoice:n,players:r,currentDiff:o,requisition:a,isHost:i=!0,needsPlayerChoice:s,canAffordChoice:l,formatOutcome:c,formatOutcomes:d,onPlayerChoice:u,onEventChoice:p,onAutoContinue:h,onSkipEvent:f,eventSourcePlayerSelection:g,eventStratagemSelection:m,eventTargetPlayerSelection:y,eventTargetStratagemSelection:b,eventBoosterDraft:_,eventBoosterSelection:x,eventSpecialDraft:v,eventSpecialDraftType:S,eventSpecialDraftSelections:C,eventSelectedChoice:w,pendingFaction:R,pendingSubfactionSelection:E,isMultiplayer:T=!1,playerSlot:k=null,onSourcePlayerSelection:A,onStratagemSelection:I,onTargetPlayerSelection:P,onTargetStratagemSelection:M,onBoosterSelection:j,onEventSelectedChoice:D,onSubfactionSelection:O,onConfirmSubfaction:N,onSpecialDraftSelection:L,onConfirmSelections:z,connectedPlayerIndices:B=null}=e;const F=e=>null===B||B.includes(e),W=e=>{const t=dr.find(t=>t.id===e);return t?t.name:"Unknown"},U=e=>!(!e||!e.outcomes)&&e.outcomes.some(e=>e.type===ln),H=e=>!(!e||!e.outcomes)&&e.outcomes.some(e=>e.type===sn),Y=e=>!(!e||!e.outcomes)&&e.outcomes.some(e=>e.type===cn&&"choose"===e.targetPlayer),G=w,q=e=>{i&&((e=>!(!e||!e.outcomes)&&e.outcomes.some(e=>e.type===sn||e.type===ln||e.type===cn&&"choose"===e.targetPlayer))(e)?D(e):p(e))},V=(e,t)=>{if(null===e||void 0===e)return!1;const n=r[e];return!(!n||!n.loadout)&&n.loadout.stratagems.includes(t)},K=e=>{if(null===e||void 0===e)return!1;const t=r[e];return!(!t||!t.loadout)&&t.loadout.stratagems.some(e=>null===e)},$=(()=>{const e=U(G)?g:n;if(null===e)return[];const t=r[e];return t&&t.loadout?t.loadout.stratagems.map((e,t)=>({stratagemId:e,stratagemSlotIndex:t,name:W(e)})).filter(e=>null!==e.stratagemId):[]})(),X=(()=>{if(null===y||void 0===y)return[];const e=r[y];if(!e||!e.loadout)return[];if(U(G)&&m&&null!==g){const t=r[g];return t&&t.loadout?e.loadout.stratagems.map((e,t)=>({stratagemId:e,stratagemSlotIndex:t,name:W(e)})).filter(e=>{if(null===e.stratagemId)return!1;return!t.loadout.stratagems.some((t,n)=>t===e.stratagemId&&n!==m.stratagemSlotIndex)}):[]}return e.loadout.stratagems.map((e,t)=>({stratagemId:e,stratagemSlotIndex:t,name:W(e)})).filter(e=>null!==e.stratagemId)})(),Q=(()=>{if(Y(G))return r.map((e,t)=>({player:e,idx:t})).filter(e=>{let{idx:t}=e;return F(t)});const e=U(G)?g:n;if(null===e)return[];const t=r.map((e,t)=>({player:e,idx:t})).filter((t,n)=>n!==e).filter(e=>{let{idx:t}=e;return F(t)});if(H(G)&&m)return t.filter(e=>{let{player:t,idx:n}=e;const r=V(n,m.stratagemId),o=K(n);return!r||!o});if(U(G)&&m){const e=m.stratagemId;return t.filter(t=>{let{player:n,idx:r}=t;return!V(r,e)})}return t})(),J=Array.isArray(C)?C:[],Z=J.length===r.length&&J.every(e=>null!==e&&void 0!==e),ee=H(G)&&null!==y&&!K(y),te=Y(G)?null!==y:null!==m&&null!==y&&(!U(G)||null!==g&&null!==b)&&(!ee||null!==b);return(0,Lh.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#1a2332",color:"#e0e0e0",padding:"24px"},children:[(0,Lh.jsxs)("div",{style:{position:"fixed",top:0,left:0,right:0,backgroundColor:"#0f1419",padding:"16px 24px",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"2px solid #F5C642",zIndex:100},children:[(0,Lh.jsxs)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"#F5C642"},children:["EVENT - DIFFICULTY ",o]}),(0,Lh.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[i&&(0,Lh.jsx)("button",{onClick:()=>{window.confirm("\u26a0\ufe0f BETA FEATURE - EMERGENCY SKIP \u26a0\ufe0f\n\nThis feature is only intended to help you escape from soft-locks during beta testing.\n\nIf you are using this button, please report the bug:\n\u2022 What event was active?\n\u2022 What was the game state?\n\u2022 What steps led to the soft-lock?\n\nSkip this event for all players?")&&f&&f()},style:{padding:"8px 16px",backgroundColor:"#dc2626",color:"white",border:"2px solid #991b1b",borderRadius:"4px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#b91c1c"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#dc2626"},children:"\ud83d\uded1 BETA: Skip Event"}),(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Lh.jsx)("img",{src:"https://helldivers.wiki.gg/images/Requisition_Slip.svg",alt:"Requisition",style:{width:"20px",height:"20px"}}),(0,Lh.jsx)("span",{style:{fontWeight:"bold"},children:Math.floor(a)})]})]})]}),(0,Lh.jsx)("div",{style:{maxWidth:"800px",margin:"100px auto 0",display:"flex",flexDirection:"column",gap:"24px"},children:(0,Lh.jsxs)("div",{style:{backgroundColor:"#283548",border:"2px solid #F5C642",borderRadius:"8px",padding:"32px",textAlign:"center"},children:[(0,Lh.jsx)("h2",{style:{fontSize:"32px",color:"#F5C642",marginBottom:"16px",fontWeight:"bold"},children:t.name}),(0,Lh.jsx)("p",{style:{fontSize:"18px",lineHeight:"1.6",marginBottom:"32px",color:"#b0b0b0"},children:t.description}),s(t)&&null===n&&(0,Lh.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"16px",marginBottom:"12px",color:"#F5C642"},children:i?"Choose a Helldiver:":"Waiting for host to choose a Helldiver..."}),(0,Lh.jsx)("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:r.map((e,t)=>{const n=F(t),r=i&&n;return(0,Lh.jsxs)("button",{onClick:()=>r&&u(t),disabled:!r,style:{padding:"12px 24px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#1a2332",color:n?"#F5C642":"#64748b",border:"2px solid ".concat(n?"#F5C642":"#64748b"),borderRadius:"4px",cursor:r?"pointer":"not-allowed",opacity:n?i?1:.6:.4,transition:"all 0.2s"},onMouseEnter:e=>r&&(e.currentTarget.style.backgroundColor="#283548"),onMouseLeave:e=>r&&(e.currentTarget.style.backgroundColor="#1a2332"),title:n?void 0:"Player is disconnected",children:["HELLDIVER ",t+1,!n&&" (DISCONNECTED)"]},t)})}),t.type===qt&&t.choices&&t.choices.length>0&&(0,Lh.jsxs)("div",{style:{marginTop:"24px",opacity:.5},children:[(0,Lh.jsx)("div",{style:{fontSize:"14px",color:"#64748b",marginBottom:"12px",textAlign:"center"},children:"Available choices (select a Helldiver first):"}),(0,Lh.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:t.choices.map((e,t)=>{const n=d(e.outcomes),r=e.requiresRequisition;return(0,Lh.jsxs)("div",{style:{padding:"12px 16px",backgroundColor:"#283548",border:"1px solid #555",borderRadius:"4px",textAlign:"left"},children:[(0,Lh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px",color:"#b0b0b0"},children:[(0,Lh.jsx)("span",{children:e.text}),r&&(0,Lh.jsxs)("span",{style:{fontSize:"12px",fontWeight:"bold"},children:["Costs ",r," requisition"]})]}),(0,Lh.jsx)("div",{style:{fontSize:"12px",opacity:.7,fontStyle:"italic",marginTop:"4px",color:"#94a3b8"},children:n})]},t)})})]})]}),G&&(!s(t)||null!==n)&&(0,Lh.jsx)("div",{style:{marginBottom:"24px"},children:(0,Lh.jsxs)("div",{style:{backgroundColor:"#1f2937",border:"2px solid #F5C642",borderRadius:"8px",padding:"24px",marginBottom:"16px"},children:[!i&&(0,Lh.jsx)("div",{style:{fontSize:"14px",marginBottom:"12px",color:"#9ca3af",textAlign:"center",fontStyle:"italic"},children:"Waiting for host to make selections..."}),G.outcomes.some(e=>e.type===sn)&&(0,Lh.jsx)("div",{style:{fontSize:"18px",marginBottom:"16px",color:"#F5C642",textAlign:"center"},children:"Select a stratagem to duplicate and a player to receive it:"}),G.outcomes.some(e=>e.type===ln)&&(0,Lh.jsx)("div",{style:{fontSize:"18px",marginBottom:"16px",color:"#F5C642",textAlign:"center"},children:"Select two helldivers and their stratagems to swap:"}),Y(G)&&(0,Lh.jsx)("div",{style:{fontSize:"18px",marginBottom:"16px",color:"#F5C642",textAlign:"center"},children:"Select which Helldiver will be restricted to a single weapon:"}),U(G)&&(0,Lh.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"14px",marginBottom:"8px",color:"#b0b0b0"},children:"Step 1: Select Source Helldiver:"}),(0,Lh.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",justifyContent:"center"},children:r.map((e,t)=>(0,Lh.jsxs)("button",{onClick:()=>i&&A(t),disabled:!i||!F(t),style:{padding:"12px 24px",fontSize:"14px",fontWeight:g===t?"bold":"normal",backgroundColor:g===t?"#F5C642":"#283548",color:g===t?"#0f1419":"#e0e0e0",border:"2px solid "+(g===t?"#F5C642":"#555"),borderRadius:"4px",cursor:i&&F(t)?"pointer":"not-allowed",transition:"all 0.2s",opacity:i&&F(t)?1:.6},children:["HELLDIVER ",t+1]},t))})]}),(!U(G)||null!==g)&&(0,Lh.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"14px",marginBottom:"8px",color:"#b0b0b0"},children:U(G)?"Step 2: Select HELLDIVER ".concat(g+1,"'s Stratagem:"):"Your Stratagems:"}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"8px"},children:$.map((e,t)=>(0,Lh.jsx)("button",{onClick:()=>i&&I({stratagemId:e.stratagemId,stratagemSlotIndex:e.stratagemSlotIndex}),disabled:!i,style:{padding:"12px",fontSize:"14px",backgroundColor:(null===m||void 0===m?void 0:m.stratagemId)===e.stratagemId?"#F5C642":"#283548",color:(null===m||void 0===m?void 0:m.stratagemId)===e.stratagemId?"#0f1419":"#e0e0e0",border:"2px solid "+((null===m||void 0===m?void 0:m.stratagemId)===e.stratagemId?"#F5C642":"#555"),borderRadius:"4px",cursor:i?"pointer":"not-allowed",fontWeight:(null===m||void 0===m?void 0:m.stratagemId)===e.stratagemId?"bold":"normal",transition:"all 0.2s",textAlign:"left",opacity:i?1:.6},children:e.name},t))})]}),(Y(G)||!U(G)&&null!==m||U(G)&&null!==m)&&(0,Lh.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Lh.jsxs)("div",{style:{fontSize:"14px",marginBottom:"8px",color:"#b0b0b0",display:"flex",alignItems:"center",gap:"12px"},children:[(0,Lh.jsx)("span",{children:U(G)?"Step 3: Target Helldiver:":Y(G)?"Select Helldiver:":"Target Helldiver:"}),i&&null!==y&&(0,Lh.jsx)("button",{onClick:()=>{P(null),M(null)},style:{padding:"4px 12px",fontSize:"12px",fontWeight:"bold",backgroundColor:"#6b7280",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#4b5563",onMouseLeave:e=>e.target.style.backgroundColor="#6b7280",children:"\u2190 Change Target"})]}),(0,Lh.jsx)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",justifyContent:"center"},children:Q.map(e=>{let{player:t,idx:n}=e;return(0,Lh.jsxs)("button",{onClick:()=>i&&P(n),disabled:!i,style:{padding:"12px 24px",fontSize:"14px",fontWeight:y===n?"bold":"normal",backgroundColor:y===n?"#F5C642":"#283548",color:y===n?"#0f1419":"#e0e0e0",border:"2px solid "+(y===n?"#F5C642":"#555"),borderRadius:"4px",cursor:i?"pointer":"not-allowed",transition:"all 0.2s",opacity:i?1:.6},children:["HELLDIVER ",n+1]},n)})})]}),(U(G)&&null!==y&&X.length>0||H(G)&&ee&&X.length>0)&&(0,Lh.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"14px",marginBottom:"8px",color:"#b0b0b0"},children:U(G)?"Step 4: Select HELLDIVER ".concat(y+1,"'s Stratagem:"):"Target Helldiver's Stratagems (select one to overwrite):"}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"8px"},children:X.map((e,t)=>(0,Lh.jsx)("button",{onClick:()=>i&&M({stratagemId:e.stratagemId,stratagemSlotIndex:e.stratagemSlotIndex}),disabled:!i,style:{padding:"12px",fontSize:"14px",backgroundColor:(null===b||void 0===b?void 0:b.stratagemId)===e.stratagemId?"#4ade80":"#283548",color:(null===b||void 0===b?void 0:b.stratagemId)===e.stratagemId?"#0f1419":"#e0e0e0",border:"2px solid "+((null===b||void 0===b?void 0:b.stratagemId)===e.stratagemId?"#4ade80":"#555"),borderRadius:"4px",cursor:i?"pointer":"not-allowed",fontWeight:(null===b||void 0===b?void 0:b.stratagemId)===e.stratagemId?"bold":"normal",transition:"all 0.2s",textAlign:"left",opacity:i?1:.6},children:e.name},t))})]}),i&&(0,Lh.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[(0,Lh.jsx)("button",{onClick:()=>{i&&G&&(z(G),D(null))},disabled:!te,style:{padding:"12px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:te?"#4ade80":"#555",color:te?"#0f1419":"#888",border:"none",borderRadius:"4px",cursor:te?"pointer":"not-allowed",transition:"all 0.2s"},onMouseEnter:e=>te&&(e.target.style.backgroundColor="#22c55e"),onMouseLeave:e=>te&&(e.target.style.backgroundColor="#4ade80"),children:"CONFIRM"}),(0,Lh.jsx)("button",{onClick:()=>{i&&(D(null),A(null),I(null),P(null),M(null),j(null))},style:{padding:"12px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#ef4444",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#dc2626",onMouseLeave:e=>e.target.style.backgroundColor="#ef4444",children:"CANCEL"})]})]})}),_&&_.length>0&&(0,Lh.jsx)("div",{style:{marginBottom:"24px"},children:(0,Lh.jsxs)("div",{style:{backgroundColor:"#1f2937",border:"2px solid #F5C642",borderRadius:"8px",padding:"24px",marginBottom:"16px"},children:[(0,Lh.jsxs)("div",{style:{fontSize:"18px",marginBottom:"16px",color:"#F5C642",textAlign:"center",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px"},children:[(0,Lh.jsx)("span",{children:"Select a Booster:"}),s(t)&&null!==n&&(0,Lh.jsx)("button",{onClick:()=>{u(null),j(null)},style:{padding:"6px 14px",fontSize:"12px",fontWeight:"bold",backgroundColor:"#6b7280",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#4b5563",onMouseLeave:e=>e.target.style.backgroundColor="#6b7280",children:"\u2190 Change Helldiver"})]}),(0,Lh.jsx)("div",{style:{marginBottom:"20px"},children:(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"12px"},children:_.map((e,t)=>{const n=(r=e,dr.find(e=>e.id===r));var r;const o=n?n.name:"Unknown",a=n?n.rarity:vn,i=(e=>{const t={[vn]:{bg:"#6b7280",color:"white"},[Sn]:{bg:"#22c55e",color:"black"},[Cn]:{bg:"#f97316",color:"black"},[wn]:{bg:"#9333ea",color:"white"}};return t[e]||t[vn]})(a);return(0,Lh.jsxs)("button",{onClick:()=>j(e),style:{padding:"16px",fontSize:"15px",backgroundColor:x===e?"#F5C642":"#283548",color:x===e?"#0f1419":"#e0e0e0",border:"2px solid "+(x===e?"#F5C642":"#555"),borderRadius:"4px",cursor:"pointer",fontWeight:x===e?"bold":"normal",transition:"all 0.2s",textAlign:"center",display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},onMouseEnter:t=>{x!==e&&(t.target.style.backgroundColor="#374151",t.target.style.borderColor="#F5C642")},onMouseLeave:t=>{x!==e&&(t.target.style.backgroundColor="#283548",t.target.style.borderColor="#555")},children:[(0,Lh.jsx)("div",{children:o}),(0,Lh.jsx)("span",{style:{fontSize:"10px",textTransform:"uppercase",fontWeight:"bold",padding:"2px 8px",borderRadius:"4px",backgroundColor:i.bg,color:i.color},children:a})]},t)})})}),(0,Lh.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[(0,Lh.jsx)("button",{onClick:h,disabled:!x,style:{padding:"12px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:x?"#4ade80":"#555",color:x?"#0f1419":"#888",border:"none",borderRadius:"4px",cursor:x?"pointer":"not-allowed",transition:"all 0.2s"},onMouseEnter:e=>x&&(e.target.style.backgroundColor="#22c55e"),onMouseLeave:e=>x&&(e.target.style.backgroundColor="#4ade80"),children:"CONFIRM"}),(0,Lh.jsx)("button",{onClick:h,style:{padding:"12px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#6b7280",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#4b5563",onMouseLeave:e=>e.target.style.backgroundColor="#6b7280",children:"SKIP"})]})]})}),R&&(0,Lh.jsx)("div",{style:{marginBottom:"24px"},children:(0,Lh.jsxs)("div",{style:{backgroundColor:"#1f2937",border:"2px solid ".concat(Ph(R).PRIMARY),borderRadius:"8px",padding:"24px",marginBottom:"16px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"18px",marginBottom:"16px",color:Ph(R).PRIMARY,textAlign:"center"},children:i||!T?"Select Enemy Variant for":"Host selected Helldiver 1"}),!i&&T&&(0,Lh.jsx)("div",{style:{fontSize:"14px",marginBottom:"16px",color:"#94a3b8",textAlign:"center",fontStyle:"italic"},children:"Waiting for host to make a choice..."}),(0,Lh.jsx)("div",{style:{fontSize:"18px",marginBottom:"16px",color:Ph(R).PRIMARY,textAlign:"center"},children:i||!T?R:""}),(0,Lh.jsx)("div",{style:{marginBottom:"20px"},children:(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:(0,br.getSubfactionsForFaction)(R).map(e=>{const t=br.SUBFACTION_CONFIG[e],n=E===e,r=Ph(R).PRIMARY,o=i||!T;return(0,Lh.jsxs)("button",{onClick:()=>o&&O(e),disabled:!o,style:{padding:"16px",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",transition:"all 0.2s",fontSize:"13px",letterSpacing:"0.5px",backgroundColor:n?"".concat(r,"15"):"transparent",color:n?r:"#64748b",border:n?"2px solid ".concat(r):"1px solid rgba(100, 116, 139, 0.5)",cursor:o?"pointer":"not-allowed",textAlign:"left",opacity:o?1:.6},onMouseEnter:e=>{n||(e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.1)",e.currentTarget.style.color="#94a3b8")},onMouseLeave:e=>{n||(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#64748b")},children:[(0,Lh.jsx)("div",{style:{fontSize:"14px",marginBottom:"4px"},children:t.name}),(0,Lh.jsxs)("div",{style:{fontSize:"11px",color:n?r:"#64748b",opacity:.8},children:[t.description," \u2022 Req: ",t.reqMultiplier,"x \u2022 Rares: ",t.rareWeightMultiplier,"x"]})]},e)})})}),(i||!T)&&(0,Lh.jsx)("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:(0,Lh.jsx)("button",{onClick:N,disabled:!E,style:{padding:"12px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:E?"#4ade80":"#555",color:E?"#0f1419":"#888",border:"none",borderRadius:"4px",cursor:E?"pointer":"not-allowed",transition:"all 0.2s"},onMouseEnter:e=>E&&(e.target.style.backgroundColor="#22c55e"),onMouseLeave:e=>E&&(e.target.style.backgroundColor="#4ade80"),children:"CONFIRM"})})]})}),v&&v.length>0&&S&&(0,Lh.jsx)("div",{style:{marginBottom:"24px"},children:(0,Lh.jsxs)("div",{style:{backgroundColor:"#1f2937",border:"2px solid #F5C642",borderRadius:"8px",padding:"24px",marginBottom:"16px"},children:[(0,Lh.jsxs)("div",{style:{fontSize:"18px",marginBottom:"24px",color:"#F5C642",textAlign:"center"},children:["All Helldivers Select: ","throwable"===S?"Throwable":"Secondary Weapon"]}),r.map((e,t)=>{const n=!T||t===k,r=(null===e||void 0===e?void 0:e.name)||"Helldiver ".concat(t+1);return(0,Lh.jsxs)("div",{style:{marginBottom:"24px",padding:"16px",backgroundColor:"#283548",borderRadius:"8px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"16px",marginBottom:"12px",color:"#F5C642",fontWeight:"bold"},children:r}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"8px"},children:v.map(e=>{const r=J[t]===e.id;return(0,Lh.jsx)("button",{onClick:()=>{n&&L(t,e.id)},disabled:!n,style:{padding:"12px",fontSize:"14px",backgroundColor:r?"#F5C642":"#1f2937",color:r?"#0f1419":"#e0e0e0",border:"2px solid "+(r?"#F5C642":"#555"),borderRadius:"4px",cursor:n?"pointer":"not-allowed",fontWeight:r?"bold":"normal",transition:"all 0.2s",textAlign:"center",opacity:n?1:.6},onMouseEnter:e=>{n&&!r&&(e.target.style.backgroundColor="#374151",e.target.style.borderColor="#F5C642")},onMouseLeave:e=>{n&&!r&&(e.target.style.backgroundColor="#1f2937",e.target.style.borderColor="#555")},children:e.name},e.id)})})]},t)}),(0,Lh.jsx)("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"24px"},children:(0,Lh.jsx)("button",{onClick:h,disabled:!i||!Z,style:{padding:"12px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:i&&Z?"#4ade80":"#555",color:i&&Z?"#0f1419":"#888",border:"none",borderRadius:"4px",cursor:i&&Z?"pointer":"not-allowed",transition:"all 0.2s"},onMouseEnter:e=>{i&&Z&&(e.target.style.backgroundColor="#22c55e")},onMouseLeave:e=>{i&&Z&&(e.target.style.backgroundColor="#4ade80")},children:"CONFIRM ALL SELECTIONS"})})]})}),t.type===qt&&(!s(t)||null!==n)&&!G&&(0,Lh.jsxs)(Lh.Fragment,{children:[s(t)&&null!==n&&(0,Lh.jsx)("div",{style:{marginBottom:"16px",textAlign:"center"},children:i?(0,Lh.jsx)("button",{onClick:()=>u(null),style:{padding:"8px 16px",fontSize:"13px",fontWeight:"bold",backgroundColor:"#6b7280",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#4b5563",onMouseLeave:e=>e.target.style.backgroundColor="#6b7280",children:"\u2190 Change Selected Helldiver"}):(0,Lh.jsxs)("div",{style:{fontSize:"13px",color:"#64748b",fontStyle:"italic"},children:["Host selected Helldiver ",n+1]})}),!i&&(0,Lh.jsx)("div",{style:{textAlign:"center",marginBottom:"16px",padding:"12px 24px",backgroundColor:"rgba(100, 116, 139, 0.2)",border:"1px solid rgba(100, 116, 139, 0.4)",borderRadius:"4px"},children:(0,Lh.jsx)("div",{style:{color:"#94a3b8",fontSize:"14px"},children:"Waiting for host to make a choice..."})}),(0,Lh.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",opacity:i?1:.6},children:t.choices.map((e,t)=>{const o=l(e,a,r,n),s=i&&o,c=d(e.outcomes),u=e.requiresRequisition;return(0,Lh.jsxs)("button",{onClick:()=>s&&q(e),disabled:!s,style:{padding:"16px",fontSize:"16px",fontWeight:"bold",backgroundColor:o?"#F5C642":"#555",color:o?"#0f1419":"#888",border:"none",borderRadius:"4px",cursor:s?"pointer":"not-allowed",transition:"all 0.2s",textAlign:"left",display:"flex",flexDirection:"column",gap:"8px"},onMouseEnter:e=>s&&(e.target.style.backgroundColor="#ffd95a"),onMouseLeave:e=>s&&(e.target.style.backgroundColor="#F5C642"),children:[(0,Lh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"16px"},children:[(0,Lh.jsx)("span",{children:e.text}),u&&(0,Lh.jsxs)("span",{style:{fontSize:"13px",fontWeight:"bold",opacity:o?1:.6},children:["Costs ",u," requisition"]})]}),(0,Lh.jsx)("div",{style:{fontSize:"13px",fontWeight:"normal",opacity:.85,fontStyle:"italic"},children:c})]},t)})})]}),t.type!==qt&&(0,Lh.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px",alignItems:"center"},children:[t.outcomes&&t.outcomes.length>0&&(0,Lh.jsxs)("div",{style:{backgroundColor:"#1f2937",padding:"12px 24px",borderRadius:"4px",border:"1px solid rgba(245, 198, 66, 0.3)"},children:[(0,Lh.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px",textTransform:"uppercase"},children:t.type===Vt?"Possible Outcomes:":"Outcome:"}),(0,Lh.jsx)("div",{style:{fontSize:"14px",color:"#F5C642"},children:t.type===Vt?t.outcomes.map((e,t)=>(0,Lh.jsxs)("div",{children:[c(e)," ",e.weight?"(".concat(e.weight,"% chance)"):""]},t)):d(t.outcomes)})]}),i?(0,Lh.jsx)("button",{onClick:h,style:{padding:"16px 32px",fontSize:"16px",fontWeight:"bold",backgroundColor:"#F5C642",color:"#0f1419",border:"none",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.target.style.backgroundColor="#ffd95a",onMouseLeave:e=>e.target.style.backgroundColor="#F5C642",children:"Continue"}):(0,Lh.jsx)("div",{style:{padding:"12px 24px",backgroundColor:"rgba(100, 116, 139, 0.2)",border:"1px solid rgba(100, 116, 139, 0.4)",borderRadius:"4px",color:"#94a3b8",fontSize:"14px"},children:"Waiting for host to continue..."})]})]})})]})}const Hh=Ft("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Yh=Ft("lock-open",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]),Gh=Ft("wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]),qh=Ft("wifi-off",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);function Vh(e){var t,n,r,o;let{player:a,getItemById:i,getArmorComboDisplayName:s,faction:l,requisition:c,slotLockCost:d,maxLockedSlots:u,onLockSlot:p,onUnlockSlot:h,isConnected:f=!0,isMultiplayer:g=!1}=e;const m=Ph(l);if(!a||!a.loadout)return(0,Lh.jsxs)("div",{style:{backgroundColor:"#283548",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.5)",overflow:"hidden"},children:[(0,Lh.jsx)("div",{style:{backgroundColor:"#1f2937",padding:"12px",borderBottom:"1px solid rgba(100, 116, 139, 0.5)"},children:(0,Lh.jsx)("h3",{style:{fontWeight:"bold",color:"#64748b",margin:0},children:"Loading..."})}),(0,Lh.jsx)("div",{style:{padding:"16px",textAlign:"center",color:"#64748b"},children:"Waiting for player data..."})]});const y=i(a.loadout.armor),b=y&&s?s(y.passive,y.armorClass,a.inventory):(null===y||void 0===y?void 0:y.name)||"None",_=a.lockedSlots||[],x=(e,t,n)=>{const r=_.includes(n),o=!r&&c>=d&&_.length<u,i=r;return(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Lh.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#64748b",textTransform:"uppercase",marginBottom:"4px"},children:e}),(0,Lh.jsx)("div",{style:{fontSize:"Primary"===e?"14px":"12px",fontWeight:"Primary"===e?"bold":"normal",color:"Primary"===e?m.PRIMARY:"Secondary"===e?"white":"#cbd5e1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:t,children:t})]}),p&&h&&(0,Lh.jsx)("button",{onClick:()=>r?h(a.id,n):p(a.id,n),disabled:!o&&!i,style:{padding:"4px",backgroundColor:r?"".concat(m.PRIMARY,"20"):"transparent",border:r?"1px solid ".concat(m.PRIMARY):"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"3px",cursor:o||i?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",color:r?m.PRIMARY:o?"#94a3b8":"#334155",transition:"all 0.2s",minWidth:"24px",minHeight:"24px"},onMouseEnter:e=>{(o||i)&&(e.currentTarget.style.borderColor=m.PRIMARY,e.currentTarget.style.color=m.PRIMARY)},onMouseLeave:e=>{(o||i)&&(e.currentTarget.style.borderColor=r?m.PRIMARY:"rgba(100, 116, 139, 0.5)",e.currentTarget.style.color=r?m.PRIMARY:o?"#94a3b8":"#334155")},title:r?"Unlock slot (free)":"Lock slot (".concat(d," Req)"),children:r?(0,Lh.jsx)(Hh,{size:12}):(0,Lh.jsx)(Yh,{size:12})})]})};return(0,Lh.jsxs)("div",{style:{backgroundColor:"#283548",borderRadius:"8px",border:"1px solid ".concat(!f&&g?"rgba(239, 68, 68, 0.5)":"rgba(100, 116, 139, 0.5)"),overflow:"hidden",opacity:!f&&g?.7:1},children:[(0,Lh.jsxs)("div",{style:{backgroundColor:"#1f2937",padding:"12px",borderBottom:"1px solid rgba(100, 116, 139, 0.5)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Lh.jsx)("h3",{style:{fontWeight:"bold",color:"#cbd5e1",textTransform:"uppercase",letterSpacing:"1px",margin:0},children:a.name}),g&&(f?(0,Lh.jsx)(Gh,{size:14,style:{color:"#22c55e"},title:"Connected"}):(0,Lh.jsx)(qh,{size:14,style:{color:"#ef4444"},title:"Disconnected"}))]}),(0,Lh.jsx)("span",{style:{fontSize:"12px",color:!f&&g?"#ef4444":"#64748b"},children:!f&&g?"DISCONNECTED":"Loadout Active"})]}),(0,Lh.jsxs)("div",{style:{padding:"16px",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px"},children:[(0,Lh.jsx)("div",{style:{gridColumn:"span 2"},children:x("Primary",(null===(t=i(a.loadout.primary))||void 0===t?void 0:t.name)||"None",Rn.PRIMARY)}),(0,Lh.jsx)("div",{style:{gridColumn:"span 2"},children:x("Secondary",null===(n=i(a.loadout.secondary))||void 0===n?void 0:n.name,Rn.SECONDARY)}),(0,Lh.jsx)("div",{style:{gridColumn:"span 2"},children:x("Grenade",null===(r=i(a.loadout.grenade))||void 0===r?void 0:r.name,Rn.GRENADE)}),(0,Lh.jsx)("div",{style:{gridColumn:"span 2"},children:x("Armor",b,Rn.ARMOR)}),(0,Lh.jsxs)("div",{style:{gridColumn:"span 2"},children:[(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#64748b",textTransform:"uppercase",marginBottom:"4px"},children:"Booster"}),(0,Lh.jsx)("div",{style:{fontSize:"12px",color:"#cbd5e1",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(null===(o=i(a.loadout.booster))||void 0===o?void 0:o.name)||"None"})]}),_.length>0&&(0,Lh.jsx)("div",{style:{gridColumn:"span 2"},children:(0,Lh.jsxs)("div",{style:{fontSize:"9px",color:m.PRIMARY,backgroundColor:"".concat(m.PRIMARY,"15"),padding:"4px 8px",borderRadius:"3px",border:"1px solid ".concat(m.PRIMARY,"40")},children:["\ud83d\udd12 ",_.length,"/",u," slots locked"]})}),(0,Lh.jsxs)("div",{style:{gridColumn:"span 4",marginTop:"8px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#64748b",textTransform:"uppercase",marginBottom:"4px"},children:"Stratagems"}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px"},children:(a.loadout.stratagems||[null,null,null,null]).map((e,t)=>{var n;return(0,Lh.jsx)("div",{style:{backgroundColor:"#1f2937",height:"64px",borderRadius:"4px",border:"1px solid rgba(71, 85, 105, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"4px",textAlign:"center",position:"relative"},children:e?(0,Lh.jsx)("span",{style:{fontSize:"9px",lineHeight:"1.2",color:"white",fontWeight:"600"},children:null===(n=i(e))||void 0===n?void 0:n.name}):(0,Lh.jsx)("span",{style:{color:"#334155",fontSize:"12px"},children:"EMPTY"})},t)})})]})]})]})}const Kh=Ft("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]),$h=Ft("crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),Xh=Ft("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Qh=Ft("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Jh="STANDARD",Zh="PREMIUM",ef="LEGENDARY",tf={HELLDIVERS_MOBILIZE:{id:"helldivers_mobilize",name:"Helldivers Mobilize!",type:Jh,order:1,image:"https://helldivers.wiki.gg/images/Helldivers_Mobilize_Warbond_Cover.png"},STEELED_VETERANS:{id:"steeled_veterans",name:"Steeled Veterans",type:Zh,order:2,image:"https://helldivers.wiki.gg/images/Steeled_Veterans_Premium_Warbond_Cover.png"},CUTTING_EDGE:{id:"cutting_edge",name:"Cutting Edge",type:Zh,order:3,image:"https://helldivers.wiki.gg/images/Cutting_Edge_Premium_Warbond_Cover.png"},DEMOCRATIC_DETONATION:{id:"democratic_detonation",name:"Democratic Detonation",type:Zh,order:4,image:"https://helldivers.wiki.gg/images/Democratic_Detonation_Premium_Warbond_Cover.png"},POLAR_PATRIOTS:{id:"polar_patriots",name:"Polar Patriots",type:Zh,order:5,image:"https://helldivers.wiki.gg/images/Polar_Patriots_Premium_Warbond_Cover.png"},VIPER_COMMANDOS:{id:"viper_commandos",name:"Viper Commandos",type:Zh,order:6,image:"https://helldivers.wiki.gg/images/Viper_Commandos_Premium_Warbond_Cover.png"},FREEDOMS_FLAME:{id:"freedoms_flame",name:"Freedom's Flame",type:Zh,order:7,image:"https://helldivers.wiki.gg/images/Freedom%27s_Flame_Premium_Warbond_Cover.png"},CHEMICAL_AGENTS:{id:"chemical_agents",name:"Chemical Agents",type:Zh,order:8,image:"https://helldivers.wiki.gg/images/Chemical_Agents_Premium_Warbond_Cover.png"},TRUTH_ENFORCERS:{id:"truth_enforcers",name:"Truth Enforcers",type:Zh,order:9,image:"https://helldivers.wiki.gg/images/Truth_Enforcers_Premium_Warbond_Cover.png"},URBAN_LEGENDS:{id:"urban_legends",name:"Urban Legends",type:Zh,order:10,image:"https://helldivers.wiki.gg/images/Urban_Legends_Premium_Warbond_Cover.png"},SERVANTS_OF_FREEDOM:{id:"servants_of_freedom",name:"Servants of Freedom",type:Zh,order:11,image:"https://helldivers.wiki.gg/images/Servants_of_Freedom_Premium_Warbond_Cover.png"},BORDERLINE_JUSTICE:{id:"borderline_justice",name:"Borderline Justice",type:Zh,order:12,image:"https://helldivers.wiki.gg/images/Borderline_Justice_Premium_Warbond_Cover.png"},MASTERS_OF_CEREMONY:{id:"masters_of_ceremony",name:"Masters of Ceremony",type:Zh,order:13,image:"https://helldivers.wiki.gg/images/Masters_of_Ceremony_Premium_Warbond_Cover.png"},FORCE_OF_LAW:{id:"force_of_law",name:"Force of Law",type:Zh,order:14,image:"https://helldivers.wiki.gg/images/thumb/Force_of_Law_Premium_Warbond_Cover.png/1920px-Force_of_Law_Premium_Warbond_Cover.png"},CONTROL_GROUP:{id:"control_group",name:"Control Group",type:Zh,order:15,image:"https://helldivers.wiki.gg/images/thumb/Control_Group_Premium_Warbond_Cover.png/1920px-Control_Group_Premium_Warbond_Cover.png"},DUST_DEVILS:{id:"dust_devils",name:"Dust Devils",type:Zh,order:16,image:"https://helldivers.wiki.gg/images/thumb/Dust_Devils_Premium_Warbond_Cover.png/1920px-Dust_Devils_Premium_Warbond_Cover.png"},PYTHON_COMMANDOS:{id:"python_commandos",name:"Python Commandos",type:Zh,order:17,image:"https://helldivers.wiki.gg/images/thumb/Python_Commandos_Premium_Warbond_Cover.png/1920px-Python_Commandos_Premium_Warbond_Cover.png"},REDACTED_REGIMENT:{id:"redacted_regiment",name:"Redacted Regiment",type:Zh,order:18,image:"https://helldivers.wiki.gg/images/thumb/Redacted_Regiment_Premium_Warbond_Cover.png/1920px-Redacted_Regiment_Premium_Warbond_Cover.png"},OBEDIENT_DEMOCRACY:{id:"obedient_democracy_support_troopers",name:"Obedient Democracy Support Troopers",type:ef,order:19,image:"https://helldivers.wiki.gg/images/thumb/Halo_ODST_Legendary_Warbond_Cover.png/1920px-Halo_ODST_Legendary_Warbond_Cover.png"},RIGHTEOUS_REVENANTS:{id:"righteous_revenants",name:"Righteous Revenants",type:ef,order:20,image:"https://helldivers.wiki.gg/images/Righteous_Revenants_Legendary_Warbond_Cover.png"}},nf=e=>Object.values(tf).find(t=>t.id===e),rf=[tf.HELLDIVERS_MOBILIZE.id],of={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let af;const sf=new Uint8Array(16);const lf=[];for(let Tm=0;Tm<256;++Tm)lf.push((Tm+256).toString(16).slice(1));function cf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(lf[e[t+0]]+lf[e[t+1]]+lf[e[t+2]]+lf[e[t+3]]+"-"+lf[e[t+4]]+lf[e[t+5]]+"-"+lf[e[t+6]]+lf[e[t+7]]+"-"+lf[e[t+8]]+lf[e[t+9]]+"-"+lf[e[t+10]]+lf[e[t+11]]+lf[e[t+12]]+lf[e[t+13]]+lf[e[t+14]]+lf[e[t+15]]).toLowerCase()}function df(e,t,n){var r,o,a,i;const s=null!==(r=null!==(o=(e=e||{}).random)&&void 0!==o?o:null===(a=(i=e).rng)||void 0===a?void 0:a.call(i))&&void 0!==r?r:function(){if(!af){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");af=crypto.getRandomValues.bind(crypto)}return af(sf)}();if(s.length<16)throw new Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError("UUID byte range ".concat(n,":").concat(n+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[n+e]=s[e];return t}return cf(s)}const uf=function(e,t,n){return!of.randomUUID||t||e?df(e,t,n):of.randomUUID()},pf=async(e,t,n)=>{const r=xh(),o=Jp(r,"lobbies/".concat(e));try{const a=await rh(o);if(!a.exists())return{success:!1,error:"Lobby not found"};const i=a.val();if("completed"===i.status)return{success:!1,error:"Game has already completed"};const s=i.players||{};if(s[t.id])return{success:!1,error:"Player is already in this lobby",errorCode:"PLAYER_ID_CONFLICT"};const l=Object.values(s).find(e=>e.slot===n);if(l&&!1!==l.connected)return{success:!1,error:"Slot is already taken by an active player"};let c=null;if(l&&!1===l.connected){const t=Jp(r,"lobbies/".concat(e,"/players/").concat(l.id)),n=Jp(r,"lobbies/".concat(e,"/players/").concat(l.id,"/connected"));await eh(n).cancel(),await th(t),c=l}if(Object.values(s).filter(e=>{var t;return!1!==e.connected&&e.id!==(null===(t=c)||void 0===t?void 0:t.id)}).length>=4)return{success:!1,error:"Lobby is full"};const u=Jp(r,"lobbies/".concat(e,"/players/").concat(t.id));await nh(u,{id:t.id,name:t.name,slot:n,isHost:!1,connected:!0,joinedAt:fh()});const p=Jp(r,"lobbies/".concat(e,"/lastUpdated"));await nh(p,fh());return eh(Jp(r,"lobbies/".concat(e,"/players/").concat(t.id,"/connected"))).set(!1),{success:!0,lobby:d(d({},i),{},{players:d(d({},s),{},{[t.id]:{id:t.id,name:t.name,slot:n,isHost:!1,connected:!0}})})}}catch(Xs){return console.error("Error joining lobby:",Xs),{success:!1,error:Xs.message}}},hf=async(e,t)=>{const n=xh(),r=Jp(n,"lobbies/".concat(e,"/players/").concat(t)),o=Jp(n,"lobbies/".concat(e,"/players/").concat(t,"/connected"));try{return await eh(o).cancel(),await th(r),{success:!0}}catch(Xs){return console.error("Error kicking player:",Xs),{success:!1,error:Xs.message}}},ff=async e=>{const t=Jp(xh(),"lobbies/".concat(e));try{await(async e=>{const t=Jp(xh(),"lobbies/".concat(e));try{const n=await rh(t);if(!n.exists())return;const r=n.val().players||{},o=Object.values(r).filter(e=>!e.isHost).map(t=>hf(e,t.id));await Promise.all(o)}catch(Xs){console.error("Error kicking all players:",Xs)}})(e),await th(t)}catch(Xs){console.error("Error closing lobby:",Xs)}},gf=(e,t)=>{const n=sh(Jp(xh(),"lobbies/".concat(e)),e=>{e.exists()?t(e.val()):t(null)},e=>{console.error("Lobby subscription error:",e),t(null,e)});return n},mf=["_syncedAt","_version"],yf=["DRAFT_PICK","DRAFT_REROLL","DRAFT_BURN","SKIP_DRAFT","REMOVE_CARD","LOCK_PLAYER_DRAFT_SLOT","UNLOCK_PLAYER_DRAFT_SLOT","EVENT_SELECT_CHOICE","EVENT_SELECT_STRATAGEM","EVENT_SELECT_BOOSTER","EVENT_SELECT_TARGET_PLAYER","EVENT_SELECT_TARGET_STRATAGEM","SET_EVENT_SPECIAL_DRAFT_SELECTION","EQUIP_ITEM","STRATAGEM_REPLACEMENT","SACRIFICE_ITEM","SET_PLAYER_EXTRACTED","PLAYER_READY","PLAYER_NOT_READY"],bf=(e,t)=>{var n,r;return!!yf.includes(e.type)&&((void 0===(null===(n=e.payload)||void 0===n?void 0:n.playerSlot)||e.payload.playerSlot===t)&&(void 0===(null===(r=e.payload)||void 0===r?void 0:r.playerIndex)||e.payload.playerIndex===t))},_f=e=>{if(void 0===e)return null;if(null===e)return null;if(Array.isArray(e))return e.map(e=>_f(e));if("object"===typeof e){const t={};for(const n of Object.keys(e)){const r=e[n];t[n]=void 0===r?null:_f(r)}return t}return e},xf=async(e,t,n)=>{const r=xh(),o=Jp(r,"lobbies/".concat(e,"/clientActions")),a=Jp(r,"lobbies/".concat(e,"/lastUpdated"));try{const e=function(e,t){e=No(e),lp("push",e._path),rp("push",t,e._path,!0);const n=_p(e._repo),r=Yp(n),o=Zp(e,r),a=Zp(e,r);let i;return i=null!=t?nh(a,t).then(()=>a):Promise.resolve(a),o.then=i.then.bind(i),o.catch=i.then.bind(i,void 0),o}(o);return await Promise.all([nh(e,{playerId:t,action:n,timestamp:fh(),id:e.key}),nh(a,fh())]),e.key}catch(Xs){throw console.error("Error sending client action:",Xs),Xs}},vf=(e,t)=>{const n=function(e,t,n,r){return ih(e,"child_added",t,n,r)}(Jp(xh(),"lobbies/".concat(e,"/clientActions")),e=>{if(e.exists()){const n=e.val();t(n,e.key)}},e=>{console.error("Client actions subscription error:",e)});return n},Sf=async(e,t)=>{const n=Jp(xh(),"lobbies/".concat(e,"/clientActions/").concat(t));try{await th(n)}catch(Xs){console.error("Error removing client action:",Xs)}},Cf=(0,r.createContext)(null),wf=()=>{let e=sessionStorage.getItem("helldrafters_player_id");return e||(e=uf(),sessionStorage.setItem("helldrafters_player_id",e)),e};function Rf(e){let{children:t}=e;const[n,o]=(0,r.useState)(!1),[a,i]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[c,p]=(0,r.useState)(null),[h,f]=(0,r.useState)(wf),[g,m]=(0,r.useState)(null),[y,b]=(0,r.useState)(""),[_,x]=(0,r.useState)("disconnected"),[v,S]=(0,r.useState)(null),[C,w]=(0,r.useState)(!1),[R,E]=(0,r.useState)(!1),[T,k]=(0,r.useState)(!1),[A,I]=(0,r.useState)(!1),P=(0,r.useRef)(null),M=(0,r.useRef)(null),j=(0,r.useRef)(null),D=(0,r.useRef)(null),O=(0,r.useRef)(null),N=(0,r.useRef)(null),L=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(Sh()){const e=_h();w(e)}},[]),(0,r.useEffect)(()=>{j.current=c},[c]),(0,r.useEffect)(()=>()=>{D.current&&D.current(),O.current&&O.current(),N.current&&N.current()},[]);const z=(0,r.useCallback)(async(e,t)=>{if(!C)return S("Firebase not configured"),null;x("connecting"),S(null);try{const n=uf(),r={id:h,name:e};return await(async(e,t,n)=>{const r=Jp(xh(),"lobbies/".concat(e)),o={id:e,hostId:t.id,createdAt:fh(),lastUpdated:fh(),status:"waiting",config:n,players:{[t.id]:{id:t.id,name:t.name,slot:0,isHost:!0,connected:!0,joinedAt:fh()}},gameState:null,clientActions:{}};return await nh(r,o),eh(r).remove(),o})(n,r,t),l(n),i(!0),o(!0),m(0),b(e),x("connected"),D.current=gf(n,e=>{e?p(e):(S("Lobby was closed"),L.current&&L.current())}),n}catch(n){return console.error("Failed to host game:",n),S(n.message),x("disconnected"),null}},[C,h]),B=(0,r.useCallback)(async(e,t,n)=>{if(!C)return S("Firebase not configured"),!1;x("connecting"),S(null);try{let r=h,a=!1,s=await pf(e,{id:r,name:t},n);return s.success||"PLAYER_ID_CONFLICT"!==s.errorCode||(a=!0,r=uf(),sessionStorage.setItem("helldrafters_player_id",r),f(r),s=await pf(e,{id:r,name:t},n)),s.success?(l(e),i(!1),o(!0),m(n),b(t),x("connected"),D.current=gf(e,e=>{if(e){e.players&&Object.keys(e.players).includes(h)?p(e):(D.current&&(D.current(),D.current=null),O.current&&(O.current(),O.current=null),N.current&&(N.current(),N.current=null),o(!1),i(!1),l(null),p(null),m(null),x("disconnected"),S(null),k(!0))}else S("Lobby was closed by host"),E(!0),L.current&&L.current()}),O.current=((e,t)=>{const n=sh(Jp(xh(),"lobbies/".concat(e,"/gameState")),e=>{if(e.exists()){const n=e.val(),{_syncedAt:r,_version:o}=n,a=u(n,mf);t(a,o)}},e=>{console.error("Game state subscription error:",e)});return n})(e,e=>{e&&P.current&&P.current({type:"LOAD_GAME_STATE",payload:e})}),!0):(a&&"PLAYER_ID_CONFLICT"===s.errorCode?S("Unable to join lobby. Please try again."):S(s.error),x("disconnected"),!1)}catch(r){return console.error("Failed to join game:",r),S(r.message),x("disconnected"),!1}},[C,h]),F=(0,r.useCallback)(async e=>C?await(async e=>{const t=Jp(xh(),"lobbies/".concat(e));try{const e=await rh(t);if(!e.exists())return null;const n=e.val(),r=n.gameState&&n.gameState.phase&&!["MENU","LOBBY"].includes(n.gameState.phase);return{id:n.id,status:n.status,config:n.config,players:n.players,hostId:n.hostId,isLoadedGame:r}}catch(v){return console.error("Error checking lobby:",v),null}})(e):null,[C]),W=(0,r.useCallback)(()=>c?(e=>{if(!e||!e.config)return[];const t=e.players||{},n=Object.values(t).map(e=>e.slot),r=[];for(let o=0;o<4;o++)n.includes(o)||r.push(o);return r})(c):[],[c]),U=(0,r.useCallback)(async e=>{if(!s||!h)return!1;const t=await(async(e,t,n)=>{const r=xh();try{const o=Jp(r,"lobbies/".concat(e,"/players")),a=await rh(o);if(!a.exists())return{success:!1,error:"Lobby not found"};const i=a.val();if(Object.values(i).some(e=>e.id!==t&&e.slot===n))return{success:!1,error:"Slot is already taken"};const s=Jp(r,"lobbies/".concat(e,"/players/").concat(t,"/slot")),l=Jp(r,"lobbies/".concat(e,"/lastUpdated"));return await Promise.all([nh(s,n),nh(l,fh())]),{success:!0}}catch(v){return console.error("Error changing slot:",v),{success:!1,error:v.message}}})(s,h,e);return t.success?m(e):S(t.error),t.success},[s,h]),H=(0,r.useCallback)(async e=>{if(!a||!s)return!1;const t=await hf(s,e);return t.success||S(t.error),t.success},[a,s]),Y=(0,r.useCallback)(async()=>{a&&s&&(await(async(e,t)=>{const n=xh(),r=Jp(n,"lobbies/".concat(e,"/status")),o=Jp(n,"lobbies/".concat(e,"/lastUpdated"));try{await Promise.all([nh(r,t),nh(o,fh())])}catch(v){console.error("Error updating lobby status:",v)}})(s,"in-game"),N.current=vf(s,async(e,t)=>{const{playerId:n,action:r}=e,o=j.current,a=Object.values((null===o||void 0===o?void 0:o.players)||{}).find(e=>e.id===n);return a?bf(r,a.slot)?(M.current&&M.current(r)||P.current&&P.current(r),void await Sf(s,t)):(console.warn("Unauthorized action from player:",r.type),void await Sf(s,t)):(console.warn("Action from unknown player:",n),void await Sf(s,t))}))},[a,s]),G=(0,r.useCallback)(async e=>{if(a&&s)try{await(async(e,t)=>{const n=xh(),r=Jp(n,"lobbies/".concat(e,"/gameState")),o=Jp(n,"lobbies/".concat(e,"/lastUpdated"));try{const e=d(d({},_f(t)),{},{_syncedAt:fh(),_version:(t._version||0)+1});await Promise.all([nh(r,e),nh(o,fh())])}catch(v){throw console.error("Error syncing game state:",v),v}})(s,e)}catch(t){console.error("Failed to sync state:",t)}},[a,s]),q=(0,r.useCallback)(async e=>{if(!a&&s&&h)if(bf(e,g))try{await xf(s,h,e)}catch(t){console.error("Failed to send action:",t),S("Failed to send action")}else console.warn("Action not allowed:",e.type)},[a,s,h,g]),V=(0,r.useCallback)(async()=>{D.current&&(D.current(),D.current=null),O.current&&(O.current(),O.current=null),N.current&&(N.current(),N.current=null),s&&h&&(a?(await ff(s),I(!0)):(await(async(e,t)=>{const n=xh(),r=Jp(n,"lobbies/".concat(e,"/players/").concat(t)),o=Jp(n,"lobbies/".concat(e,"/players/").concat(t,"/connected"));try{await eh(o).cancel(),await th(r)}catch(v){console.error("Error leaving lobby:",v)}})(s,h),I(!0))),o(!1),i(!1),l(null),p(null),m(null),x("disconnected"),S(null)},[s,h,a]);(0,r.useEffect)(()=>{L.current=V},[V]);const K=(0,r.useCallback)(async e=>{if(s&&h)try{await(async(e,t,n)=>{const r=xh();try{const o=[];if(void 0!==n.name){const a=Jp(r,"lobbies/".concat(e,"/players/").concat(t,"/name"));o.push(nh(a,n.name))}if(void 0!==n.warbonds){const a=Jp(r,"lobbies/".concat(e,"/players/").concat(t,"/warbonds"));o.push(nh(a,n.warbonds))}if(void 0!==n.includeSuperstore){const a=Jp(r,"lobbies/".concat(e,"/players/").concat(t,"/includeSuperstore"));o.push(nh(a,n.includeSuperstore))}if(void 0!==n.ready){const a=Jp(r,"lobbies/".concat(e,"/players/").concat(t,"/ready"));o.push(nh(a,n.ready))}const a=Jp(r,"lobbies/".concat(e,"/lastUpdated"));return o.push(nh(a,fh())),await Promise.all(o),{success:!0}}catch(v){return console.error("Error updating player config:",v),{success:!1,error:v.message}}})(s,h,e),void 0!==e.name&&b(e.name)}catch(t){console.error("Failed to update player config:",t),S("Failed to update configuration")}},[s,h]),$=(0,r.useCallback)(async e=>{if(s&&h)try{await(async(e,t,n)=>{const r=Jp(xh(),"lobbies/".concat(e,"/players/").concat(t,"/ready"));try{return await nh(r,n),{success:!0}}catch(v){return console.error("Error setting ready state:",v),{success:!1,error:v.message}}})(s,h,e)}catch(t){console.error("Failed to set ready state:",t),S("Failed to update ready state")}},[s,h]),X=(0,r.useCallback)(()=>null!==c&&void 0!==c&&c.players?Object.values(c.players).filter(e=>e.connected).sort((e,t)=>e.slot-t.slot):[],[c]),Q=(0,r.useCallback)(e=>{P.current=e},[]),J=(0,r.useCallback)(e=>{M.current=e},[]),Z={isMultiplayer:n,isHost:a,lobbyId:s,lobbyData:c,playerId:h,playerSlot:g,playerName:y,connectionStatus:_,error:v,firebaseReady:C,hostDisconnected:R,wasKicked:T,clientDisconnected:A,connectedPlayers:null!==c&&void 0!==c&&c.players?Object.values(c.players):[],hostGame:z,joinGame:B,checkLobbyExists:F,getSlots:W,changeSlot:U,kickPlayerFromLobby:H,startMultiplayerGame:Y,syncState:G,sendAction:q,disconnect:V,setDispatch:Q,setActionHandler:J,updatePlayerConfig:K,setPlayerReady:$,getConnectedPlayers:X,clearError:()=>S(null),clearHostDisconnected:()=>E(!1),clearWasKicked:()=>k(!1),clearClientDisconnected:()=>I(!1)};return(0,Lh.jsx)(Cf.Provider,{value:Z,children:t})}function Ef(){const e=(0,r.useContext)(Cf);if(!e)throw new Error("useMultiplayer must be used within a MultiplayerProvider");return e}const Tf=Ft("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),kf={st_ops:{name:"Orbital Precision Strike",code:["R","R","U"]},st_gatling:{name:"Orbital Gatling Barrage",code:["R","D","L","U","U"]},st_airburst:{name:"Orbital Airburst Strike",code:["R","R","R"]},st_120:{name:"Orbital 120mm HE Barrage",code:["R","R","D","L","R","D"]},st_380:{name:"Orbital 380mm HE Barrage",code:["R","D","U","U","L","D","D"]},st_walking:{name:"Orbital Walking Barrage",code:["R","D","R","D","R","D"]},st_laser:{name:"Orbital Laser",code:["R","D","U","R","D"]},st_railcannon:{name:"Orbital Railcannon Strike",code:["R","U","D","D","R"]},st_gas_o:{name:"Orbital Gas Strike",code:["R","R","D","R"]},st_ems_o:{name:"Orbital EMS Strike",code:["R","R","L","D"]},st_smoke_o:{name:"Orbital Smoke Strike",code:["R","R","D","U"]},st_e_strafe:{name:"Eagle Strafing Run",code:["U","R","R"]},st_e_airstrike:{name:"Eagle Airstrike",code:["U","R","D","R"]},st_e_cluster:{name:"Eagle Cluster Bomb",code:["U","R","D","D","R"]},st_e_smoke:{name:"Eagle Smoke Strike",code:["U","R","U","D"]},st_e_rockets:{name:"Eagle 110mm Rocket Pods",code:["U","R","U","L"]},st_e_500:{name:"Eagle 500kg Bomb",code:["U","R","D","D","D"]},st_e_napalm:{name:"Eagle Napalm Airstrike",code:["U","R","D","U"]},st_resupply:{name:"Resupply",code:["D","D","U","R"]},st_sos_beacon:{name:"SOS Beacon",code:["U","D","R","U"]},st_reinforce:{name:"Reinforce",code:["U","D","R","L","U"]},st_upload:{name:"Upload Data",code:["D","D","L","U","U"]},st_seaf:{name:"SEAF Artillery",code:["R","U","U","D"]},st_sssd:{name:"SSSD Delivery",code:["D","D","D","U","U"]},st_bp_jump:{name:"Jump Pack",code:["D","U","U","D","U"]},st_bp_supply:{name:"Supply Pack",code:["D","L","D","U","U","D"]},st_bp_dog:{name:"Guard Dog",code:["D","U","L","U","R","D"]},st_bp_shield:{name:"Shield Generator Pack",code:["D","U","L","R","L","R"]},st_bp_ballistic:{name:"Ballistic Shield",code:["D","L","D","D","U","L"]},st_bp_dog_laser:{name:"Guard Dog Rover",code:["D","U","L","U","R","R"]},st_s_mg:{name:"Machine Gun Sentry",code:["D","U","R","R","U"]},st_s_gat:{name:"Gatling Sentry",code:["D","U","R","L"]},st_s_mortar:{name:"Mortar Sentry",code:["D","U","R","R","D"]},st_s_ems:{name:"EMS Mortar Sentry",code:["D","U","R","D","R"]},st_s_ac:{name:"Autocannon Sentry",code:["D","U","R","U","L","U"]},st_s_rocket:{name:"Rocket Sentry",code:["D","U","R","R","L"]},st_s_tesla:{name:"Tesla Tower",code:["D","U","R","U","L","R"]},st_s_mines:{name:"Anti-Personnel Mines",code:["D","L","U","R"]},st_mg43:{name:"Machine Gun MG-43",code:["D","L","D","U","R"]},st_amr:{name:"Anti-Materiel Rifle",code:["D","L","R","U","D"]},st_stalwart:{name:"Stalwart",code:["D","L","D","U","U","L"]},st_eat:{name:"EAT-17 Expendable Anti-Tank",code:["D","D","L","U","R"]},st_rr:{name:"Recoilless Rifle",code:["D","L","R","R","L"]},st_flame:{name:"Flamethrower",code:["D","L","U","D","U"]},st_ac:{name:"Autocannon AC-8",code:["D","L","D","U","U","R"]},st_railgun:{name:"Railgun",code:["D","R","D","U","L","R"]},st_spear:{name:"Spear",code:["D","D","U","D","D"]},st_laser_can:{name:"Laser Cannon",code:["D","L","D","U","L"]},st_arc:{name:"Arc Thrower",code:["D","R","D","U","L","L"]},st_quasar:{name:"Quasar Cannon",code:["D","D","U","L","R"]},st_hmg:{name:"Heavy Machine Gun",code:["D","L","U","D","D"]},st_commando:{name:"Commando",code:["D","L","U","D","R"]},st_grenade_launcher:{name:"Grenade Launcher",code:["D","L","U","L","D"]},st_las_guard:{name:"LAS-98 Laser Cannon",code:["D","L","D","U","L"]},st_seismic:{name:"Seismic Probe",code:["U","U","L","R","D","D"]},st_upload_data:{name:"Upload Data",code:["L","R","U","U","U"]},st_eagle_rearm:{name:"Eagle Rearm",code:["U","U","L","U","R"]}},Af=()=>{const e=Object.keys(kf),t=e[Math.floor(Math.random()*e.length)];return d({id:t},kf[t])},If={U:"\u25b2",D:"\u25bc",L:"\u25c4",R:"\u25ba"},Pf={ArrowUp:"U",ArrowDown:"D",ArrowLeft:"L",ArrowRight:"R",w:"U",W:"U",s:"D",S:"D",a:"L",A:"L",d:"R",D:"R"},Mf=e=>{let{factionColors:t}=e;const[n,o]=(0,r.useState)(null),[a,i]=(0,r.useState)([]),[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)({correct:0,total:0}),p=(0,r.useCallback)(()=>{o(Af()),i([]),l(null)},[]);(0,r.useEffect)(()=>{p()},[p]);const h=(0,r.useCallback)(()=>{if(!n||0===a.length)return;a.length===n.code.length&&a.every((e,t)=>e===n.code[t])?(l("success"),u(e=>({correct:e.correct+1,total:e.total+1})),setTimeout(()=>{p()},1200)):a.length>=n.code.length&&(l("fail"),u(e=>d(d({},e),{},{total:e.total+1})),setTimeout(()=>{i([]),l(null)},1200))},[n,a,p]);if((0,r.useEffect)(()=>{const e=e=>{if(s)return;const t=Pf[e.key];t&&n&&(e.preventDefault(),i(e=>[...e,t])),"Escape"!==e.key||s||i([])};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s,n]),(0,r.useEffect)(()=>{a.length>0&&n&&h()},[a,h,n]),!n)return null;const f=c.total>0?Math.round(c.correct/c.total*100):0;return(0,Lh.jsxs)("div",{style:{backgroundColor:Ah.BG_MAIN,borderRadius:"8px",padding:"24px",border:"2px solid rgba(34, 197, 94, 0.4)",marginBottom:"24px",boxShadow:"0 0 20px rgba(34, 197, 94, 0.15)"},children:[(0,Lh.jsxs)("div",{style:{textAlign:"center",padding:"16px 20px",marginBottom:"24px",backgroundColor:"rgba(34, 197, 94, 0.1)",borderRadius:"6px",border:"1px solid rgba(34, 197, 94, 0.3)"},children:[(0,Lh.jsx)("p",{style:{color:"#22c55e",margin:"0 0 8px 0",fontWeight:"bold",fontSize:"16px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"\u23f3 Waiting for all players to ready up..."}),(0,Lh.jsx)("p",{style:{color:Ah.TEXT_MUTED,margin:0,fontSize:"12px"},children:"Practice your stratagem codes while you wait"})]}),(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("h3",{style:{fontSize:"16px",fontWeight:"900",color:t.PRIMARY,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"4px"},children:"\ud83c\udfae STRATAGEM TRAINING"}),(0,Lh.jsx)("p",{style:{fontSize:"11px",color:Ah.TEXT_MUTED,margin:0},children:"Input the correct code using arrow keys or WASD"})]}),(0,Lh.jsxs)("div",{style:{textAlign:"right"},children:[(0,Lh.jsxs)("div",{style:{fontSize:"12px",color:Ah.TEXT_SECONDARY,fontWeight:"bold"},children:[c.correct,"/",c.total]}),(0,Lh.jsxs)("div",{style:{fontSize:"10px",color:Ah.TEXT_MUTED},children:[f,"% Accuracy"]})]})]}),(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"24px",padding:"20px",backgroundColor:Ah.CARD_BG,borderRadius:"8px",border:"2px solid ".concat("success"===s?"#22c55e":"fail"===s?"#ef4444":Ah.CARD_BORDER),transition:"border-color 0.3s"},children:[(0,Lh.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[(0,Lh.jsxs)("div",{style:{width:"80px",height:"80px",backgroundColor:Ah.BG_MAIN,borderRadius:"8px",border:"2px solid ".concat(Ah.CARD_BORDER),display:"flex",alignItems:"center",justifyContent:"center",padding:"8px"},children:[(0,Lh.jsx)("img",{src:Rr[n.id],alt:n.name,style:{width:"100%",height:"100%",objectFit:"contain",filter:s?"grayscale(100%)":"none",opacity:s?.5:1,transition:"all 0.3s"},onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="flex"}}),(0,Lh.jsx)("div",{style:{display:"none",alignItems:"center",justifyContent:"center",fontSize:"32px"},children:"\ud83c\udfaf"})]}),(0,Lh.jsx)("div",{style:{fontSize:"10px",color:Ah.TEXT_MUTED,textAlign:"center",maxWidth:"100px",lineHeight:"1.2"},children:n.name})]}),(0,Lh.jsxs)("div",{style:{flex:1},children:[(0,Lh.jsx)("div",{style:{display:"flex",gap:"8px",marginBottom:"16px",justifyContent:"center",flexWrap:"wrap"},children:n.code.map((e,t)=>{const n=a[t],r=!n||n===e,o=!!n;return(0,Lh.jsx)("div",{style:{width:"40px",height:"40px",backgroundColor:o?r?"rgba(34, 197, 94, 0.2)":"rgba(239, 68, 68, 0.2)":Ah.BG_MAIN,border:"2px solid ".concat(o?r?"#22c55e":"#ef4444":Ah.CARD_BORDER),borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",color:o?r?"#22c55e":"#ef4444":Ah.TEXT_DISABLED,transition:"all 0.2s",fontFamily:"monospace"},children:o?If[n]:"?"},t)})}),s&&(0,Lh.jsxs)("div",{style:{textAlign:"center",padding:"12px",backgroundColor:"success"===s?"rgba(34, 197, 94, 0.15)":"rgba(239, 68, 68, 0.15)",borderRadius:"6px",border:"1px solid ".concat("success"===s?"#22c55e":"#ef4444"),marginBottom:"12px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold",color:"success"===s?"#22c55e":"#ef4444",marginBottom:"4px"},children:"success"===s?"\u2713 CORRECT!":"\u2717 INCORRECT!"}),(0,Lh.jsx)("div",{style:{fontSize:"11px",color:Ah.TEXT_MUTED},children:"success"===s?"Loading next stratagem...":"Try again!"})]}),!s&&0===a.length&&(0,Lh.jsxs)("div",{style:{textAlign:"center",fontSize:"11px",color:Ah.TEXT_DISABLED,padding:"8px"},children:[(0,Lh.jsxs)("div",{style:{marginBottom:"4px"},children:["Use arrow keys: ",(0,Lh.jsx)("span",{style:{fontFamily:"monospace",color:Ah.TEXT_MUTED},children:"\u25b2 \u25bc \u25c4 \u25ba"})]}),(0,Lh.jsx)("div",{children:"or WASD keys \u2022 Press ESC to clear"})]})]}),(0,Lh.jsx)("button",{onClick:p,disabled:!!s,style:{padding:"12px",backgroundColor:"transparent",color:s?Ah.TEXT_DISABLED:Ah.TEXT_SECONDARY,border:"2px solid ".concat(Ah.CARD_BORDER),borderRadius:"6px",cursor:s?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s",opacity:s?.5:1},onMouseEnter:e=>{s||(e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.2)",e.currentTarget.style.color="white")},onMouseLeave:e=>{s||(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color=Ah.TEXT_SECONDARY)},title:"Skip to new stratagem",children:(0,Lh.jsx)(Tf,{size:18})})]}),"fail"===s&&(0,Lh.jsxs)("div",{style:{marginTop:"12px",textAlign:"center",fontSize:"12px",color:Ah.TEXT_MUTED},children:["Correct code: ",n.code.map(e=>If[e]).join(" ")]})]})},jf="helldrafters_player_config";function Df(e){let{gameConfig:t,onStartRun:n,onCancel:o}=e;const a=Ph(t.faction),{isMultiplayer:i,isHost:s,lobbyData:l,playerSlot:c,playerName:u,disconnect:p,updatePlayerConfig:h,setPlayerReady:f}=Ef(),g=(()=>{try{const e=localStorage.getItem(jf);if(e)return JSON.parse(e)}catch(Em){console.warn("Failed to load saved config:",Em)}return null})(),[m,y]=(0,r.useState)({name:u||(null===g||void 0===g?void 0:g.name)||"Helldiver",warbonds:(null===g||void 0===g?void 0:g.warbonds)||[...rf],includeSuperstore:(null===g||void 0===g?void 0:g.includeSuperstore)||!1,excludedItems:(null===g||void 0===g?void 0:g.excludedItems)||[]}),[b,_]=(0,r.useState)(!1),[x,v]=(0,r.useState)(!1),[S,C]=(0,r.useState)(null),w=r.useRef(!1),R=(0,r.useCallback)(()=>{if(!i)return b;if(null===l||void 0===l||!l.players)return!1;const e=Object.values(l.players);return e.length>0&&e.every(e=>e.ready)},[i,l,b]);(0,r.useEffect)(()=>{i&&u&&!w.current&&(w.current=!0,y(e=>d(d({},e),{},{name:u})))},[i,u]),(0,r.useEffect)(()=>{(e=>{try{localStorage.setItem(jf,JSON.stringify(e))}catch(Em){console.warn("Failed to save config:",Em)}})(m)},[m]),(0,r.useEffect)(()=>{i&&h&&h({name:m.name,warbonds:m.warbonds,includeSuperstore:m.includeSuperstore,excludedItems:m.excludedItems,ready:b})},[i,h,m,b]),(0,r.useEffect)(()=>{if(i&&s&&R()&&null!==l&&void 0!==l&&l.players){const e=Object.values(l.players).sort((e,t)=>e.slot-t.slot).map(e=>({name:e.name,warbonds:e.warbonds||[...rf],includeSuperstore:e.includeSuperstore||!1,excludedItems:e.excludedItems||[]}));setTimeout(()=>{n(e)},500)}},[i,s,R,l,n]);const E=e=>{y(t=>d(d({},t),e)),b&&_(!1)},T=e=>{const t=m.warbonds.includes(e)?m.warbonds.filter(t=>t!==e):[...m.warbonds,e];E({warbonds:t})},k=e=>{C({warbondId:e})},A=()=>{const e=!b;_(e),i&&f&&f(e)},I=()=>{n([m])},P=async()=>{i&&p&&await p(),o()},M=Object.values(tf).filter(e=>e.type===Jh),j=Object.values(tf).filter(e=>e.type===Zh),D=Object.values(tf).filter(e=>e.type===ef),O=i&&null!==l&&void 0!==l&&l.players?Object.values(l.players).sort((e,t)=>e.slot-t.slot):[];return(0,Lh.jsx)("div",{style:{minHeight:"100vh",background:Dh,color:"white",padding:"80px 24px"},children:(0,Lh.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,Lh.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},children:[(0,Lh.jsx)("h1",{style:{fontSize:"72px",fontWeight:"900",color:a.PRIMARY,margin:"0 0 8px 0",letterSpacing:"0.05em",textTransform:"uppercase",textShadow:a.GLOW},children:i?"SQUAD LOADOUT":"LOADOUT SETUP"}),(0,Lh.jsx)("div",{style:{background:jh,padding:"12px",margin:"0 auto 24px auto",maxWidth:"500px"},children:(0,Lh.jsx)("p",{style:{fontSize:"18px",fontWeight:"bold",color:"white",textTransform:"uppercase",letterSpacing:"0.3em",margin:0},children:i?"Configure Your Warbonds":"Select Your Equipment"})})]}),(0,Lh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"16px",marginBottom:"32px"},children:[(0,Lh.jsxs)("button",{onClick:P,style:{padding:"16px 32px",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"2px solid #7f1d1d",borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",letterSpacing:"0.1em",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.2)",e.currentTarget.style.borderColor="#ef4444"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.1)",e.currentTarget.style.borderColor="#7f1d1d"},children:[(0,Lh.jsx)(Kh,{size:18}),i?"EXIT LOBBY":"BACK TO MENU"]}),i?(0,Lh.jsx)("button",{onClick:A,style:d(d({},Nh.PRIMARY),{},{padding:"16px 48px",borderRadius:"4px",fontSize:"16px",display:"flex",alignItems:"center",gap:"12px",backgroundColor:b?"#22c55e":a.PRIMARY,color:b?"white":"black"}),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow=b?Mh.GLOW_GREEN:a.SHADOW_HOVER},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:b?(0,Lh.jsxs)(Lh.Fragment,{children:[(0,Lh.jsx)(Gt,{size:20}),"READY! (CLICK TO UNREADY)"]}):(0,Lh.jsxs)(Lh.Fragment,{children:["READY UP ",(0,Lh.jsx)(Gt,{size:20})]})}):(0,Lh.jsxs)("button",{onClick:I,style:d(d({},Nh.PRIMARY),{},{padding:"16px 48px",borderRadius:"4px",fontSize:"16px",display:"flex",alignItems:"center",gap:"12px"}),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=a.PRIMARY_HOVER,e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow=a.SHADOW_HOVER},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=a.PRIMARY,e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow=a.SHADOW},children:["START RUN ",(0,Lh.jsx)(Gt,{size:20})]})]}),i&&b&&!R()&&(0,Lh.jsx)(Mf,{factionColors:a}),i&&O.length>0&&(0,Lh.jsxs)("div",{style:{backgroundColor:Ah.CARD_BG,borderRadius:"8px",padding:"24px",marginBottom:"32px",border:"1px solid ".concat(Ah.CARD_BORDER)},children:[(0,Lh.jsxs)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:Ah.TEXT_MUTED,marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.15em"},children:[(0,Lh.jsx)(Wt,{size:16,style:{marginRight:"8px",verticalAlign:"middle"}}),"SQUAD STATUS"]}),(0,Lh.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:O.map(e=>{const t=e.slot===c,n=t?b:e.ready,r=t?m.name:e.name;return(0,Lh.jsxs)("div",{style:{padding:"12px 20px",backgroundColor:n?"rgba(34, 197, 94, 0.2)":Ah.BG_MAIN,borderRadius:"4px",border:"2px solid ".concat(n?"#22c55e":t?a.PRIMARY:Ah.CARD_BORDER),display:"flex",alignItems:"center",gap:"12px",opacity:e.connected?1:.5},children:[e.isHost&&(0,Lh.jsx)($h,{size:16,style:{color:a.PRIMARY}}),(0,Lh.jsx)("span",{style:{fontWeight:"bold",color:t?a.PRIMARY:n?"#22c55e":"white"},children:r}),t&&(0,Lh.jsx)("span",{style:{fontSize:"11px",color:Ah.TEXT_MUTED},children:"(YOU)"}),n&&(0,Lh.jsx)(Gt,{size:16,style:{color:"#22c55e"}}),!e.connected&&(0,Lh.jsx)("span",{style:{fontSize:"11px",color:"#ef4444"},children:"(DISCONNECTED)"})]},e.slot)})})]}),(0,Lh.jsxs)("div",{style:{backgroundColor:Ah.CARD_BG,padding:"48px",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.5)",marginBottom:"32px",boxShadow:Mh.CARD},children:[(0,Lh.jsxs)("div",{style:{marginBottom:"48px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:Ah.TEXT_MUTED,textTransform:"uppercase",letterSpacing:"0.2em",marginBottom:"12px"},children:"\u25cf HELLDIVER DESIGNATION"}),x?(0,Lh.jsx)("input",{type:"text",value:m.name,onChange:e=>E({name:e.target.value}),onBlur:()=>v(!1),onKeyDown:e=>"Enter"===e.key&&v(!1),style:{width:"100%",padding:"20px 24px",backgroundColor:Ah.BG_MAIN,border:"3px solid ".concat(a.PRIMARY),borderRadius:"4px",fontSize:"28px",fontWeight:"900",color:a.PRIMARY,textTransform:"uppercase",letterSpacing:"0.05em",outline:"none",boxShadow:a.GLOW},autoFocus:!0,maxLength:30}):(0,Lh.jsx)("button",{onClick:()=>v(!0),disabled:b,style:{width:"100%",padding:"20px 24px",backgroundColor:Ah.BG_MAIN,border:"2px solid ".concat(Ah.CARD_BORDER),borderRadius:"4px",fontSize:"28px",fontWeight:"900",color:"white",textAlign:"left",textTransform:"uppercase",letterSpacing:"0.05em",cursor:b?"not-allowed":"pointer",transition:"all 0.2s",opacity:b?.7:1},onMouseEnter:e=>{b||(e.currentTarget.style.borderColor=a.PRIMARY,e.currentTarget.style.color=a.PRIMARY)},onMouseLeave:e=>{b||(e.currentTarget.style.borderColor=Ah.CARD_BORDER,e.currentTarget.style.color="white")},children:m.name})]}),(0,Lh.jsxs)("div",{style:{opacity:b?.7:1,pointerEvents:b?"none":"auto"},children:[(0,Lh.jsx)("h2",{style:{fontSize:"32px",fontWeight:"900",color:a.PRIMARY,marginBottom:"32px",textTransform:"uppercase",letterSpacing:"0.1em",textShadow:a.GLOW},children:"\u25b8 SELECT WARBONDS"}),(0,Lh.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Lh.jsx)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:Ah.TEXT_SECONDARY,marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.15em",borderLeft:"4px solid ".concat(a.PRIMARY),paddingLeft:"12px"},children:"STANDARD (FREE)"}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},children:M.map(e=>(0,Lh.jsx)(Of,{warbond:e,selected:m.warbonds.includes(e.id),onToggle:()=>T(e.id),onEditItems:k,disabled:"helldivers_mobilize"===e.id,factionColors:a},e.id))})]}),(0,Lh.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Lh.jsx)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:Ah.TEXT_SECONDARY,marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.15em",borderLeft:"4px solid ".concat(Ah.ACCENT_BLUE),paddingLeft:"12px"},children:"PREMIUM WARBONDS"}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},children:j.map(e=>(0,Lh.jsx)(Of,{warbond:e,selected:m.warbonds.includes(e.id),onToggle:()=>T(e.id),onEditItems:k,factionColors:a},e.id))})]}),(0,Lh.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Lh.jsx)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:Ah.TEXT_SECONDARY,marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.15em",borderLeft:"4px solid ".concat(Ah.ACCENT_PURPLE),paddingLeft:"12px"},children:"LEGENDARY WARBONDS"}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"12px"},children:D.map(e=>(0,Lh.jsx)(Of,{warbond:e,selected:m.warbonds.includes(e.id),onToggle:()=>T(e.id),onEditItems:k,factionColors:a},e.id))})]}),(0,Lh.jsxs)("div",{style:{backgroundColor:Ah.BG_MAIN,borderRadius:"4px",padding:"24px",border:"1px solid ".concat(Ah.CARD_BORDER)},children:[(0,Lh.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,Lh.jsxs)("label",{style:{display:"flex",alignItems:"center",flex:1,cursor:"pointer"},children:[(0,Lh.jsxs)("div",{style:{flex:1},children:[(0,Lh.jsx)("div",{style:{fontSize:"18px",fontWeight:"900",color:Ah.ACCENT_PURPLE,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"8px"},children:"\u25b8 INCLUDE SUPERSTORE ITEMS"}),(0,Lh.jsx)("div",{style:{fontSize:"13px",color:Ah.TEXT_MUTED,lineHeight:"1.5"},children:"Allow items from the rotating Superstore in drafts"})]}),(0,Lh.jsx)("input",{type:"checkbox",checked:m.includeSuperstore,onChange:e=>E({includeSuperstore:e.target.checked}),style:{width:"24px",height:"24px",cursor:"pointer",accentColor:Ah.ACCENT_PURPLE}})]})}),m.includeSuperstore&&(0,Lh.jsxs)("button",{onClick:()=>{C({superstore:!0})},style:{marginTop:"16px",width:"100%",padding:"10px",backgroundColor:"rgba(100, 116, 139, 0.2)",color:Ah.TEXT_SECONDARY,border:"1px solid ".concat(Ah.CARD_BORDER),borderRadius:"4px",fontSize:"12px",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.4)",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.2)",e.currentTarget.style.color=Ah.TEXT_SECONDARY},children:[(0,Lh.jsx)(Xh,{size:16}),"Customize Superstore Items"]})]})]})]}),(0,Lh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"16px",marginTop:"32px"},children:[(0,Lh.jsxs)("button",{onClick:P,style:{padding:"16px 32px",backgroundColor:"rgba(239, 68, 68, 0.1)",color:"#ef4444",border:"2px solid #7f1d1d",borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",letterSpacing:"0.1em",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.2)",e.currentTarget.style.borderColor="#ef4444"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.1)",e.currentTarget.style.borderColor="#7f1d1d"},children:[(0,Lh.jsx)(Kh,{size:18}),i?"EXIT LOBBY":"BACK TO MENU"]}),i?(0,Lh.jsx)("button",{onClick:A,style:d(d({},Nh.PRIMARY),{},{padding:"16px 48px",borderRadius:"4px",fontSize:"16px",display:"flex",alignItems:"center",gap:"12px",backgroundColor:b?"#22c55e":a.PRIMARY,color:b?"white":"black"}),onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow=b?Mh.GLOW_GREEN:a.SHADOW_HOVER},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:b?(0,Lh.jsxs)(Lh.Fragment,{children:[(0,Lh.jsx)(Gt,{size:20}),"READY! (CLICK TO UNREADY)"]}):(0,Lh.jsxs)(Lh.Fragment,{children:["READY UP ",(0,Lh.jsx)(Gt,{size:20})]})}):(0,Lh.jsxs)("button",{onClick:I,style:d(d({},Nh.PRIMARY),{},{padding:"16px 48px",borderRadius:"4px",fontSize:"16px",display:"flex",alignItems:"center",gap:"12px"}),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=a.PRIMARY_HOVER,e.currentTarget.style.transform="translateY(-2px)",e.currentTarget.style.boxShadow=a.SHADOW_HOVER},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=a.PRIMARY,e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow=a.SHADOW},children:["START RUN ",(0,Lh.jsx)(Gt,{size:20})]})]}),S&&(0,Lh.jsx)(Nf,{warbondId:S.warbondId,isSuperstore:S.superstore,excludedItems:m.excludedItems,onSave:e=>{const t=null===S||void 0===S?void 0:S.warbondId,n=(null===S||void 0===S?void 0:S.superstore)?cr:dr.filter(e=>e.warbond===t&&e.type!==Rn.BOOSTER),r=new Set(n.map(e=>e.id)),o=[...m.excludedItems.filter(e=>!r.has(e)),...e];E({excludedItems:o})},onClose:()=>C(null),factionColors:a})]})})}function Of(e){let{warbond:t,selected:n,onToggle:r,onEditItems:o,disabled:a=!1,factionColors:i}=e;const s=()=>a?Ah.CARD_BORDER:n?t.type===ef?Ah.ACCENT_PURPLE:t.type===Zh?Ah.ACCENT_BLUE:i.PRIMARY:Ah.CARD_BORDER,l=()=>t.type===ef?"#c084fc":t.type===Zh?"#60a5fa":i.PRIMARY;return(0,Lh.jsxs)("div",{onClick:e=>{e.target.closest("[data-edit-button]")||a||r()},style:{position:"relative",borderRadius:"4px",padding:"16px 20px",border:"2px solid ".concat(s()),transition:"all 0.2s",backgroundColor:n?"rgba(0, 0, 0, 0.4)":Ah.BG_MAIN,cursor:a?"default":"pointer",transform:n?"scale(1.02)":"scale(1)",boxShadow:n?t.type===ef?Mh.GLOW_PURPLE:t.type===Zh?Mh.GLOW_BLUE:i.GLOW:"none",textAlign:"left"},onMouseEnter:e=>{a||n||(e.currentTarget.style.borderColor="rgba(100, 116, 139, 0.6)",e.currentTarget.style.backgroundColor="rgba(0, 0, 0, 0.6)")},onMouseLeave:e=>{a||n||(e.currentTarget.style.borderColor=Ah.CARD_BORDER,e.currentTarget.style.backgroundColor=Ah.BG_MAIN)},children:[(0,Lh.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:"12px"},children:[(0,Lh.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,Lh.jsx)("div",{style:{fontWeight:"bold",fontSize:"14px",color:n?l():Ah.TEXT_SECONDARY,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:t.name}),(0,Lh.jsxs)("div",{style:{fontSize:"10px",color:Ah.TEXT_DISABLED,fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.1em"},children:[t.type===Jh&&"\u25cf FREE",t.type===Zh&&"\u25cf PREMIUM",t.type===ef&&"\u25cf LEGENDARY"]})]}),n&&(0,Lh.jsx)(Gt,{style:{color:l(),flexShrink:0},size:20})]}),t.image&&(0,Lh.jsx)("div",{style:{width:"100%",aspectRatio:"16 / 9",borderRadius:"4px",overflow:"hidden",border:"1px solid ".concat(n?s():"rgba(100, 116, 139, 0.3)"),backgroundColor:"rgba(0, 0, 0, 0.3)"},children:(0,Lh.jsx)("img",{src:t.image,alt:t.name,style:{width:"100%",height:"100%",objectFit:"contain",backgroundColor:"#000"},onError:e=>{e.target.style.display="none",e.target.parentElement.innerHTML='<div style="width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; color: #64748b; font-size: 12px; font-weight: bold;">IMAGE UNAVAILABLE</div>'}})}),n&&o&&(0,Lh.jsxs)("button",{"data-edit-button":!0,onClick:e=>{e.stopPropagation(),o(t.id)},style:{width:"100%",padding:"8px",backgroundColor:"rgba(100, 116, 139, 0.2)",color:Ah.TEXT_SECONDARY,border:"1px solid ".concat(Ah.CARD_BORDER),borderRadius:"4px",fontSize:"11px",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.2s",position:"relative",zIndex:10},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.4)",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.2)",e.currentTarget.style.color=Ah.TEXT_SECONDARY},children:[(0,Lh.jsx)(Xh,{size:14}),"Customize Items"]})]}),a&&(0,Lh.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:n&&o?"50px":0,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:"4px",pointerEvents:"none"},children:(0,Lh.jsx)("span",{style:{fontSize:"11px",fontWeight:"bold",color:i.PRIMARY,textTransform:"uppercase",letterSpacing:"0.1em"},children:"\u25cf REQUIRED"})})]})}function Nf(e){let{warbondId:t,isSuperstore:n,excludedItems:o,onSave:a,onClose:i,factionColors:s}=e;const[l,c]=(0,r.useState)(new Set(o)),d=n?cr:dr.filter(e=>e.warbond===t&&e.type!==Rn.BOOSTER),u=t?nf(t):null,p=n?"Superstore Items":(null===u||void 0===u?void 0:u.name)||"Items",h=d.reduce((e,t)=>(e[t.type]||(e[t.type]=[]),e[t.type].push(t),e),{}),f=d.length-l.size;return(0,Lh.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"24px"},children:(0,Lh.jsxs)("div",{style:{backgroundColor:Ah.CARD_BG,borderRadius:"12px",border:"2px solid ".concat(s.PRIMARY),maxWidth:"800px",width:"100%",maxHeight:"80vh",display:"flex",flexDirection:"column"},children:[(0,Lh.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid ".concat(Ah.CARD_BORDER),display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("h2",{style:{color:s.PRIMARY,fontSize:"24px",fontWeight:"bold",margin:0,textTransform:"uppercase"},children:p}),(0,Lh.jsx)("p",{style:{color:Ah.TEXT_MUTED,fontSize:"14px",margin:"8px 0 0 0"},children:"Select items you own. Unchecked items won't appear in drafts."})]}),(0,Lh.jsx)("button",{onClick:i,style:{width:"36px",height:"36px",borderRadius:"4px",backgroundColor:"rgba(239, 68, 68, 0.2)",color:"#ef4444",border:"1px solid #7f1d1d",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,Lh.jsx)(Qh,{size:20})})]}),(0,Lh.jsxs)("div",{style:{padding:"16px 24px",borderBottom:"1px solid ".concat(Ah.CARD_BORDER),display:"flex",alignItems:"center",gap:"12px"},children:[(0,Lh.jsx)("button",{onClick:()=>{c(new Set)},style:{padding:"8px 16px",backgroundColor:"rgba(34, 197, 94, 0.2)",color:"#22c55e",border:"1px solid rgba(34, 197, 94, 0.5)",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",textTransform:"uppercase",whiteSpace:"nowrap",flexShrink:0},children:"Select All"}),(0,Lh.jsx)("button",{onClick:()=>{c(new Set(d.map(e=>e.id)))},style:{padding:"8px 16px",backgroundColor:"rgba(239, 68, 68, 0.2)",color:"#ef4444",border:"1px solid rgba(239, 68, 68, 0.5)",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",cursor:"pointer",textTransform:"uppercase",whiteSpace:"nowrap",flexShrink:0},children:"Deselect All"}),(0,Lh.jsxs)("span",{style:{marginLeft:"auto",color:Ah.TEXT_MUTED,fontSize:"14px"},children:[f," / ",d.length," items selected"]})]}),(0,Lh.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"24px",scrollbarWidth:"thin",scrollbarColor:"rgba(100, 116, 139, 0.3) transparent"},children:Object.entries(h).map(e=>{let[t,n]=e;return(0,Lh.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Lh.jsx)("h3",{style:{color:s.PRIMARY,fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"12px",borderLeft:"3px solid ".concat(s.PRIMARY),paddingLeft:"12px"},children:t}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"8px"},children:n.map(e=>{const t=!l.has(e.id),n=Er(e),r=e.type===Rn.PRIMARY||e.type===Rn.SECONDARY;return(0,Lh.jsxs)("label",{style:{display:"flex",flexDirection:r?"column":"row",alignItems:r?"stretch":"center",gap:"10px",padding:"10px 12px",backgroundColor:t?"rgba(34, 197, 94, 0.1)":Ah.BG_MAIN,borderRadius:"4px",border:"1px solid ".concat(t?"rgba(34, 197, 94, 0.3)":Ah.CARD_BORDER),cursor:"pointer",transition:"all 0.2s"},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",flex:r?void 0:1},children:[(0,Lh.jsx)("input",{type:"checkbox",checked:t,onChange:()=>{return t=e.id,void c(e=>{const n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n});var t},style:{width:"18px",height:"18px",cursor:"pointer",accentColor:"#22c55e",flexShrink:0}}),n&&!r&&(0,Lh.jsx)("img",{src:n,alt:"",style:{width:"28px",height:"28px",objectFit:"contain",flexShrink:0,opacity:t?1:.5},onError:e=>{e.target.style.display="none"}}),(0,Lh.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,Lh.jsx)("div",{style:{color:t?"white":Ah.TEXT_MUTED,fontSize:"13px",fontWeight:"500",lineHeight:"1.3",wordBreak:"break-word"},children:e.name}),(0,Lh.jsx)("div",{style:{color:Ah.TEXT_DISABLED,fontSize:"10px",textTransform:"uppercase"},children:e.rarity})]})]}),n&&r&&(0,Lh.jsx)("div",{style:{width:"100%",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0, 0, 0, 0.3)",borderRadius:"4px",overflow:"hidden"},children:(0,Lh.jsx)("img",{src:n,alt:"",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",opacity:t?1:.5},onError:e=>{e.target.parentElement.style.display="none"}})})]},e.id)})})]},t)})}),(0,Lh.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid ".concat(Ah.CARD_BORDER),display:"flex",justifyContent:"flex-end",gap:"12px"},children:[(0,Lh.jsx)("button",{onClick:i,style:{padding:"12px 24px",backgroundColor:"transparent",color:Ah.TEXT_MUTED,border:"1px solid ".concat(Ah.CARD_BORDER),borderRadius:"4px",fontWeight:"bold",cursor:"pointer",textTransform:"uppercase",fontSize:"14px"},children:"Cancel"}),(0,Lh.jsx)("button",{onClick:()=>{a(Array.from(l)),i()},style:{padding:"12px 24px",backgroundColor:s.PRIMARY,color:"black",border:"none",borderRadius:"4px",fontWeight:"bold",cursor:"pointer",textTransform:"uppercase",fontSize:"14px"},children:"Save Selection"})]})]})})}function Lf(e){let{gameConfig:t,eventsEnabled:n,onUpdateGameConfig:r,onSetSubfaction:o,onSetEventsEnabled:a,factionColors:i}=e;const s=i||Ph(t.faction);return(0,Lh.jsxs)("div",{children:[(0,Lh.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Theatre of War"}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"12px"},children:["terminid","automaton","illuminate"].map(e=>{const n=t.faction===e,a=Ph(e);return(0,Lh.jsx)("button",{onClick:()=>{r({faction:e});const t=(0,br.getSubfactionsForFaction)(e);t.length>0&&o(t[0])},style:{padding:"16px",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",transition:"all 0.2s",backgroundColor:n?"".concat(a.PRIMARY,"20"):"transparent",color:n?a.PRIMARY:"#64748b",border:n?"2px solid ".concat(a.PRIMARY):"1px solid rgba(100, 116, 139, 0.5)",cursor:"pointer",fontSize:"13px",letterSpacing:"0.5px"},onMouseEnter:e=>{n||(e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.1)",e.currentTarget.style.color="#94a3b8")},onMouseLeave:e=>{n||(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#64748b")},children:"terminid"===e?"Terminids":"automaton"===e?"Automatons":"Illuminate"},e)})})]}),(0,Lh.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Enemy Variant"}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:(0,br.getSubfactionsForFaction)(t.faction).map(e=>{const n=t.subfaction===e,r=br.SUBFACTION_CONFIG[e];return(0,Lh.jsxs)("button",{onClick:()=>o(e),style:{padding:"16px",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",transition:"all 0.2s",fontSize:"13px",letterSpacing:"0.5px",backgroundColor:n?"".concat(s.PRIMARY,"15"):"transparent",color:n?s.PRIMARY:"#64748b",border:n?"2px solid ".concat(s.PRIMARY):"1px solid rgba(100, 116, 139, 0.5)",cursor:"pointer",textAlign:"left"},onMouseEnter:e=>{n||(e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.1)",e.currentTarget.style.color="#94a3b8")},onMouseLeave:e=>{n||(e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.color="#64748b")},children:[(0,Lh.jsx)("div",{style:{fontSize:"14px",marginBottom:"4px"},children:r.name}),(0,Lh.jsxs)("div",{style:{fontSize:"11px",color:n?s.PRIMARY:"#64748b",opacity:.8},children:[r.description," \u2022 Req: ",r.reqMultiplier,"x \u2022 Rares: ",r.rareWeightMultiplier,"x"]})]},e)})})]}),(0,Lh.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Game Mode Options"}),(0,Lh.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px",textAlign:"left"},children:[(0,Lh.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:t.globalUniqueness?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,Lh.jsx)("input",{type:"checkbox",checked:t.globalUniqueness,onChange:e=>r({globalUniqueness:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px"},children:"Global Card Uniqueness"}),(0,Lh.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Cards drafted by one player cannot appear for other players"})]})]}),(0,Lh.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:t.burnCards?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,Lh.jsx)("input",{type:"checkbox",checked:t.burnCards,onChange:e=>r({burnCards:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px"},children:"Burn Cards After Viewing"}),(0,Lh.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Once a card appears in a draft, it cannot appear again this run"})]})]}),(0,Lh.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:t.customStart?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,Lh.jsx)("input",{type:"checkbox",checked:t.customStart,onChange:e=>r({customStart:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px"},children:"Custom Start Mode"}),(0,Lh.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Choose starting difficulty and loadouts for each player"})]})]}),(0,Lh.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:n?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,Lh.jsx)("input",{type:"checkbox",checked:n,onChange:e=>a(e.target.checked),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsxs)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px"},children:["Enable Events",(0,Lh.jsx)("span",{style:{fontSize:"9px",fontWeight:"bold",padding:"2px 6px",backgroundColor:"#f59e0b",color:"#000",borderRadius:"3px",letterSpacing:"0.5px"},children:"BETA"})]}),(0,Lh.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Random high-risk, high-reward events between missions"})]})]}),(0,Lh.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:t.endlessMode?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,Lh.jsx)("input",{type:"checkbox",checked:t.endlessMode,onChange:e=>r({endlessMode:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px"},children:"Endless Mode"}),(0,Lh.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Continue running D10 missions indefinitely. Otherwise, win after completing D10"})]})]}),(0,Lh.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:t.enduranceMode?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,Lh.jsx)("input",{type:"checkbox",checked:t.enduranceMode,onChange:e=>r({enduranceMode:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px"},children:"Endurance Mode"}),(0,Lh.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Complete full operations (1-3 missions) at each difficulty. Draft rewards only given at operation end"})]})]}),(0,Lh.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:"pointer",padding:"12px",backgroundColor:t.brutalityMode?"".concat(s.PRIMARY,"1A"):"transparent",borderRadius:"4px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,Lh.jsx)("input",{type:"checkbox",checked:t.brutalityMode,onChange:e=>r({brutalityMode:e.target.checked}),style:{width:"20px",height:"20px",cursor:"pointer"}}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{color:s.PRIMARY,fontWeight:"bold",fontSize:"14px"},children:"Brutality Mode"}),(0,Lh.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Non-extracted Helldivers sacrifice loadout items (down to Peacemaker & B-01). If disabled, only all-fail triggers sacrifice."})]})]})]})]})]})}function zf(e){var t,n;let{gameConfig:r}=e;const o=(e,t)=>{const n=(0,br.getRareWeightMultiplier)(e,t);return{[vn]:60,[Sn]:35,[Cn]:10+Math.round(5*n),[wn]:10+Math.round(2*n)}},a=e=>{const t=Object.values(e).reduce((e,t)=>e+t,0);return Object.entries(e).reduce((e,n)=>{let[r,o]=n;return e[r]=(o/t*100).toFixed(1),e},{})},i=o(r.playerCount,r.subfaction),s=a(i),l={[vn]:"#9CA3AF",[Sn]:"#60A5FA",[Cn]:"#A78BFA",[wn]:"#FBBF24"},c=(null===(t=br.SUBFACTION_CONFIG[r.subfaction])||void 0===t?void 0:t.name)||"Unknown",d=(null===(n=br.SUBFACTION_CONFIG[r.subfaction])||void 0===n?void 0:n.rareWeightMultiplier)||1;return(0,Lh.jsxs)("div",{style:{background:"rgba(0, 0, 0, 0.8)",border:"2px solid ".concat(Ah.ACCENT_YELLOW),borderRadius:"8px",padding:"24px",maxWidth:"800px",margin:"0 auto 24px auto",boxShadow:Mh.GLOW},children:[(0,Lh.jsx)("h3",{style:{fontSize:"20px",fontWeight:"bold",color:Ah.ACCENT_YELLOW,textTransform:"uppercase",letterSpacing:"0.1em",marginBottom:"16px",textAlign:"center"},children:"Debug: Rarity Weight Visualization"}),(0,Lh.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"4px",padding:"12px",marginBottom:"20px",fontSize:"14px"},children:[(0,Lh.jsxs)("p",{style:{margin:"0 0 4px 0"},children:[(0,Lh.jsx)("strong",{children:"Player Count:"})," ",r.playerCount," ","(Rare Multiplier: ",Math.pow(.7,r.playerCount-1).toFixed(3),"\xd7)"]}),(0,Lh.jsxs)("p",{style:{margin:"0"},children:[(0,Lh.jsx)("strong",{children:"Subfaction:"})," ",c," ","(Rare Multiplier: ",d.toFixed(2),"\xd7)"]})]}),(0,Lh.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Lh.jsx)("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"12px"},children:"Current Draw Weights"}),(0,Lh.jsx)("div",{style:{display:"flex",height:"60px",borderRadius:"4px",overflow:"hidden",marginBottom:"12px"},children:Object.entries(i).map(e=>{let[t,n]=e;const r=s[t];return(0,Lh.jsxs)("div",{style:{flex:n,background:l[t],display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",fontWeight:"bold",fontSize:"12px",textShadow:"0 1px 2px rgba(0,0,0,0.8)",minWidth:"60px"},children:[(0,Lh.jsx)("div",{children:t}),(0,Lh.jsxs)("div",{style:{fontSize:"10px"},children:[r,"%"]})]},t)})}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"8px",fontSize:"12px"},children:Object.entries(i).map(e=>{let[t,n]=e;return(0,Lh.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.05)",padding:"8px",borderRadius:"4px",borderLeft:"4px solid ".concat(l[t])},children:[(0,Lh.jsx)("div",{style:{fontWeight:"bold"},children:t}),(0,Lh.jsxs)("div",{style:{fontSize:"11px",opacity:.8},children:["Weight: ",n]})]},t)})})]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"12px"},children:"Weight Comparison (by Player Count)"}),(0,Lh.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"4px",overflow:"hidden"},children:(0,Lh.jsxs)("table",{style:{width:"100%",fontSize:"12px",borderCollapse:"collapse"},children:[(0,Lh.jsx)("thead",{children:(0,Lh.jsxs)("tr",{style:{background:"rgba(255, 255, 255, 0.1)"},children:[(0,Lh.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"Players"}),(0,Lh.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Common"}),(0,Lh.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Uncommon"}),(0,Lh.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Rare"}),(0,Lh.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Legendary"})]})}),(0,Lh.jsx)("tbody",{children:[1,2,3,4].map(e=>{const t=o(e,r.subfaction),n=a(t),i=e===r.playerCount;return(0,Lh.jsxs)("tr",{style:{background:i?"rgba(255, 255, 255, 0.1)":"transparent",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,Lh.jsxs)("td",{style:{padding:"8px",fontWeight:i?"bold":"normal"},children:[e," ",i&&"\u2190"]}),(0,Lh.jsxs)("td",{style:{padding:"8px",textAlign:"center"},children:[t[vn]," (",n[vn],"%)"]}),(0,Lh.jsxs)("td",{style:{padding:"8px",textAlign:"center"},children:[t[Sn]," (",n[Sn],"%)"]}),(0,Lh.jsxs)("td",{style:{padding:"8px",textAlign:"center"},children:[t[Cn]," (",n[Cn],"%)"]}),(0,Lh.jsxs)("td",{style:{padding:"8px",textAlign:"center"},children:[t[wn]," (",n[wn],"%)"]})]},e)})})]})})]}),(0,Lh.jsxs)("div",{style:{marginTop:"20px"},children:[(0,Lh.jsxs)("h4",{style:{fontSize:"16px",fontWeight:"bold",marginBottom:"12px"},children:["Weight Comparison (by Subfaction @ ",r.playerCount,"P)"]}),(0,Lh.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.05)",borderRadius:"4px",overflow:"hidden",maxHeight:"300px",overflowY:"auto"},children:(0,Lh.jsxs)("table",{style:{width:"100%",fontSize:"11px",borderCollapse:"collapse"},children:[(0,Lh.jsx)("thead",{style:{position:"sticky",top:0,background:"rgba(0, 0, 0, 0.9)"},children:(0,Lh.jsxs)("tr",{style:{background:"rgba(255, 255, 255, 0.1)"},children:[(0,Lh.jsx)("th",{style:{padding:"8px",textAlign:"left"},children:"Subfaction"}),(0,Lh.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Mult"}),(0,Lh.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Rare"}),(0,Lh.jsx)("th",{style:{padding:"8px",textAlign:"center"},children:"Legendary"})]})}),(0,Lh.jsx)("tbody",{children:Object.entries(br.SUBFACTION_CONFIG).map(e=>{let[t,n]=e;const a=o(r.playerCount,t),i=t===r.subfaction;return(0,Lh.jsxs)("tr",{style:{background:i?"rgba(255, 255, 255, 0.1)":"transparent",borderTop:"1px solid rgba(255, 255, 255, 0.1)"},children:[(0,Lh.jsxs)("td",{style:{padding:"6px",fontWeight:i?"bold":"normal"},children:[n.name," ",i&&"\u2190"]}),(0,Lh.jsxs)("td",{style:{padding:"6px",textAlign:"center"},children:[n.rareWeightMultiplier.toFixed(2),"\xd7"]}),(0,Lh.jsx)("td",{style:{padding:"6px",textAlign:"center"},children:a[Cn]}),(0,Lh.jsx)("td",{style:{padding:"6px",textAlign:"center"},children:a[wn]})]},t)})})]})})]}),(0,Lh.jsxs)("div",{style:{marginTop:"16px",padding:"12px",background:"rgba(251, 191, 36, 0.1)",borderLeft:"4px solid ".concat(Ah.ACCENT_YELLOW),borderRadius:"4px",fontSize:"12px",opacity:.8},children:[(0,Lh.jsx)("strong",{children:"Note:"})," Weights shown are base rarity weights before additional modifiers like faction synergy, AT requirements, or backpack restrictions are applied."]})]})}const Bf=Ft("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Ff=Ft("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Wf=Ft("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),Uf=Ft("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);function Hf(e){let{isOpen:t,onClose:n,faction:o="Terminids"}=e;const a=Ph(o);return r.useEffect(()=>{const e=e=>{"Escape"===e.key&&n()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,n]),t?(0,Lh.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"24px",overflowY:"auto"},onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"explainer-modal-title",children:(0,Lh.jsxs)("div",{style:{backgroundColor:"#1a2332",borderRadius:"12px",border:"2px solid ".concat(a.PRIMARY),maxWidth:"900px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 0 40px ".concat(a.PRIMARY,"40")},onClick:e=>e.stopPropagation(),children:[(0,Lh.jsxs)("div",{style:{padding:"24px",borderBottom:"2px solid ".concat(a.PRIMARY,"4D"),display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,backgroundColor:"#1a2332",zIndex:1},children:[(0,Lh.jsx)("h2",{style:{fontSize:"28px",fontWeight:"900",color:a.PRIMARY,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},id:"explainer-modal-title",children:"Mission Briefing"}),(0,Lh.jsx)("button",{onClick:n,style:{width:"36px",height:"36px",borderRadius:"4px",backgroundColor:"rgba(100, 116, 139, 0.3)",color:"#94a3b8",border:"1px solid rgba(100, 116, 139, 0.5)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.3)",e.currentTarget.style.color="#ef4444"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.3)",e.currentTarget.style.color="#94a3b8"},children:(0,Lh.jsx)(Qh,{size:20})})]}),(0,Lh.jsxs)("div",{style:{padding:"32px"},children:[(0,Lh.jsxs)(Yf,{icon:(0,Lh.jsx)(Bf,{size:24}),title:"How to Win",color:a.PRIMARY,children:[(0,Lh.jsxs)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",marginBottom:"12px"},children:["Your mission is to ",(0,Lh.jsx)("strong",{children:"complete all 10 difficulty tiers"})," (D1 through D10). Start at Difficulty 1 with basic equipment and work your way up to Super Helldive difficulty."]}),(0,Lh.jsxs)("ul",{style:{color:"#cbd5e1",lineHeight:"1.8",paddingLeft:"20px",marginBottom:"12px"},children:[(0,Lh.jsx)("li",{children:"Complete a mission at your current difficulty"}),(0,Lh.jsx)("li",{children:"Successfully extract (at least one player must extract)"}),(0,Lh.jsx)("li",{children:"Advance to the next difficulty tier"}),(0,Lh.jsx)("li",{children:"Reach and complete Difficulty 10 to achieve victory"})]}),(0,Lh.jsx)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",padding:"12px",marginTop:"12px"},children:(0,Lh.jsxs)("p",{style:{color:"#ef4444",fontSize:"14px",margin:0},children:[(0,Lh.jsx)("strong",{children:"\u26a0\ufe0f Failure Condition:"})," If you report a mission as failed, your run ends immediately with a Game Over."]})})]}),(0,Lh.jsxs)(Yf,{icon:(0,Lh.jsx)(Ff,{size:24}),title:"How Drafting Works",color:a.PRIMARY,children:[(0,Lh.jsx)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",marginBottom:"12px"},children:"After each successful mission, players take turns drafting new equipment from a random selection of cards. The draft is your opportunity to build and improve your loadout."}),(0,Lh.jsx)("h4",{style:{color:a.PRIMARY,fontSize:"16px",marginTop:"16px",marginBottom:"8px"},children:"Draft Hand Size"}),(0,Lh.jsx)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",marginBottom:"8px"},children:"The number of cards offered depends on your mission performance rating (star rating):"}),(0,Lh.jsxs)("ul",{style:{color:"#cbd5e1",lineHeight:"1.8",paddingLeft:"20px",marginBottom:"12px"},children:[(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"1-2 Stars:"})," 2 cards to choose from"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"3-4 Stars:"})," 3 cards to choose from"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"5 Stars:"})," 4 cards to choose from"]})]}),(0,Lh.jsx)("h4",{style:{color:a.PRIMARY,fontSize:"16px",marginTop:"16px",marginBottom:"8px"},children:"Draft Actions"}),(0,Lh.jsxs)("ul",{style:{color:"#cbd5e1",lineHeight:"1.8",paddingLeft:"20px",marginBottom:"12px"},children:[(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Pick a Card:"})," Click on a card to add it to your inventory and auto-equip it"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Remove a Card:"})," Click the \xd7 on a card to replace just that card (free). This should only be done to correct a mistake when you don't have access to the drafted item for some reason."]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Reroll All:"})," Spend 1 Requisition to get a completely new hand"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Skip Draft:"})," Pass on drafting if nothing appeals to you"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Slot Locking:"})," Spend Requisition to prevent certain item types from appearing"]})]}),(0,Lh.jsx)("h4",{style:{color:a.PRIMARY,fontSize:"16px",marginTop:"16px",marginBottom:"8px"},children:"Smart Drafting System"}),(0,Lh.jsx)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",marginBottom:"12px"},children:"Cards are weighted based on your current loadout needs. If you lack anti-tank weapons, you're more likely to see them offered. The draft adapts to help you build a balanced loadout."})]}),(0,Lh.jsxs)(Yf,{icon:(0,Lh.jsx)(Wf,{size:24}),title:"Starting Loadout",color:a.PRIMARY,children:[(0,Lh.jsx)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",marginBottom:"12px"},children:"Every Helldiver begins with minimal equipment at Difficulty 1:"}),(0,Lh.jsxs)("ul",{style:{color:"#cbd5e1",lineHeight:"1.8",paddingLeft:"20px",marginBottom:"12px"},children:[(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Secondary:"})," P-2 Peacemaker (basic pistol)"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Throwable:"})," G-16 Impact Grenade"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Armor:"})," B-01 Tactical (light armor)"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Stratagems:"})," 4 empty slots to fill through drafting"]})]}),(0,Lh.jsxs)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",marginBottom:"12px"},children:["You'll also earn ",(0,Lh.jsx)("strong",{children:"1 Requisition"})," per successful mission, which you can spend on rerolling draft hands or locking slots to customize your draft pool."]}),(0,Lh.jsx)("div",{style:{backgroundColor:"rgba(34, 197, 94, 0.1)",border:"1px solid rgba(34, 197, 94, 0.3)",borderRadius:"4px",padding:"12px",marginTop:"12px"},children:(0,Lh.jsxs)("p",{style:{color:"#22c55e",fontSize:"14px",margin:0},children:[(0,Lh.jsx)("strong",{children:"\ud83d\udca1 Tip:"})," The P-2 Peacemaker and B-01 Tactical cannot be sacrificed\u2014they're your guaranteed minimum equipment."]})})]}),(0,Lh.jsxs)(Yf,{icon:(0,Lh.jsx)(Uf,{size:24}),title:"How Samples & Events Work Together",color:a.PRIMARY,children:[(0,Lh.jsx)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",marginBottom:"12px"},children:"Samples collected during missions increase your chance of triggering special events. Events offer high-risk, high-reward choices that can significantly impact your run."}),(0,Lh.jsx)("h4",{style:{color:a.PRIMARY,fontSize:"16px",marginTop:"16px",marginBottom:"8px"},children:"Sample Types & Event Chances"}),(0,Lh.jsxs)("ul",{style:{color:"#cbd5e1",lineHeight:"1.8",paddingLeft:"20px",marginBottom:"12px"},children:[(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{style:{color:"#22c55e"},children:"Common Samples:"})," +1% event chance each"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{style:{color:"#f97316"},children:"Rare Samples:"})," +2% event chance each"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{style:{color:"#a855f7"},children:"Super Rare Samples:"})," +3% event chance each"]})]}),(0,Lh.jsx)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",marginBottom:"12px"},children:"The base event chance starts at 0%. When an event triggers, your accumulated samples are consumed and the chance resets to 0%."}),(0,Lh.jsx)("h4",{style:{color:a.PRIMARY,fontSize:"16px",marginTop:"16px",marginBottom:"8px"},children:"Event Types"}),(0,Lh.jsx)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",marginBottom:"8px"},children:"Events can offer various outcomes:"}),(0,Lh.jsxs)("ul",{style:{color:"#cbd5e1",lineHeight:"1.8",paddingLeft:"20px",marginBottom:"12px"},children:[(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Positive:"})," Gain extra draft picks, requisition, or boosters"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Negative:"})," Lose equipment, face weapon restrictions, or other penalties"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Choice-Based:"})," Pick between multiple options, each with different costs and rewards"]})]}),(0,Lh.jsx)("div",{style:{backgroundColor:"".concat(a.PRIMARY,"10"),border:"1px solid ".concat(a.PRIMARY,"40"),borderRadius:"4px",padding:"12px",marginTop:"12px"},children:(0,Lh.jsxs)("p",{style:{color:a.PRIMARY,fontSize:"14px",margin:0},children:[(0,Lh.jsx)("strong",{children:"\ud83d\udc8e Strategy:"})," Collect samples strategically to increase event frequency. Events can dramatically change your run's trajectory\u2014use them wisely!"]})})]}),(0,Lh.jsxs)(Yf,{icon:(0,Lh.jsx)(Wf,{size:24}),title:"Additional Mechanics",color:a.PRIMARY,children:[(0,Lh.jsx)("h4",{style:{color:a.PRIMARY,fontSize:"16px",marginTop:"16px",marginBottom:"8px"},children:"Extraction & Sacrifice"}),(0,Lh.jsx)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",marginBottom:"12px"},children:"After each mission, mark which players successfully extracted. Non-extracted players may need to sacrifice equipment:"}),(0,Lh.jsxs)("ul",{style:{color:"#cbd5e1",lineHeight:"1.8",paddingLeft:"20px",marginBottom:"12px"},children:[(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Standard Mode:"})," If ",(0,Lh.jsx)("em",{children:"all"})," players fail to extract, everyone must sacrifice one item"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Brutality Mode:"})," ",(0,Lh.jsx)("em",{children:"Any"})," non-extracted player must sacrifice an item"]})]}),(0,Lh.jsx)("h4",{style:{color:a.PRIMARY,fontSize:"16px",marginTop:"16px",marginBottom:"8px"},children:"Warbond Selection"}),(0,Lh.jsx)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",marginBottom:"12px"},children:"Before starting, select which warbonds you own. The draft pool only includes equipment from your selected warbonds, ensuring you only see items you can actually use in Helldivers 2."}),(0,Lh.jsx)("h4",{style:{color:a.PRIMARY,fontSize:"16px",marginTop:"16px",marginBottom:"8px"},children:"Game Modes"}),(0,Lh.jsxs)("ul",{style:{color:"#cbd5e1",lineHeight:"1.8",paddingLeft:"20px",marginBottom:"12px"},children:[(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Global Uniqueness:"})," Players can't draft the same cards"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Burn Cards:"})," Once seen, a card never appears again"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Endless Mode:"})," Keep playing past Difficulty 10"]}),(0,Lh.jsxs)("li",{children:[(0,Lh.jsx)("strong",{children:"Custom Start:"})," Configure starting difficulty and loadouts"]})]})]}),(0,Lh.jsxs)("div",{style:{marginTop:"32px",padding:"20px",backgroundColor:"rgba(100, 116, 139, 0.1)",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.3)",textAlign:"center"},children:[(0,Lh.jsx)("p",{style:{color:"#94a3b8",fontSize:"16px",fontWeight:"bold",margin:"0 0 8px 0"},children:"FOR DEMOCRACY! FOR MANAGED MAYHEM!"}),(0,Lh.jsx)("p",{style:{color:"#64748b",fontSize:"12px",margin:0},children:"Good luck, Helldiver. Super Earth is counting on you."})]})]})]})}):null}function Yf(e){let{icon:t,title:n,color:r,children:o}=e;return(0,Lh.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px",paddingBottom:"12px",borderBottom:"2px solid ".concat(r,"40")},children:[(0,Lh.jsx)("div",{style:{color:r},children:t}),(0,Lh.jsx)("h3",{style:{fontSize:"20px",fontWeight:"bold",color:r,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},children:n})]}),(0,Lh.jsx)("div",{children:o})]})}const Gf=Ft("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),qf="0.1.0";function Vf(e){var t;let{isOpen:n,onClose:o,faction:a="Terminids"}=e;const i=Ph(a),[s,l]=r.useState(""),[c,d]=r.useState(!0),[u,p]=r.useState(null);if(r.useEffect(()=>{if(n){d(!0),p(null);const e="".concat("/helldrafters","/CHANGELOG.md");fetch(e).then(e=>{if(!e.ok)throw new Error("Failed to load patch notes");return e.text()}).then(e=>{l(e),d(!1)}).catch(e=>{console.error("Error loading patch notes:",e),p("Unable to load patch notes. Please check the repository for the latest updates."),d(!1)})}},[n]),r.useEffect(()=>{const e=e=>{"Escape"===e.key&&o()};return n&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[n,o]),!n)return null;return(0,Lh.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"24px",overflowY:"auto"},onClick:o,role:"dialog","aria-modal":"true","aria-labelledby":"patchnotes-modal-title","aria-describedby":"patchnotes-modal-content",children:(0,Lh.jsxs)("div",{style:{backgroundColor:"#1a2332",borderRadius:"12px",border:"2px solid ".concat(i.PRIMARY),maxWidth:"900px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 0 40px ".concat(i.PRIMARY,"40")},onClick:e=>e.stopPropagation(),children:[(0,Lh.jsxs)("div",{style:{padding:"24px",borderBottom:"2px solid ".concat(i.PRIMARY,"4D"),display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,backgroundColor:"#1a2332",zIndex:1},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Lh.jsx)(Gf,{size:28,color:i.PRIMARY}),(0,Lh.jsx)("h2",{style:{fontSize:"28px",fontWeight:"900",color:i.PRIMARY,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},id:"patchnotes-modal-title",children:"Patch Notes"})]}),(0,Lh.jsx)("button",{onClick:o,style:{width:"36px",height:"36px",borderRadius:"4px",backgroundColor:"rgba(100, 116, 139, 0.3)",color:"#94a3b8",border:"1px solid rgba(100, 116, 139, 0.5)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.3)",e.currentTarget.style.color="#ef4444"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.3)",e.currentTarget.style.color="#94a3b8"},children:(0,Lh.jsx)(Qh,{size:20})})]}),(0,Lh.jsxs)("div",{style:{padding:"32px"},id:"patchnotes-modal-content",children:[c&&(0,Lh.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8"},children:(0,Lh.jsx)("p",{children:"Loading patch notes..."})}),u&&(0,Lh.jsx)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",padding:"20px",textAlign:"center"},children:(0,Lh.jsx)("p",{style:{color:"#ef4444",margin:0},children:u})}),!c&&!u&&(0,Lh.jsx)("div",{children:(e=>{if(!e)return null;const t=e.split("\n"),n=[];let r=[];const o=()=>{r.length>0&&(n.push((0,Lh.jsx)("ul",{style:{color:"#cbd5e1",lineHeight:"1.8",paddingLeft:"20px",marginBottom:"16px",listStyleType:"disc"},children:r},"list-".concat(n.length))),r=[])};return t.forEach((e,t)=>{if(e.trim())if(e.startsWith("# "))o(),n.push((0,Lh.jsx)("h1",{style:{fontSize:"32px",fontWeight:"900",color:i.PRIMARY,textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"24px",marginTop:"0"},children:e.substring(2)},"h1-".concat(t)));else if(e.startsWith("## ")){o();const r=e.substring(3);n.push((0,Lh.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",color:i.PRIMARY,marginTop:"32px",marginBottom:"16px",paddingBottom:"8px",borderBottom:"2px solid ".concat(i.PRIMARY,"40")},children:r},"h2-".concat(t)))}else e.startsWith("### ")?(o(),n.push((0,Lh.jsx)("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#22c55e",marginTop:"20px",marginBottom:"12px"},children:e.substring(4)},"h3-".concat(t)))):e.startsWith("- ")?r.push((0,Lh.jsx)("li",{style:{marginBottom:"4px"},children:e.substring(2)},"li-".concat(t))):(o(),e.startsWith("[")||e.includes("keepachangelog.com")||n.push((0,Lh.jsx)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",marginBottom:"12px"},children:e},"p-".concat(t))));else o()}),o(),n})(s)}),(0,Lh.jsxs)("div",{style:{marginTop:"32px",padding:"20px",backgroundColor:"rgba(100, 116, 139, 0.1)",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.3)",textAlign:"center"},children:[(0,Lh.jsxs)("p",{style:{color:"#94a3b8",fontSize:"14px",margin:"0 0 8px 0"},children:["For the full changelog and detailed information, visit the"," ",(0,Lh.jsx)("a",{href:"https://github.com/TheInsomnolent/helldrafters",target:"_blank",rel:"noopener noreferrer",style:{color:i.PRIMARY,textDecoration:"underline"},children:"GitHub repository"})]}),(0,Lh.jsxs)("p",{style:{color:"#64748b",fontSize:"12px",margin:0},children:["Version: ",qf," | Build: ",(null===(t="53f7b6a05b5e764bc7c0e86988d33a71e5133c33")?void 0:t.substring(0,7))||"dev"]})]})]})]})})}const Kf=Ft("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);function $f(e){let{isOpen:t,onClose:n,faction:o="Terminids"}=e;const a=Ph(o);return r.useEffect(()=>{const e=e=>{"Escape"===e.key&&n()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,n]),t?(0,Lh.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"24px",overflowY:"auto"},onClick:n,role:"dialog","aria-modal":"true","aria-labelledby":"genai-disclosure-modal-title",children:(0,Lh.jsxs)("div",{style:{backgroundColor:"#1a2332",borderRadius:"12px",border:"2px solid ".concat(a.PRIMARY),maxWidth:"700px",width:"100%",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 0 40px ".concat(a.PRIMARY,"40")},onClick:e=>e.stopPropagation(),children:[(0,Lh.jsxs)("div",{style:{padding:"24px",borderBottom:"2px solid ".concat(a.PRIMARY,"4D"),display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,backgroundColor:"#1a2332",zIndex:1},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Lh.jsx)(Kf,{size:28,style:{color:a.PRIMARY}}),(0,Lh.jsx)("h2",{style:{fontSize:"28px",fontWeight:"900",color:a.PRIMARY,textTransform:"uppercase",letterSpacing:"0.05em",margin:0},id:"genai-disclosure-modal-title",children:"Gen AI Disclosure"})]}),(0,Lh.jsx)("button",{onClick:n,style:{width:"36px",height:"36px",borderRadius:"4px",backgroundColor:"rgba(100, 116, 139, 0.3)",color:"#94a3b8",border:"1px solid rgba(100, 116, 139, 0.5)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.3)",e.currentTarget.style.color="#ef4444"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.3)",e.currentTarget.style.color="#94a3b8"},children:(0,Lh.jsx)(Qh,{size:20})})]}),(0,Lh.jsxs)("div",{style:{padding:"32px"},children:[(0,Lh.jsxs)("div",{style:{backgroundColor:"".concat(a.PRIMARY,"10"),border:"2px solid ".concat(a.PRIMARY,"40"),borderRadius:"8px",padding:"24px",marginBottom:"24px"},children:[(0,Lh.jsx)("h3",{style:{color:a.PRIMARY,fontSize:"18px",fontWeight:"bold",marginTop:0,marginBottom:"16px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Development Transparency"}),(0,Lh.jsxs)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",fontSize:"15px",marginBottom:"16px"},children:["As a full-time developer and a fan of Helldivers 2, I built this tool to enhance our community's experience. I want to be transparent that ",(0,Lh.jsx)("strong",{children:"Generative AI was used to assist in the creation of this project."})]}),(0,Lh.jsx)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",fontSize:"15px",marginBottom:"16px"},children:"I am acutely aware of the valid concerns regarding AI, including its impact on creative professions, intellectual property, and the environment. However, as a solo hobbyist working in my limited spare time, these tools were the bridge that allowed me to bring this vision to life without burning out."}),(0,Lh.jsxs)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",fontSize:"15px",marginBottom:"16px"},children:["This project is, and will always be, ",(0,Lh.jsx)("strong",{children:"a free gift to the community."})," My goal isn't to replace human creativity, but to use these new tools to provide a little more joy for our squads. Thank you for understanding and for your support."]}),(0,Lh.jsxs)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",fontSize:"15px",marginBottom:"16px"},children:["While some Generative AI tools are used to maintain this project, they are largely used for ",(0,Lh.jsx)("strong",{children:"bugfixes and icon generation"}),". This is a one-man, currently self-funded show, and I am not an artist."]}),(0,Lh.jsxs)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",fontSize:"15px",marginBottom:"16px"},children:["However, I ",(0,Lh.jsx)("em",{children:"am"})," a full stack developer, and the vast majority of the ",(0,Lh.jsx)("strong",{children:"feature prototyping, hosting, infrastructure work, design work, testing, project management, and code-review of GenAI-developed tasks"})," is all done by me."]}),(0,Lh.jsxs)("p",{style:{color:"#cbd5e1",lineHeight:"1.8",fontSize:"15px",marginBottom:"16px"},children:["It is a personal goal of mine to prevent this from being AI shovelware, hence my commitment to transparency on this matter. If you would like to explore the development process further and examine what kind of jobs the GenAI has been used for, you are free to visit the ",(0,Lh.jsx)("a",{href:"https://github.com/TheInsomnolent/helldrafters/issues?q=is%3Aissue",target:"_blank",rel:"noopener noreferrer",style:{color:a.PRIMARY,textDecoration:"underline",fontWeight:"bold"},children:"issue management board"})," where I have started to tag all human vs. AI tasks as an effort to increase transparency."]})]}),(0,Lh.jsxs)("div",{style:{padding:"20px",backgroundColor:"rgba(100, 116, 139, 0.1)",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.3)",textAlign:"center"},children:[(0,Lh.jsx)("p",{style:{color:a.PRIMARY,lineHeight:"1.8",fontSize:"16px",fontWeight:"bold",textAlign:"center",marginTop:"24px",marginBottom:"24px",textTransform:"uppercase",letterSpacing:"0.1em"},children:"Let's spread some managed democracy."}),(0,Lh.jsx)("img",{src:"".concat("/helldrafters","/griff.jpg"),alt:"Griff",style:{width:"80px",height:"80px",borderRadius:"50%",objectFit:"cover",border:"3px solid ".concat(a.PRIMARY),marginBottom:"12px"}}),(0,Lh.jsx)("p",{style:{color:"#94a3b8",fontSize:"14px",fontWeight:"bold",margin:"0 0 4px 0"},children:"Griff"}),(0,Lh.jsx)("p",{style:{color:"#64748b",fontSize:"12px",margin:0},children:"Developer & Helldiver"}),(0,Lh.jsx)("p",{style:{color:"#64748b",fontSize:"12px",margin:0},children:"o7"})]})]})]})}):null}const Xf=Ft("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]]);function Qf(e){let{isOpen:t,onClose:n,faction:o="Terminids"}=e;console.log("ContributorsModal rendered, isOpen:",t);const a=Ph(o),[i,s]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[u,p]=(0,r.useState)(null),[h,f]=(0,r.useState)({});if((0,r.useEffect)(()=>{if(t){if(c(!0),p(null),!Sh())return p("Firebase is not configured. Multiplayer features are disabled."),void c(!1);try{const e=xh();sh(Jp(e,"contributors"),e=>{if(e.exists()){const t=e.val(),n=Object.entries(t).map(e=>{let[t,n]=e;return d({id:t},n)}).filter(e=>!1!==e.isPublic).sort((e,t)=>{const n={"Skull Admiral":0,"Space Cadet":1,Unknown:2},r=(n[e.tier]||2)-(n[t.tier]||2);return 0!==r?r:(t.monthsSubscribed||0)-(e.monthsSubscribed||0)});s(n)}else s([]);c(!1)},e=>{console.error("Error loading contributors:",e),p("Unable to load contributors at this time."),c(!1)})}catch(e){console.error("Error setting up contributors listener:",e),p("Firebase is not initialized. Please refresh the page."),c(!1)}}},[t]),(0,r.useEffect)(()=>{const e=e=>{"Escape"===e.key&&n()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,n]),!t)return null;return(0,Lh.jsx)("div",{onClick:n,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,Lh.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{backgroundColor:"#1e293b",borderRadius:"12px",border:"2px solid ".concat(a.accent),maxWidth:"800px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 0 30px ".concat(a.accent,"40")},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"20px",borderBottom:"1px solid ".concat(a.accent,"40"),background:"linear-gradient(135deg, ".concat(a.primary,"20 0%, transparent 100%)")},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Lh.jsx)(Xf,{size:24,style:{color:a.accent}}),(0,Lh.jsx)("h2",{style:{margin:0,fontSize:"24px",fontWeight:"bold",color:"#f1f5f9"},children:"Community Supporters"})]}),(0,Lh.jsx)("button",{onClick:n,style:{background:"rgba(255, 255, 255, 0.1)",border:"1px solid rgba(255, 255, 255, 0.2)",borderRadius:"6px",padding:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.background="rgba(255, 255, 255, 0.1)"},children:(0,Lh.jsx)(Qh,{size:20,color:"#f1f5f9"})})]}),(0,Lh.jsxs)("div",{style:{padding:"20px",overflowY:"auto",flex:1},children:[l&&(0,Lh.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8",fontSize:"16px"},children:"Loading supporters..."}),u&&(0,Lh.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#f87171",fontSize:"16px"},children:u}),!l&&!u&&0===i.length&&(0,Lh.jsx)("div",{style:{textAlign:"center",padding:"40px",color:"#94a3b8",fontSize:"16px"},children:"No supporters yet. Be the first to support on Ko-Fi!"}),!l&&!u&&i.length>0&&(0,Lh.jsxs)(Lh.Fragment,{children:[(0,Lh.jsx)("p",{style:{color:"#cbd5e1",fontSize:"14px",marginBottom:"30px",textAlign:"center"},children:"Thank you to all our wonderful supporters who help keep this project running!"}),["Skull Admiral","Space Cadet"].map(e=>{const t=i.filter(t=>t.tier===e);if(0===t.length)return null;const n="Skull Admiral"===(o=e)?{name:"Skull Admiral",image:"Skull Admiral.jpg",icon:(0,Lh.jsx)($h,{size:16,style:{color:"#fbbf24"}}),color:"#fbbf24",borderColor:"#f59e0b"}:"Space Cadet"===o?{name:"Space Cadet",image:"Space Cadet.jpg",icon:(0,Lh.jsx)(Xf,{size:16,style:{color:"#3b82f6"}}),color:"#3b82f6",borderColor:"#2563eb"}:{name:"Supporter",image:null,icon:(0,Lh.jsx)(Xf,{size:16,style:{color:"#94a3b8"}}),color:"#94a3b8",borderColor:"#64748b"};var o;return(0,Lh.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginBottom:"20px",paddingBottom:"12px",borderBottom:"2px solid ".concat(n.borderColor,"40")},children:[n.image&&!h[e]?(0,Lh.jsx)("div",{style:{width:"96px",height:"96px",borderRadius:"12px",border:"3px solid ".concat(n.borderColor),background:"rgba(0, 0, 0, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,overflow:"hidden"},children:(0,Lh.jsx)("img",{src:"".concat("/helldrafters","/").concat(n.image),alt:n.name,style:{width:"100%",height:"100%",objectFit:"cover"},onError:()=>{f(t=>d(d({},t),{},{[e]:!0}))}})}):(0,Lh.jsx)("div",{style:{width:"96px",height:"96px",borderRadius:"12px",border:"3px solid ".concat(n.borderColor),background:"rgba(0, 0, 0, 0.4)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:r.cloneElement(n.icon,{size:48})}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("h3",{style:{margin:0,fontSize:"24px",fontWeight:"bold",color:n.color,textTransform:"uppercase",letterSpacing:"0.5px"},children:e}),(0,Lh.jsxs)("div",{style:{fontSize:"13px",color:"#94a3b8",marginTop:"4px"},children:[t.length," ",1===t.length?"supporter":"supporters"]})]})]}),(0,Lh.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:t.map(e=>(0,Lh.jsxs)("div",{style:{background:"rgba(15, 23, 42, 0.6)",border:"2px solid ".concat(n.borderColor,"20"),borderRadius:"8px",padding:"12px 16px",display:"flex",alignItems:"center",justifyContent:"space-between",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="rgba(15, 23, 42, 0.8)",e.currentTarget.style.borderColor="".concat(n.borderColor,"60")},onMouseLeave:e=>{e.currentTarget.style.background="rgba(15, 23, 42, 0.6)",e.currentTarget.style.borderColor="".concat(n.borderColor,"20")},children:[(0,Lh.jsx)("div",{style:{color:"#f1f5f9",fontSize:"16px",fontWeight:"bold"},children:e.displayName}),(0,Lh.jsxs)("div",{style:{color:n.color,fontSize:"14px",fontWeight:"bold"},children:[e.monthsSubscribed," ",1===e.monthsSubscribed?"month":"months"]})]},e.id))})]},e)})]})]}),(0,Lh.jsx)("div",{style:{padding:"16px 20px",borderTop:"1px solid ".concat(a.accent,"40"),background:"rgba(15, 23, 42, 0.4)",textAlign:"center"},children:(0,Lh.jsxs)("a",{href:"https://ko-fi.com/theinsomnolent",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"10px 20px",background:"#ff5e5b",color:"white",textDecoration:"none",borderRadius:"6px",fontWeight:"bold",fontSize:"14px",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#ff4542",e.currentTarget.style.transform="scale(1.05)"},onMouseLeave:e=>{e.currentTarget.style.background="#ff5e5b",e.currentTarget.style.transform="scale(1)"},children:[(0,Lh.jsx)(Xf,{size:18}),"Support on Ko-Fi"]})})]})})}const Jf=Ft("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),Zf=Ft("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function eg(e){let{gameConfig:t,onHost:n,onJoin:r,onBack:o}=e;const a=Ph(t.faction),{firebaseReady:i,error:s,clearError:l}=Ef();return i?(0,Lh.jsx)("div",{style:{minHeight:"100vh",background:Dh,color:"white",padding:"80px 24px"},children:(0,Lh.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[(0,Lh.jsxs)("div",{style:{textAlign:"center",marginBottom:"64px"},children:[(0,Lh.jsx)("h1",{style:{fontSize:"72px",fontWeight:"900",color:a.PRIMARY,margin:"0 0 8px 0",letterSpacing:"0.05em",textTransform:"uppercase",textShadow:a.GLOW},children:"MULTIPLAYER"}),(0,Lh.jsx)("div",{style:{background:jh,padding:"12px",margin:"0 auto",maxWidth:"400px"},children:(0,Lh.jsx)("p",{style:{fontSize:"16px",fontWeight:"bold",color:"white",textTransform:"uppercase",letterSpacing:"0.3em",margin:0},children:"Squad Up"})})]}),s&&(0,Lh.jsxs)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"4px",padding:"16px",marginBottom:"32px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Lh.jsx)("span",{style:{color:"#ef4444"},children:s}),(0,Lh.jsx)("button",{onClick:l,style:{color:"#ef4444",background:"none",border:"none",cursor:"pointer"},children:"\u2715"})]}),(0,Lh.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"32px",marginBottom:"48px"},children:[(0,Lh.jsxs)("button",{onClick:()=>{Eh("select_host"),n()},style:{backgroundColor:Ah.CARD_BG,border:"2px solid ".concat(Ah.CARD_BORDER),borderRadius:"8px",padding:"48px 32px",cursor:"pointer",transition:"all 0.2s",textAlign:"center"},onMouseEnter:e=>{e.currentTarget.style.borderColor=a.PRIMARY,e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow=a.SHADOW},onMouseLeave:e=>{e.currentTarget.style.borderColor=Ah.CARD_BORDER,e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Lh.jsx)($h,{size:64,style:{color:a.PRIMARY,marginBottom:"24px"}}),(0,Lh.jsx)("h2",{style:{fontSize:"28px",fontWeight:"900",color:a.PRIMARY,marginBottom:"12px",textTransform:"uppercase"},children:"HOST GAME"}),(0,Lh.jsx)("p",{style:{fontSize:"14px",color:Ah.TEXT_MUTED,margin:0},children:"Create a new lobby and invite your squad"})]}),(0,Lh.jsxs)("button",{onClick:()=>{Eh("select_join"),r()},style:{backgroundColor:Ah.CARD_BG,border:"2px solid ".concat(Ah.CARD_BORDER),borderRadius:"8px",padding:"48px 32px",cursor:"pointer",transition:"all 0.2s",textAlign:"center"},onMouseEnter:e=>{e.currentTarget.style.borderColor=Ah.ACCENT_BLUE,e.currentTarget.style.transform="translateY(-4px)",e.currentTarget.style.boxShadow=Mh.GLOW_BLUE},onMouseLeave:e=>{e.currentTarget.style.borderColor=Ah.CARD_BORDER,e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:[(0,Lh.jsx)(Wt,{size:64,style:{color:Ah.ACCENT_BLUE,marginBottom:"24px"}}),(0,Lh.jsx)("h2",{style:{fontSize:"28px",fontWeight:"900",color:Ah.ACCENT_BLUE,marginBottom:"12px",textTransform:"uppercase"},children:"JOIN GAME"}),(0,Lh.jsx)("p",{style:{fontSize:"14px",color:Ah.TEXT_MUTED,margin:0},children:"Enter a lobby code to join your squad"})]})]}),(0,Lh.jsx)("div",{style:{textAlign:"center"},children:(0,Lh.jsx)("button",{onClick:o,style:{padding:"16px 32px",backgroundColor:"transparent",color:Ah.TEXT_MUTED,border:"2px solid ".concat(Ah.CARD_BORDER),borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor=Ah.TEXT_DISABLED,e.currentTarget.style.color=Ah.TEXT_SECONDARY},onMouseLeave:e=>{e.currentTarget.style.borderColor=Ah.CARD_BORDER,e.currentTarget.style.color=Ah.TEXT_MUTED},children:"\u2190 BACK TO MENU"})})]})}):(0,Lh.jsx)("div",{style:{minHeight:"100vh",background:Dh,color:"white",padding:"80px 24px"},children:(0,Lh.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[(0,Lh.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:"#ef4444",marginBottom:"24px"},children:"MULTIPLAYER UNAVAILABLE"}),(0,Lh.jsx)("p",{style:{fontSize:"16px",color:Ah.TEXT_MUTED,marginBottom:"32px"},children:"Firebase is not configured. Please add your Firebase configuration to enable multiplayer features."}),(0,Lh.jsx)("p",{style:{fontSize:"14px",color:Ah.TEXT_DISABLED,marginBottom:"48px"},children:"See src/systems/multiplayer/firebaseConfig.js for setup instructions."}),(0,Lh.jsx)("button",{onClick:o,style:{padding:"16px 32px",backgroundColor:"transparent",color:Ah.TEXT_MUTED,border:"2px solid ".concat(Ah.CARD_BORDER),borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",cursor:"pointer"},children:"\u2190 BACK TO MENU"})]})})}function tg(e){let{gameConfig:t,onJoinLobby:n,onBack:o}=e;const a=Ph(t.faction),{checkLobbyExists:i,error:s,clearError:l}=Ef(),[c,d]=(0,r.useState)(""),[u,p]=(0,r.useState)(()=>{try{return localStorage.getItem("helldrafters_mp_name")||""}catch(e){return""}}),[h,f]=(0,r.useState)(!1),[g,m]=(0,r.useState)(null),[y,b]=(0,r.useState)(null),_=(0,r.useRef)("");(0,r.useEffect)(()=>{const e=c.trim();if(/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)&&e!==_.current&&!h){_.current=e;(async()=>{f(!0),l();const t=await i(e);if(m(t),f(!1),t&&!t.isLoadedGame){const e=t.players||{},n=Object.values(e).map(e=>e.slot);for(let t=0;t<4;t++)if(!n.includes(t)){b(t);break}}else b(null)})()}},[c,h,i,l]);const x=null===g||void 0===g?void 0:g.isLoadedGame,v=(()=>{if(!g)return[];const e=g.players||{},t=[];for(let n=0;n<4;n++){const r=Object.values(e).find(e=>e.slot===n);r&&!1!==r.connected||t.push(n)}return t})();return(0,Lh.jsx)("div",{style:{minHeight:"100vh",background:Dh,color:"white",padding:"80px 24px"},children:(0,Lh.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[(0,Lh.jsxs)("div",{style:{textAlign:"center",marginBottom:"48px"},children:[(0,Lh.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:Ah.ACCENT_BLUE,marginBottom:"8px",textTransform:"uppercase"},children:"JOIN GAME"}),(0,Lh.jsx)("p",{style:{fontSize:"16px",color:Ah.TEXT_MUTED},children:"Enter the lobby code shared by your host"})]}),s&&(0,Lh.jsx)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"4px",padding:"16px",marginBottom:"24px"},children:(0,Lh.jsx)("span",{style:{color:"#ef4444"},children:s})}),(0,Lh.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:Ah.TEXT_MUTED,textTransform:"uppercase",marginBottom:"8px"},children:"LOBBY CODE"}),(0,Lh.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,Lh.jsx)("input",{type:"text",value:c,onChange:e=>{d(e.target.value),m(null),b(null)},placeholder:"Enter lobby code (UUID)",style:{flex:1,padding:"16px",backgroundColor:Ah.BG_MAIN,border:"2px solid ".concat(Ah.CARD_BORDER),borderRadius:"4px",fontSize:"16px",color:"white",outline:"none"}}),(0,Lh.jsx)("button",{onClick:async()=>{if(!c.trim())return;f(!0),l();const e=await i(c.trim());if(m(e),f(!1),e&&!e.isLoadedGame){const t=e.players||{},n=Object.values(t).map(e=>e.slot);for(let e=0;e<4;e++)if(!n.includes(e)){b(e);break}}else b(null)},disabled:!c.trim()||h,style:{padding:"16px 24px",backgroundColor:Ah.ACCENT_BLUE,color:"white",border:"none",borderRadius:"4px",fontWeight:"bold",cursor:c.trim()&&!h?"pointer":"not-allowed",opacity:c.trim()&&!h?1:.5},children:h?(0,Lh.jsx)(Ht,{size:20,className:"spin"}):"CHECK"})]})]}),g&&(0,Lh.jsxs)("div",{style:{backgroundColor:Ah.CARD_BG,borderRadius:"8px",padding:"24px",marginBottom:"32px",border:"1px solid ".concat(Ah.CARD_BORDER)},children:[(0,Lh.jsx)("h3",{style:{color:a.PRIMARY,marginBottom:"16px",textTransform:"uppercase"},children:"LOBBY FOUND"}),(0,Lh.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"12px",color:Ah.TEXT_MUTED,marginBottom:"8px"},children:"PLAYERS IN LOBBY"}),(0,Lh.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:Object.values(g.players||{}).map(e=>(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",backgroundColor:Ah.BG_MAIN,borderRadius:"4px",border:"1px solid ".concat(e.isHost?a.PRIMARY:Ah.CARD_BORDER)},children:[e.isHost&&(0,Lh.jsx)($h,{size:14,style:{color:a.PRIMARY}}),(0,Lh.jsx)("span",{style:{color:e.connected?"white":Ah.TEXT_DISABLED},children:e.name}),(0,Lh.jsxs)("span",{style:{fontSize:"10px",color:Ah.TEXT_MUTED},children:["(Slot ",e.slot+1,")"]})]},e.id))})]}),(0,Lh.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:Ah.TEXT_MUTED,textTransform:"uppercase",marginBottom:"8px"},children:"YOUR NAME"}),(0,Lh.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),placeholder:"Enter your helldiver name",maxLength:30,style:{width:"100%",padding:"16px",backgroundColor:Ah.BG_MAIN,border:"2px solid ".concat(Ah.CARD_BORDER),borderRadius:"4px",fontSize:"16px",color:"white",outline:"none"}})]}),x&&(0,Lh.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:Ah.TEXT_MUTED,textTransform:"uppercase",marginBottom:"8px"},children:"SELECT YOUR SLOT"}),(0,Lh.jsx)("p",{style:{fontSize:"12px",color:Ah.TEXT_SECONDARY,marginBottom:"12px"},children:"This is a saved game. Select which helldiver slot you want to play as."}),0===v.length?(0,Lh.jsx)("p",{style:{color:"#ef4444"},children:"No slots available - lobby is full"}):(0,Lh.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"12px"},children:v.map(e=>{const t=(e=>null!==g&&void 0!==g&&g.players?Object.values(g.players).find(t=>t.slot===e&&!1===t.connected):null)(e);return(0,Lh.jsxs)("button",{onClick:()=>b(e),style:{padding:"16px 24px",backgroundColor:y===e?a.PRIMARY:Ah.BG_MAIN,color:y===e?"black":"white",border:"2px solid ".concat(y===e?a.PRIMARY:t?"#f59e0b":Ah.CARD_BORDER),borderRadius:"4px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[(0,Lh.jsxs)("span",{children:["Slot ",e+1]}),t&&(0,Lh.jsxs)("span",{style:{fontSize:"10px",color:y===e?"rgba(0,0,0,0.6)":"#f59e0b",fontWeight:"normal"},children:["(Rejoin as ",t.name,")"]})]},e)})})]}),!x&&null!==y&&(0,Lh.jsx)("div",{style:{marginBottom:"24px"},children:(0,Lh.jsx)("div",{style:{padding:"12px 16px",backgroundColor:"".concat(a.PRIMARY,"20"),border:"1px solid ".concat(a.PRIMARY,"40"),borderRadius:"4px"},children:(0,Lh.jsxs)("span",{style:{color:a.PRIMARY,fontWeight:"bold"},children:["You will join as Helldiver ",y+1]})})}),(0,Lh.jsx)("button",{onClick:()=>{if(u.trim()&&null!==y){try{localStorage.setItem("helldrafters_mp_name",u.trim())}catch(Em){}Eh("join_lobby"),n(c.trim(),u.trim(),y)}},disabled:!u.trim()||null===y,style:{width:"100%",padding:"16px",backgroundColor:u.trim()&&null!==y?Ah.ACCENT_BLUE:Ah.BG_MAIN,color:"white",border:"none",borderRadius:"4px",fontWeight:"900",fontSize:"16px",textTransform:"uppercase",cursor:u.trim()&&null!==y?"pointer":"not-allowed",opacity:u.trim()&&null!==y?1:.5},children:"JOIN LOBBY"})]}),c&&!h&&!g&&!s&&(0,Lh.jsx)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid #ef4444",borderRadius:"4px",padding:"24px",marginBottom:"32px",textAlign:"center"},children:(0,Lh.jsx)("p",{style:{color:"#ef4444",margin:0},children:"Lobby not found. Check the code and try again."})}),(0,Lh.jsx)("div",{style:{textAlign:"center"},children:(0,Lh.jsx)("button",{onClick:o,style:{padding:"16px 32px",backgroundColor:"transparent",color:Ah.TEXT_MUTED,border:"2px solid ".concat(Ah.CARD_BORDER),borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",cursor:"pointer"},children:"\u2190 BACK"})})]})})}function ng(e){let{gameConfig:t,eventsEnabled:n,onUpdateGameConfig:o,onSetSubfaction:a,onSetEventsEnabled:i,onStartGame:s,onLeave:l,isConfiguring:c=!1}=e;const d=Ph(t.faction),{isHost:u,lobbyId:p,lobbyData:h,playerSlot:f,disconnect:g,changeSlot:m,kickPlayerFromLobby:y}=Ef(),[b,_]=(0,r.useState)(!1),[x,v]=(0,r.useState)(!1),[S,C]=(0,r.useState)(!1),w=(null!==h&&void 0!==h&&h.players?Object.values(h.players):[]).filter(e=>!1!==e.connected),R=w.length>=1,E=w.map(e=>e.slot),T=[];for(let r=0;r<4;r++)E.includes(r)||T.push(r);return c?null:(0,Lh.jsx)("div",{style:{minHeight:"100vh",background:Dh,color:"white",padding:"80px 24px"},children:(0,Lh.jsxs)("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[(0,Lh.jsxs)("div",{style:{textAlign:"center",marginBottom:"48px"},children:[(0,Lh.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:d.PRIMARY,marginBottom:"8px",textTransform:"uppercase"},children:u?"HOSTING GAME":"WAITING FOR HOST"}),(0,Lh.jsx)("p",{style:{fontSize:"16px",color:Ah.TEXT_MUTED},children:u?"Share the lobby code with your squad":"Waiting for host to start the game..."})]}),(0,Lh.jsxs)("div",{style:{backgroundColor:Ah.CARD_BG,borderRadius:"8px",padding:"32px",marginBottom:"32px",textAlign:"center",border:"1px solid ".concat(Ah.CARD_BORDER)},children:[(0,Lh.jsxs)("div",{style:{fontSize:"12px",color:Ah.TEXT_MUTED,marginBottom:"8px",textTransform:"uppercase"},children:["LOBBY CODE ",!S&&"(hover to reveal)"]}),(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px",backgroundColor:Ah.BG_MAIN,padding:"16px 24px",borderRadius:"4px",border:"1px solid ".concat(Ah.CARD_BORDER),cursor:"pointer",transition:"all 0.2s"},onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),children:[(0,Lh.jsx)("code",{style:{fontSize:"18px",fontFamily:"monospace",color:S?d.PRIMARY:Ah.TEXT_DISABLED,letterSpacing:"0.05em",filter:S?"none":"blur(8px)",transition:"all 0.2s",userSelect:S?"text":"none"},children:p}),(0,Lh.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(p),_(!0),setTimeout(()=>_(!1),2e3)},style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:b?"#22c55e":"transparent",color:b?"white":Ah.TEXT_MUTED,border:"1px solid ".concat(b?"#22c55e":Ah.CARD_BORDER),borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},children:[b?(0,Lh.jsx)(Jf,{size:16}):(0,Lh.jsx)(Zf,{size:16}),b?"Copied!":"Copy"]})]}),(0,Lh.jsx)("p",{style:{fontSize:"11px",color:Ah.TEXT_DISABLED,marginTop:"8px",margin:"8px 0 0 0"},children:"Hidden for streaming - hover to reveal"})]}),(0,Lh.jsxs)("div",{style:{backgroundColor:Ah.CARD_BG,borderRadius:"8px",padding:"32px",marginBottom:"32px",border:"1px solid ".concat(Ah.CARD_BORDER)},children:[(0,Lh.jsxs)("h3",{style:{color:d.PRIMARY,marginBottom:"24px",textTransform:"uppercase"},children:["SQUAD (",w.length,"/",4,")"]}),(0,Lh.jsx)("div",{style:{display:"grid",gap:"12px"},children:Array.from({length:4},(e,t)=>{const n=w.find(e=>e.slot===t),r=n&&n.slot===f;return(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"16px 20px",backgroundColor:Ah.BG_MAIN,borderRadius:"4px",border:"2px solid ".concat(n?r?d.PRIMARY:Ah.CARD_BORDER:"rgba(100, 116, 139, 0.3)"),opacity:n?1:.5},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Lh.jsxs)("span",{style:{fontSize:"12px",fontWeight:"bold",color:Ah.TEXT_MUTED,minWidth:"60px"},children:["SLOT ",t+1]}),n?(0,Lh.jsxs)(Lh.Fragment,{children:[(0,Lh.jsx)("span",{style:{fontWeight:"bold",color:"white"},children:n.name}),n.isHost&&(0,Lh.jsx)($h,{size:16,style:{color:d.PRIMARY}}),r&&(0,Lh.jsx)("span",{style:{fontSize:"10px",padding:"2px 8px",backgroundColor:"".concat(d.PRIMARY,"30"),color:d.PRIMARY,borderRadius:"4px"},children:"YOU"})]}):(0,Lh.jsx)("span",{style:{color:Ah.TEXT_DISABLED,fontStyle:"italic"},children:"Waiting for player..."})]}),(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[n&&(n.connected?(0,Lh.jsx)(Gh,{size:16,style:{color:"#22c55e"}}):(0,Lh.jsx)(qh,{size:16,style:{color:"#ef4444"}})),u&&n&&!n.isHost&&!n.connected&&(0,Lh.jsx)("button",{onClick:()=>(async e=>{window.confirm("Are you sure you want to kick this player? They can rejoin with the lobby code.")&&await y(e)})(n.id),style:{padding:"4px 12px",backgroundColor:"transparent",color:"#ef4444",border:"1px solid #7f1d1d",borderRadius:"4px",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.1)",e.currentTarget.style.borderColor="#ef4444"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.borderColor="#7f1d1d"},title:"Kick this player to free up their slot for rejoining",children:"Kick"}),!n&&!u&&(0,Lh.jsx)("button",{onClick:()=>(async e=>{v(!0),await m(e),v(!1)})(t),disabled:x,style:{padding:"4px 12px",backgroundColor:"transparent",color:Ah.ACCENT_BLUE,border:"1px solid ".concat(Ah.ACCENT_BLUE),borderRadius:"4px",fontSize:"12px",cursor:"pointer"},children:"Switch Here"})]})]},t)})})]}),u&&(0,Lh.jsxs)("div",{style:{backgroundColor:Ah.CARD_BG,borderRadius:"8px",padding:"32px",marginBottom:"32px",border:"1px solid ".concat(Ah.CARD_BORDER)},children:[(0,Lh.jsx)("h3",{style:{color:d.PRIMARY,marginBottom:"24px",textTransform:"uppercase"},children:"GAME CONFIGURATION"}),(0,Lh.jsx)(Lf,{gameConfig:t,eventsEnabled:n,onUpdateGameConfig:o,onSetSubfaction:a,onSetEventsEnabled:i,factionColors:d})]}),(0,Lh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:"16px"},children:[(0,Lh.jsx)("button",{onClick:async()=>{Eh("leave_lobby",w.length),await g(),l()},style:{padding:"16px 32px",backgroundColor:"transparent",color:"#ef4444",border:"2px solid #7f1d1d",borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",cursor:"pointer"},children:u?"CLOSE LOBBY":"LEAVE LOBBY"}),u&&(0,Lh.jsx)("button",{onClick:()=>{Eh("start_game",w.length),s(w.length)},disabled:!R,style:{padding:"16px 32px",backgroundColor:R?d.PRIMARY:Ah.BG_MAIN,color:R?"black":Ah.TEXT_DISABLED,border:"none",borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",cursor:R?"pointer":"not-allowed",opacity:R?1:.5},children:R?"START WITH ".concat(w.length," PLAYER").concat(w.length>1?"S":""," \u2192"):"WAITING FOR HOST..."})]})]})})}function rg(e){let{gameConfig:t,onDisconnect:n}=e;const{isHost:o,lobbyId:a,connectedPlayers:i,playerSlot:s,kickPlayerFromLobby:l}=Ef(),[c,d]=(0,r.useState)(!1),[u,p]=(0,r.useState)(!1),h=Ph((null===t||void 0===t?void 0:t.faction)||"terminid"),f=a?"".concat(a.substring(0,8),"..."):"",g=(i||[]).filter(e=>!1!==e.connected).length,m=(null===t||void 0===t?void 0:t.playerCount)||4;return(0,Lh.jsxs)("div",{style:{backgroundColor:"rgba(15, 23, 42, 0.95)",borderBottom:"2px solid ".concat(o?h.PRIMARY:Ah.ACCENT_BLUE),padding:"8px 16px",display:"flex",alignItems:"center",justifyContent:"space-between",gap:"16px",position:"sticky",top:0,zIndex:1e3},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Lh.jsx)(Gh,{size:16,style:{color:"#22c55e"}}),(0,Lh.jsx)("span",{style:{fontSize:"11px",fontWeight:"900",color:o?h.PRIMARY:Ah.ACCENT_BLUE,textTransform:"uppercase",letterSpacing:"0.1em"},children:o?"\ud83d\udc51 HOST":"PLAYER ".concat(s+1)})]}),(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[(0,Lh.jsx)("span",{style:{fontSize:"11px",color:Ah.TEXT_DISABLED,textTransform:"uppercase"},children:"Lobby:"}),(0,Lh.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(a),d(!0),setTimeout(()=>d(!1),2e3)},style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 8px",backgroundColor:"rgba(100, 116, 139, 0.2)",border:"1px solid rgba(100, 116, 139, 0.3)",borderRadius:"4px",cursor:"pointer",transition:"all 0.2s"},title:u?"Copy full lobby code: ".concat(a):"Hover to reveal lobby code",children:[(0,Lh.jsx)("code",{style:{fontSize:"11px",color:u?Ah.TEXT_SECONDARY:Ah.TEXT_DISABLED,fontFamily:"monospace",filter:u?"none":"blur(4px)",transition:"filter 0.2s",userSelect:u?"text":"none"},children:f}),c?(0,Lh.jsx)(Jf,{size:12,style:{color:"#22c55e"}}):(0,Lh.jsx)(Zf,{size:12,style:{color:Ah.TEXT_DISABLED}})]})]}),(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,Lh.jsx)(Wt,{size:14,style:{color:Ah.TEXT_MUTED}}),(0,Lh.jsxs)("span",{style:{fontSize:"12px",color:Ah.TEXT_SECONDARY},children:[g,"/",m]})]})]}),(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[(0,Lh.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:Object.values(i||{}).map((e,t)=>{var n,r;return(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"11px",padding:"2px 8px",backgroundColor:!1===e.connected?"rgba(239, 68, 68, 0.2)":e.isHost?"".concat(h.PRIMARY,"20"):"rgba(59, 130, 246, 0.2)",color:!1===e.connected?"#ef4444":e.isHost?h.PRIMARY:Ah.ACCENT_BLUE,borderRadius:"4px",fontWeight:e.id===(null===i||void 0===i||null===(n=i.self)||void 0===n?void 0:n.id)?"900":"600",opacity:!1===e.connected?.7:1},children:[e.isHost&&(0,Lh.jsx)($h,{size:10,style:{marginRight:"2px",verticalAlign:"middle"}}),!1===e.connected&&(0,Lh.jsx)(qh,{size:10,style:{marginRight:"2px",verticalAlign:"middle"}}),(0,Lh.jsx)("span",{children:e.name||"Player ".concat((null!==(r=e.slot)&&void 0!==r?r:0)+1)}),o&&!e.isHost&&(0,Lh.jsx)("button",{onClick:t=>{t.stopPropagation(),window.confirm("Kick ".concat(e.name||"this player","? They can rejoin with the lobby code."))&&l(e.id)},style:{marginLeft:"4px",padding:"0 4px",backgroundColor:"transparent",color:"#ef4444",border:"none",borderRadius:"2px",fontSize:"10px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",opacity:.6,transition:"opacity 0.2s"},onMouseEnter:e=>e.currentTarget.style.opacity="1",onMouseLeave:e=>e.currentTarget.style.opacity="0.6",title:"Kick ".concat(e.name||"player"),children:"\u2715"})]},e.id||t)})}),(0,Lh.jsxs)("button",{onClick:n,style:{display:"flex",alignItems:"center",gap:"4px",padding:"4px 12px",backgroundColor:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",color:"#ef4444",fontSize:"10px",fontWeight:"900",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.2)",e.currentTarget.style.borderColor="#ef4444"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.1)",e.currentTarget.style.borderColor="rgba(239, 68, 68, 0.3)"},children:[(0,Lh.jsx)(qh,{size:12}),o?"END SESSION":"DISCONNECT"]})]})]})}const og="SET_PHASE",ag="UPDATE_GAME_CONFIG",ig="SET_DIFFICULTY",sg="SET_REQUISITION",lg="ADD_REQUISITION",cg="SPEND_REQUISITION",dg="SET_SUBFACTION",ug="LOCK_PLAYER_DRAFT_SLOT",pg="UNLOCK_PLAYER_DRAFT_SLOT",hg="ADD_SAMPLES",fg="RESET_SAMPLES",gg="SET_PLAYERS",mg="SET_PLAYER_EXTRACTED",yg="SET_DRAFT_STATE",bg="UPDATE_DRAFT_STATE",_g="DRAFT_PICK",xg="STRATAGEM_REPLACEMENT",vg="ADD_DRAFT_HISTORY",Sg="START_RETROSPECTIVE_DRAFT",Cg="SET_SACRIFICE_STATE",wg="UPDATE_SACRIFICE_STATE",Rg="SET_CURRENT_EVENT",Eg="SET_EVENT_PLAYER_CHOICE",Tg="SET_EVENT_SELECTED_CHOICE",kg="SET_EVENTS_ENABLED",Ag="ADD_SEEN_EVENT",Ig="RESET_SEEN_EVENTS",Pg="SET_EVENT_SOURCE_PLAYER_SELECTION",Mg="SET_EVENT_STRATAGEM_SELECTION",jg="SET_EVENT_TARGET_PLAYER_SELECTION",Dg="SET_EVENT_TARGET_STRATAGEM_SELECTION",Og="SET_EVENT_BOOSTER_DRAFT",Ng="SET_EVENT_BOOSTER_SELECTION",Lg="SET_EVENT_SPECIAL_DRAFT",zg="SET_EVENT_SPECIAL_DRAFT_TYPE",Bg="SET_EVENT_SPECIAL_DRAFT_SELECTIONS",Fg="SET_EVENT_SPECIAL_DRAFT_SELECTION",Wg="SET_PENDING_FACTION",Ug="SET_PENDING_SUBFACTION_SELECTION",Hg="RESET_EVENT_SELECTIONS",Yg="SET_CUSTOM_SETUP",Gg="UPDATE_CUSTOM_SETUP",qg="ADD_BURNED_CARD",Vg="SET_BURNED_CARDS",Kg="SET_CURRENT_MISSION",$g="LOAD_GAME_STATE",Xg=e=>({type:og,payload:e}),Qg=e=>({type:ag,payload:e}),Jg=e=>({type:ig,payload:e}),Zg=e=>({type:sg,payload:e}),em=e=>({type:lg,payload:e}),tm=e=>({type:cg,payload:e}),nm=e=>({type:dg,payload:e}),rm=()=>({type:Hg}),om=e=>({type:gg,payload:e}),am=(e,t)=>({type:mg,payload:{playerIndex:e,extracted:t}}),im=e=>({type:Cg,payload:e}),sm=e=>({type:wg,payload:e}),lm=e=>({type:yg,payload:e}),cm=e=>({type:bg,payload:e}),dm=e=>({type:Rg,payload:e}),um=e=>({type:Eg,payload:e}),pm=e=>({type:kg,payload:e}),hm=e=>({type:Ag,payload:e}),fm=e=>({type:Gg,payload:e}),gm=e=>({type:qg,payload:e}),mm=e=>({type:Vg,payload:e}),ym=e=>({type:Kg,payload:e}),bm=e=>({type:$g,payload:e}),_m={phase:"MENU",gameConfig:{playerCount:1,faction:En.BUGS,subfaction:(0,br.getDefaultSubfaction)(En.BUGS),starRating:3,globalUniqueness:!0,burnCards:!0,customStart:!1,endlessMode:!1,enduranceMode:!1,debugEventsMode:(()=>{if("undefined"===typeof window)return!1;return"true"===new URLSearchParams(window.location.search).get("debug")})(),debugRarityWeights:!1,brutalityMode:!1},currentDiff:1,currentMission:1,requisition:0,samples:{common:0,rare:0,superRare:0},players:[],draftState:{activePlayerIndex:0,roundCards:[],isRerolling:!1,pendingStratagem:null,extraDraftRound:0,draftOrder:[],isRetrospective:!1,retrospectivePlayerIndex:null},draftHistory:[],sacrificeState:{activePlayerIndex:0,sacrificesRequired:[]},burnedCards:[],customSetup:{difficulty:1,loadouts:[]},selectedPlayer:0,eventsEnabled:!0,currentEvent:null,eventPlayerChoice:null,eventSelectedChoice:null,eventSourcePlayerSelection:null,eventStratagemSelection:null,eventTargetPlayerSelection:null,eventTargetStratagemSelection:null,eventBoosterDraft:null,eventBoosterSelection:null,eventSpecialDraft:null,eventSpecialDraftType:null,eventSpecialDraftSelections:null,pendingFaction:null,pendingSubfactionSelection:null,seenEvents:[],settingsOpen:!1,disabledWarbonds:[]};function xm(e,t){var n;switch(t.type){case og:return d(d({},e),{},{phase:t.payload,seenEvents:"MENU"===t.payload?[]:e.seenEvents});case ag:return d(d({},e),{},{gameConfig:d(d({},e.gameConfig),t.payload)});case"SET_GAME_CONFIG":return d(d({},e),{},{gameConfig:t.payload});case ig:return d(d({},e),{},{currentDiff:t.payload});case Kg:return d(d({},e),{},{currentMission:t.payload});case sg:return d(d({},e),{},{requisition:t.payload});case lg:return d(d({},e),{},{requisition:e.requisition+t.payload});case cg:return d(d({},e),{},{requisition:Math.max(0,e.requisition-t.payload)});case dg:return d(d({},e),{},{gameConfig:d(d({},e.gameConfig),{},{subfaction:t.payload})});case ug:return d(d({},e),{},{players:e.players.map(e=>e.id===t.payload.playerId?d(d({},e),{},{lockedSlots:e.lockedSlots&&e.lockedSlots.includes(t.payload.slotType)?e.lockedSlots:[...e.lockedSlots||[],t.payload.slotType]}):e)});case pg:return d(d({},e),{},{players:e.players.map(e=>e.id===t.payload.playerId?d(d({},e),{},{lockedSlots:(e.lockedSlots||[]).filter(e=>e!==t.payload.slotType)}):e)});case hg:return d(d({},e),{},{samples:{common:e.samples.common+(t.payload.common||0),rare:e.samples.rare+(t.payload.rare||0),superRare:e.samples.superRare+(t.payload.superRare||0)}});case fg:return d(d({},e),{},{samples:{common:0,rare:0,superRare:0}});case"SET_SAMPLES":return d(d({},e),{},{samples:t.payload});case gg:return d(d({},e),{},{players:t.payload});case"UPDATE_PLAYER":return d(d({},e),{},{players:e.players.map((e,n)=>n===t.payload.index?d(d({},e),t.payload.updates):e)});case"UPDATE_PLAYER_LOADOUT":return d(d({},e),{},{players:e.players.map((e,n)=>n===t.payload.index?d(d({},e),{},{loadout:d(d({},e.loadout),t.payload.loadout)}):e)});case"ADD_ITEM_TO_PLAYER":return d(d({},e),{},{players:e.players.map((e,n)=>n===t.payload.playerIndex?d(d({},e),{},{inventory:[...e.inventory,t.payload.itemId]}):e)});case"ADD_ARMOR_COMBO_TO_PLAYER":return d(d({},e),{},{players:e.players.map((e,n)=>n===t.payload.playerIndex?d(d({},e),{},{inventory:[...e.inventory,...t.payload.armorCombo.items.map(e=>e.id)]}):e)});case"SET_PLAYER_WARBONDS":return d(d({},e),{},{players:e.players.map((e,n)=>n===t.payload.playerIndex?d(d({},e),{},{warbonds:t.payload.warbonds}):e)});case"SET_PLAYER_SUPERSTORE":return d(d({},e),{},{players:e.players.map((e,n)=>n===t.payload.playerIndex?d(d({},e),{},{includeSuperstore:t.payload.includeSuperstore}):e)});case"SET_PLAYER_EXCLUDED_ITEMS":return d(d({},e),{},{players:e.players.map((e,n)=>n===t.payload.playerIndex?d(d({},e),{},{excludedItems:t.payload.excludedItems}):e)});case mg:return d(d({},e),{},{players:e.players.map((e,n)=>n===t.payload.playerIndex?d(d({},e),{},{extracted:t.payload.extracted}):e)});case"SACRIFICE_ITEM":return d(d({},e),{},{players:e.players.map((e,n)=>{if(n!==t.payload.playerIndex)return e;const r=t.payload.itemId;let o=e.inventory.filter(e=>e!==r);const a=d(d({},e.loadout),{},{stratagems:[...e.loadout.stratagems]});a.primary===r&&(a.primary=null),a.secondary===r&&(a.secondary="s_peacemaker",o.includes("s_peacemaker")||o.push("s_peacemaker")),a.grenade===r&&(a.grenade="g_he",o.includes("g_he")||o.push("g_he")),a.armor===r&&(a.armor="a_b01",o.includes("a_b01")||o.push("a_b01")),a.booster===r&&(a.booster=null);for(let t=0;t<a.stratagems.length;t++)a.stratagems[t]===r&&(a.stratagems[t]=null);return d(d({},e),{},{inventory:o,loadout:a})})});case Cg:return d(d({},e),{},{sacrificeState:t.payload});case wg:return d(d({},e),{},{sacrificeState:d(d({},e.sacrificeState),t.payload)});case yg:return d(d({},e),{},{draftState:t.payload});case bg:return d(d({},e),{},{draftState:d(d({},e.draftState),t.payload)});case"SET_DRAFT_CARDS":return d(d({},e),{},{draftState:d(d({},e.draftState),{},{roundCards:t.payload})});case"SET_ACTIVE_PLAYER_INDEX":return d(d({},e),{},{draftState:d(d({},e.draftState),{},{activePlayerIndex:t.payload})});case"SET_PENDING_STRATAGEM":return d(d({},e),{},{draftState:d(d({},e.draftState),{},{pendingStratagem:t.payload})});case vg:return d(d({},e),{},{draftHistory:[...e.draftHistory,{difficulty:t.payload.difficulty,starRating:t.payload.starRating}]});case Sg:return d(d({},e),{},{draftState:d(d({},e.draftState),{},{isRetrospective:!0,retrospectivePlayerIndex:t.payload})});case Rg:return d(d({},e),{},{currentEvent:t.payload,eventPlayerChoice:null,eventSelectedChoice:null,eventSourcePlayerSelection:null,eventStratagemSelection:null,eventTargetPlayerSelection:null,eventTargetStratagemSelection:null,eventBoosterDraft:null,eventBoosterSelection:null,eventSpecialDraft:null,eventSpecialDraftType:null,eventSpecialDraftSelections:null,pendingFaction:null,pendingSubfactionSelection:null});case Eg:return d(d({},e),{},{eventPlayerChoice:t.payload});case Tg:return d(d({},e),{},{eventSelectedChoice:t.payload});case kg:return d(d({},e),{},{eventsEnabled:t.payload});case Ag:return d(d({},e),{},{seenEvents:[...e.seenEvents,t.payload]});case Ig:return d(d({},e),{},{seenEvents:[]});case Pg:return d(d({},e),{},{eventSourcePlayerSelection:t.payload});case Mg:return d(d({},e),{},{eventStratagemSelection:t.payload});case jg:return d(d({},e),{},{eventTargetPlayerSelection:t.payload});case Dg:return d(d({},e),{},{eventTargetStratagemSelection:t.payload});case Og:return d(d({},e),{},{eventBoosterDraft:t.payload});case Ng:return d(d({},e),{},{eventBoosterSelection:t.payload});case Lg:return d(d({},e),{},{eventSpecialDraft:t.payload});case zg:return d(d({},e),{},{eventSpecialDraftType:t.payload});case Bg:return d(d({},e),{},{eventSpecialDraftSelections:t.payload});case Fg:const o=(null===(n=e.players)||void 0===n?void 0:n.length)||0,a=Array.isArray(e.eventSpecialDraftSelections)?e.eventSpecialDraftSelections:new Array(o).fill(null),i=a.slice(0,o).concat(new Array(Math.max(0,o-a.length)).fill(null));return d(d({},e),{},{eventSpecialDraftSelections:i.map((e,n)=>n===t.payload.playerIndex?t.payload.itemId:e)});case Wg:return d(d({},e),{},{pendingFaction:t.payload});case Ug:return d(d({},e),{},{pendingSubfactionSelection:t.payload});case Hg:return d(d({},e),{},{eventPlayerChoice:null,eventSelectedChoice:null,eventSourcePlayerSelection:null,eventStratagemSelection:null,eventTargetPlayerSelection:null,eventTargetStratagemSelection:null,eventBoosterDraft:null,eventBoosterSelection:null,eventSpecialDraft:null,eventSpecialDraftType:null,eventSpecialDraftSelections:null,pendingFaction:null,pendingSubfactionSelection:null});case Yg:return d(d({},e),{},{customSetup:t.payload});case Gg:return d(d({},e),{},{customSetup:d(d({},e.customSetup),t.payload)});case"SET_SELECTED_PLAYER":return d(d({},e),{},{selectedPlayer:t.payload});case qg:return d(d({},e),{},{burnedCards:[...e.burnedCards,t.payload]});case Vg:return d(d({},e),{},{burnedCards:t.payload});case $g:{var r;const n=e=>{if(!e)return[null,null,null,null];if(Array.isArray(e)){const t=[null,null,null,null];for(let n=0;n<4;n++)t[n]=e[n]||null;return t}if("object"===typeof e){const t=[null,null,null,null];for(let n=0;n<4;n++)t[n]=e[n]||e[String(n)]||null;return t}return[null,null,null,null]};return d(d(d({},e),t.payload),{},{samples:t.payload.samples||{common:0,rare:0,superRare:0},seenEvents:t.payload.seenEvents||[],eventSpecialDraftSelections:null!==(r=t.payload.eventSpecialDraftSelections)&&void 0!==r?r:null,currentMission:t.payload.currentMission||1,draftHistory:t.payload.draftHistory||[],players:(t.payload.players||[]).map(e=>d(d({},e),{},{weaponRestricted:e.weaponRestricted||!1,loadout:e.loadout?d(d({},e.loadout),{},{stratagems:n(e.loadout.stratagems)}):e.loadout}))})}case"RESET_GAME":return d({},_m);default:return e}}const vm=e=>{let{rarity:t}=e;const n={[vn]:"#64748b",[Sn]:"#3b82f6",[Cn]:"#a855f7",[wn]:"#f59e0b"}[t]||"#64748b";return(0,Lh.jsx)("div",{style:{fontSize:"10px",fontWeight:"bold",color:"white",backgroundColor:n,padding:"4px 8px",borderRadius:"4px",textTransform:"uppercase",letterSpacing:"0.5px"},children:t})},Sm=e=>{let{item:t}=e;const n=Ph("terminid");if(!t||!t.name)return null;const r=t,o=t.name;let a=null,i=null;if((null===t||void 0===t?void 0:t.type)===Rn.ARMOR&&(i=t.passive,i)){a=lr[i]||"Passive effect details unavailable."}const s=r.warbond,l=r.superstore,c=s?nf(s):null,d=l?"Superstore":(null===c||void 0===c?void 0:c.name)||"Unknown",u=r.tags||[],p=t.armorClass?t.armorClass.slice(0,1).toUpperCase()+t.armorClass.slice(1):null;p&&!u.includes(p)&&u.push(p);const h=Er(r);return(0,Lh.jsxs)("div",{style:{position:"relative",backgroundColor:"#283548",border:"2px solid rgba(100, 116, 139, 0.5)",padding:"16px",borderRadius:"8px",display:"flex",flexDirection:"column",minHeight:"280px",width:"280px",flexShrink:0},children:[(0,Lh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,Lh.jsx)(vm,{rarity:r.rarity}),(0,Lh.jsx)("div",{style:{color:n.PRIMARY,fontSize:"12px",fontFamily:"monospace"},children:r.type})]}),h&&(0,Lh.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"12px",height:"80px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",padding:"8px"},children:(0,Lh.jsx)("img",{src:h,alt:o,style:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain"},onError:e=>{e.target.style.display="none"}})}),(0,Lh.jsx)("h3",{style:{color:"white",fontWeight:"bold",fontSize:"18px",lineHeight:"1.2",marginBottom:"4px",wordBreak:"break-word"},children:o}),(0,Lh.jsx)("div",{style:{fontSize:"10px",color:l?"#c084fc":"#60a5fa",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:d}),(0,Lh.jsxs)("div",{style:{flexGrow:1},children:[(0,Lh.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:u.map((e,t)=>(0,Lh.jsx)("span",{style:{fontSize:"10px",backgroundColor:"rgba(51, 65, 85, 0.5)",color:"#cbd5e1",padding:"2px 4px",borderRadius:"2px",border:"1px solid rgba(71, 85, 105, 0.5)"},children:e},"".concat(e,"-").concat(t)))}),a&&(0,Lh.jsxs)("div",{style:{marginTop:"10px"},children:[(0,Lh.jsxs)("div",{style:{color:"#94a3b8",fontSize:"9px",textTransform:"uppercase",letterSpacing:"1px"},children:["Armor Passive - ",i]}),(0,Lh.jsx)("div",{style:{color:"#cbd5e1",fontSize:"11px",lineHeight:"1.4",marginTop:"4px"},children:a})]})]}),(0,Lh.jsx)("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid rgba(71, 85, 105, 0.5)"},children:(0,Lh.jsxs)("div",{style:{color:"#94a3b8",fontSize:"9px",textTransform:"uppercase",letterSpacing:"1px"},children:["Item ID: ",t.id]})})]})};function Cm(){const e=Ph("terminid"),t=dr.reduce((e,t)=>{const n=t.superstore?"superstore":t.warbond||"unknown";return e[n]||(e[n]=[]),e[n].push(t),e},{}),n=Object.keys(t).sort();return(0,Lh.jsxs)("div",{style:{minHeight:"100vh",backgroundColor:"#0f172a",color:"white",padding:"20px"},children:[(0,Lh.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px",padding:"20px",backgroundColor:"#1e293b",borderRadius:"8px",border:"2px solid ".concat(e.PRIMARY)},children:[(0,Lh.jsx)("h1",{style:{fontSize:"36px",fontWeight:"bold",color:e.PRIMARY,marginBottom:"10px",textTransform:"uppercase",letterSpacing:"2px"},children:"Card Library"}),(0,Lh.jsx)("p",{style:{fontSize:"14px",color:"#94a3b8",marginBottom:"10px"},children:"Development Route - All Items from All Warbonds"}),(0,Lh.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"20px",fontSize:"12px",color:"#cbd5e1"},children:[(0,Lh.jsxs)("div",{children:["Total Items: ",(0,Lh.jsx)("strong",{children:dr.length})]}),(0,Lh.jsxs)("div",{children:["Warbonds: ",(0,Lh.jsx)("strong",{children:n.length})]})]})]}),n.map(e=>{const n=t[e],r="superstore"===e?{name:"Superstore"}:nf(e),o=(null===r||void 0===r?void 0:r.name)||e;return(0,Lh.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Lh.jsxs)("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"superstore"===e?"#c084fc":"#60a5fa",marginBottom:"20px",textTransform:"uppercase",letterSpacing:"1px",paddingBottom:"10px",borderBottom:"2px solid rgba(100, 116, 139, 0.3)"},children:[o," (",n.length," items)"]}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px"},children:n.map(e=>(0,Lh.jsx)(Sm,{item:e},e.id))})]},e)}),(0,Lh.jsx)("div",{style:{textAlign:"center",marginTop:"40px",paddingTop:"20px",borderTop:"1px solid rgba(100, 116, 139, 0.3)"},children:(0,Lh.jsx)(Tt,{to:"/",style:{color:e.PRIMARY,textDecoration:"none",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:"\u2190 Back to Game"})})]})}function wm(){const[e,t]=(0,r.useReducer)(xm,_m),o=Ef(),{isMultiplayer:a,isHost:i,hostGame:s,joinGame:l,startMultiplayerGame:c,syncState:u,disconnect:p,setDispatch:h,hostDisconnected:f,clearHostDisconnected:g,wasKicked:m,clearWasKicked:y,clientDisconnected:b,clearClientDisconnected:_,playerSlot:x,sendAction:v,setActionHandler:S,lobbyData:C,firebaseReady:w}=o;(0,r.useEffect)(()=>{h(t)},[t,h]),(0,r.useEffect)(()=>{f&&!i?(m||(t(Xg("MENU")),ne(null)),g()):f&&i&&g()},[f,i,m,g]),(0,r.useEffect)(()=>{b&&(m||(t(Xg("MENU")),ne(null)),_())},[b,m,_]),(0,r.useEffect)(()=>{m&&(t(Xg("KICKED")),ne(null))},[m]);const{phase:R,gameConfig:E,currentDiff:T,currentMission:k,requisition:A,burnedCards:I,customSetup:P,players:M,draftState:j,draftHistory:D,sacrificeState:O,eventsEnabled:N,currentEvent:L,eventPlayerChoice:z,eventSourcePlayerSelection:B,eventStratagemSelection:F,eventTargetPlayerSelection:W,eventTargetStratagemSelection:U,eventBoosterDraft:H,eventBoosterSelection:Y,eventSpecialDraft:G,eventSpecialDraftType:q,eventSpecialDraftSelections:V,eventSelectedChoice:K,pendingFaction:$,pendingSubfactionSelection:X,seenEvents:Q}=e,J=Ph(E.faction),[Z,ee]=r.useState(0),[te,ne]=r.useState(null),[re,oe]=r.useState(!1),[ae,ie]=r.useState(!1),[se,le]=r.useState(!1),[ce,de]=r.useState(!1),[ue,pe]=r.useState(!1),[he,fe]=r.useState(null),[ge,me]=r.useState(!1),[ye,be]=r.useState(null),_e=r.useRef(null);(0,r.useEffect)(()=>{Ch("page_view",{page_title:"Helldrafters Main Menu",page_location:window.location.href,page_path:window.location.pathname})},[]),(0,r.useEffect)(()=>{a&&i&&"MENU"!==R&&u(e)},[a,i,e,R,u]),(0,r.useEffect)(()=>{if(!a||!i||null===C||void 0===C||!C.players)return;if("MENU"===R||"LOBBY"===R||!M||0===M.length)return;if("DRAFT"===R)return;const e=Object.values(C.players).filter(e=>!1!==e.connected).filter(e=>!M.find(t=>t.id===e.slot+1));if(e.length>0){const n=[...M];if(e.forEach(e=>{const t={id:e.slot+1,name:e.name||"Helldiver ".concat(e.slot+1),loadout:{primary:ur.primary,secondary:ur.secondary,grenade:ur.grenade,armor:ur.armor,booster:ur.booster,stratagems:[...ur.stratagems]},inventory:Object.values(ur).flat().filter(e=>null!==e),warbonds:[],includeSuperstore:!1,excludedItems:[],weaponRestricted:!1,lockedSlots:[],extracted:!0,needsRetrospectiveDraft:D.length>0};n.push(t)}),n.sort((e,t)=>e.id-t.id),t(om(n)),t(Qg({playerCount:n.length})),D.length>0&&"DASHBOARD"===R){const e=n.findIndex(e=>e.needsRetrospectiveDraft);if(-1!==e){const r=n[e],o=D[0],a=_r(o.starRating),i=r.lockedSlots||[],s=vr(r,o.difficulty,E,I,n,e=>t(gm(e)),a,i),l=[...n];l[e]=d(d({},r),{},{retrospectiveDraftsCompleted:0}),t(om(l)),t({type:Sg,payload:e}),t(lm({activePlayerIndex:e,roundCards:s,isRerolling:!1,pendingStratagem:null,extraDraftRound:0,draftOrder:[e],isRetrospective:!0,retrospectivePlayerIndex:e})),t(Xg("DRAFT"))}}}},[a,i,C,R,M,t,D,I,E]),(0,r.useEffect)(()=>{if("MENU"!==R)try{localStorage.setItem("helldraftersGameState",JSON.stringify(e))}catch(Xs){console.error("Failed to save game state:",Xs)}else localStorage.removeItem("helldraftersGameState")},[e,R]),(0,r.useEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[R]);const xe=()=>{Ur(e)},ve=async e=>{var n;const r=null===(n=e.target.files)||void 0===n?void 0:n[0];if(r){try{var o;const e=await(e=>new Promise((t,n)=>{const r=new FileReader;r.onload=e=>{try{var r;const o=JSON.parse(null===(r=e.target)||void 0===r?void 0:r.result),a=(e=>e?e.phase?e.gameConfig?e.players?{valid:!0,error:null}:{valid:!1,error:"Save state missing players"}:{valid:!1,error:"Save state missing gameConfig"}:{valid:!1,error:"Save state missing phase"}:{valid:!1,error:"Save state is null or undefined"})(o);if(!a.valid)return void n(new Error(a.error));t(o)}catch(Xs){n(new Error("Failed to parse save file. File may be corrupted."))}},r.onerror=()=>{n(new Error("Failed to read file"))},r.readAsText(e)}))(r),n=(e=>({phase:e.phase,gameConfig:e.gameConfig,currentDiff:e.currentDiff||1,requisition:e.requisition||0,samples:e.samples||{common:0,rare:0,superRare:0},burnedCards:e.burnedCards||[],players:e.players||[],draftState:e.draftState||{activePlayerIndex:0,roundCards:[],isRerolling:!1,pendingStratagem:null,draftOrder:[]},eventsEnabled:void 0===e.eventsEnabled||e.eventsEnabled,currentEvent:e.currentEvent||null,eventPlayerChoice:e.eventPlayerChoice||null,seenEvents:e.seenEvents||[],customSetup:e.customSetup||{difficulty:1,loadouts:[]},selectedPlayer:e.selectedPlayer||0}))(e),a=(null===(o=n.gameConfig)||void 0===o?void 0:o.playerCount)>1;if(a&&w){const e=prompt("Enter your name for multiplayer:","Host")||"Host",r=await s(e,n.gameConfig);r?(await c(),t(bm(n)),ee(n.selectedPlayer||0),await u(n),alert("Multiplayer game loaded! Share this lobby ID with other players:\n".concat(r,"\n\nOther players can join mid-game."))):(alert("Failed to create multiplayer lobby. Loading as solo game instead."),t(bm(n)),ee(n.selectedPlayer||0))}else t(bm(n)),ee(n.selectedPlayer||0),a&&!w?alert("Game loaded successfully!\n\nNote: This is a multiplayer save but Firebase is not configured. Loading as solo game."):alert("Game loaded successfully!")}catch(Xs){console.error("Failed to load game:",Xs),alert(Xs.message||"Failed to load save file. File may be corrupted.")}e.target.value=""}},Se=()=>{t(Qg({playerCount:1})),t(Xg("SOLO_CONFIG")),Eh("start_solo_mode")},Ce=e=>{if(E.customStart){const n=Array.from({length:E.playerCount},()=>({primary:ur.primary,secondary:ur.secondary,grenade:ur.grenade,armor:ur.armor,booster:ur.booster,stratagems:[...ur.stratagems]}));t({type:Yg,payload:{difficulty:1,loadouts:n}});const r=e.map((e,t)=>({id:t+1,name:e.name,loadout:n[t],inventory:Object.values(n[t]).flat().filter(e=>null!==e),warbonds:e.warbonds,includeSuperstore:e.includeSuperstore,excludedItems:e.excludedItems||[],weaponRestricted:!1,lockedSlots:[],extracted:!0}));t(om(r)),t(Xg("CUSTOM_SETUP"))}else{const n=e.map((e,t)=>({id:t+1,name:e.name,loadout:{primary:ur.primary,secondary:ur.secondary,grenade:ur.grenade,armor:ur.armor,booster:ur.booster,stratagems:[...ur.stratagems]},inventory:Object.values(ur).flat().filter(e=>null!==e),warbonds:e.warbonds,includeSuperstore:e.includeSuperstore,excludedItems:e.excludedItems||[],weaponRestricted:!1,lockedSlots:[],extracted:!0}));t(om(n)),t(Jg(1)),t(Zg(0)),t(mm([])),t(Xg("DASHBOARD")),be(Date.now()),wh(a?"multiplayer":"solo",1)}},we=()=>{const e=P.loadouts.map((e,t)=>({id:t+1,name:"Helldiver ".concat(t+1),loadout:d({},e),inventory:Object.values(e).flat().filter(e=>null!==e),weaponRestricted:!1,lockedSlots:[],extracted:!0}));t(om(e)),t(Jg(P.difficulty)),t(Zg(0)),be(Date.now()),wh(a?"multiplayer":"solo",P.difficulty),t(mm([])),t(Xg("DASHBOARD"))},Re=e=>{if(!a)return!0;if(null===C||void 0===C||!C.players)return!0;const t=Object.values(C.players).find(t=>t.slot===e);return!!t&&!1!==t.connected},Ee=()=>a&&null!==C&&void 0!==C&&C.players?Array.from({length:E.playerCount},(e,t)=>t).filter(e=>Re(e)):Array.from({length:E.playerCount},(e,t)=>t),Te=e=>{if(!M||!M[e])return[];const n=M[e],r=_r(E.starRating),o=n.lockedSlots||[];return vr(n,T,E,I,M,e=>t(gm(e)),r,o)},ke=()=>{if(!M||0===M.length)return void console.error("Cannot start draft phase: no players available");const e=M.map(e=>e.weaponRestricted&&e.savedStratagems?d(d({},e),{},{loadout:d(d({},e.loadout),{},{stratagems:[...e.savedStratagems]}),weaponRestricted:!1,savedStratagems:void 0}):e);JSON.stringify(e)!==JSON.stringify(M)&&t(om(e));const n=Ee();if(0===n.length)return console.log("No connected players, skipping draft phase"),void t(Xg("DASHBOARD"));const r=[...n];for(let t=r.length-1;t>0;t--){const e=Math.floor(Math.random()*(t+1));[r[t],r[e]]=[r[e],r[t]]}const o=r[0];t(lm({activePlayerIndex:o,roundCards:Te(o),isRerolling:!1,pendingStratagem:null,extraDraftRound:0,draftOrder:r})),t(Xg("DRAFT"))},Ae=()=>{if(!N)return!1;const n=.01*e.samples.common+.02*e.samples.rare+.03*e.samples.superRare,r=Math.min(1,0+n);if(Math.random()<r){const e=xn(T,M.length>1,Q,M);if(e)return t({type:fg}),t(hm(e.id)),t(rm()),t(dm(e)),t(Xg("EVENT")),!0}return!1},Ie=e=>{const n=j.activePlayerIndex,r=e[n],o=j.extraDraftRound||0;if(j.isRetrospective&&null!==j.retrospectivePlayerIndex){const n=j.retrospectivePlayerIndex,r=e[n],o=(r.retrospectiveDraftsCompleted||0)+1,a=[...e];if(a[n]=d(d({},r),{},{retrospectiveDraftsCompleted:o}),t(om(a)),o<D.length){const e=D[o],i=_r(e.starRating),s=r.lockedSlots||[],l=vr(a[n],e.difficulty,E,I,a,e=>t(gm(e)),i,s);return void t(lm({activePlayerIndex:n,roundCards:l,isRerolling:!1,pendingStratagem:null,extraDraftRound:0,draftOrder:[n],isRetrospective:!0,retrospectivePlayerIndex:n}))}{const e=[...a];return e[n]=d(d({},e[n]),{},{needsRetrospectiveDraft:!1,retrospectiveDraftsCompleted:void 0}),t(om(e)),t(lm(d(d({},j),{},{isRetrospective:!1,retrospectivePlayerIndex:null}))),void t(Xg("DASHBOARD"))}}if(r.redraftRounds&&r.redraftRounds>1){const o=r.redraftRounds-1,a=[...e];return a[n]=d(d({},r),{},{redraftRounds:o}),t(om(a)),void t(lm({activePlayerIndex:n,roundCards:Te(n),isRerolling:!1,pendingStratagem:null,extraDraftRound:0,isRedrafting:!0,draftOrder:j.draftOrder}))}if(r.redraftRounds){const o=[...e];return o[n]=d(d({},r),{},{redraftRounds:0}),t(om(o)),void t(Xg("DASHBOARD"))}if(r.extraDraftCards&&o<r.extraDraftCards)return void t(lm({activePlayerIndex:n,roundCards:Te(n),isRerolling:!1,pendingStratagem:null,extraDraftRound:o+1,draftOrder:j.draftOrder}));if(r.extraDraftCards){const o=[...e];o[n]=d(d({},r),{},{extraDraftCards:0}),t(om(o))}const a=j.draftOrder||[];let i=null;for(let t=a.indexOf(n)+1;t<a.length;t++){const e=a[t];if(Re(e)){i=e;break}}if(null!==i)t(lm({activePlayerIndex:i,roundCards:Te(i),isRerolling:!1,pendingStratagem:null,extraDraftRound:0,draftOrder:a}));else{if(!j.isRetrospective){t((s=T,l=E.starRating,{type:vg,payload:{difficulty:s,starRating:l}}));const n=e.findIndex(e=>e.needsRetrospectiveDraft);if(-1!==n){const r=e[n],o=D.length>0?D[0]:{difficulty:T,starRating:E.starRating},a=_r(o.starRating),i=r.lockedSlots||[],s=vr(r,o.difficulty,E,I,e,e=>t(gm(e)),a,i),l=[...e];return l[n]=d(d({},r),{},{retrospectiveDraftsCompleted:0}),t(om(l)),void t(lm({activePlayerIndex:n,roundCards:s,isRerolling:!1,pendingStratagem:null,extraDraftRound:0,draftOrder:[n],isRetrospective:!0,retrospectivePlayerIndex:n}))}}if(Ae())return;t(Xg("DASHBOARD"))}var s,l},Pe=()=>{!a||i?(E.burnCards&&j.roundCards&&j.roundCards.forEach(e=>{e.items&&e.passive?e.items.forEach(e=>t(gm(e.id))):e.id&&t(gm(e.id))}),Ie(M)):v({type:"SKIP_DRAFT",payload:{playerIndex:j.activePlayerIndex}})},Me=e=>{const n=j.activePlayerIndex;if(a&&x!==n)return;if(a&&!i)return void v({type:_g,payload:{playerIndex:n,item:e}});const r=[...M],o=r[n];if(!o||!o.loadout)return void console.error("handleDraftPick: Invalid player or loadout",{currentPlayerIdx:n,player:o});const s=e&&e.items&&e.passive&&e.armorClass;if(s)e.items.forEach(e=>{o.inventory.push(e.id)}),o.loadout.armor=e.items[0].id;else{if(e.type===Rn.STRATAGEM&&Cr(o.loadout))return void t(cm({pendingStratagem:e}));if(o.inventory.push(e.id),e.type===Rn.PRIMARY&&(o.loadout.primary=e.id),e.type===Rn.SECONDARY&&(o.loadout.secondary=e.id),e.type===Rn.GRENADE&&(o.loadout.grenade=e.id),e.type===Rn.ARMOR&&(o.loadout.armor=e.id),e.type===Rn.BOOSTER&&(o.loadout.booster=e.id),e.type===Rn.STRATAGEM){const t=Sr(o.loadout);o.loadout.stratagems[t]=e.id}}var l,c,d;t(om(r)),E.burnCards&&j.roundCards&&j.roundCards.forEach(e=>{e.items&&e.passive?e.items.forEach(e=>t(gm(e.id))):e.id&&t(gm(e.id))}),l=e.type||(s?Rn.ARMOR:"unknown"),c=e.rarity||"unknown",d=j.roundNumber||1,Ch("draft_selection",{item_type:l,item_rarity:c,draft_round:d}),Ie(r)},je=r.useRef(null);je.current=e=>{if(e.type===_g){const{playerIndex:n,item:r}=e.payload,o=[...M],a=o[n];if(!a||!a.loadout)return console.error("DRAFT_PICK: Invalid player",{playerIndex:n,playersLength:M.length}),!0;if(r&&r.items&&r.passive&&r.armorClass)r.items.forEach(e=>{a.inventory.push(e.id)}),a.loadout.armor=r.items[0].id;else{if(r.type===Rn.STRATAGEM&&Cr(a.loadout))return t(cm({pendingStratagem:r})),!0;if(a.inventory.push(r.id),r.type===Rn.PRIMARY&&(a.loadout.primary=r.id),r.type===Rn.SECONDARY&&(a.loadout.secondary=r.id),r.type===Rn.GRENADE&&(a.loadout.grenade=r.id),r.type===Rn.ARMOR&&(a.loadout.armor=r.id),r.type===Rn.BOOSTER&&(a.loadout.booster=r.id),r.type===Rn.STRATAGEM){const e=Sr(a.loadout);a.loadout.stratagems[e]=r.id}}return t(om(o)),Ie(o),!0}if(e.type===xg){const{playerIndex:n,slotIndex:r}=e.payload,o=[...M],a=o[n];if(!a||null===a||void 0===a||!a.loadout||!j.pendingStratagem)return console.error("STRATAGEM_REPLACEMENT: Invalid state",{playerIndex:n,slotIndex:r,hasPlayer:!!a,hasLoadout:!(null===a||void 0===a||!a.loadout),hasPendingStratagem:!!j.pendingStratagem}),!0;const i=j.pendingStratagem;return a.inventory.push(i.id),a.loadout.stratagems[r]=i.id,t(om(o)),t(cm({pendingStratagem:null})),Ie(o),!0}if(e.type===mg){const{playerIndex:n,extracted:r}=e.payload;return t(am(n,r)),!0}if("SKIP_DRAFT"===e.type)return Ie(M),!0;if("DRAFT_REROLL"===e.type){const{cost:n}=e.payload;return A<n||(t(tm(n)),t(cm({roundCards:Te(j.activePlayerIndex)}))),!0}if("REMOVE_CARD"===e.type){const{cardToRemove:n}=e.payload,r=M[j.activePlayerIndex],o=(null===r||void 0===r?void 0:r.lockedSlots)||[],a=xr(r,T,E,I,M,o),i=n&&n.items&&n.passive,s=a.filter(e=>e.isArmorCombo?!j.roundCards.some(t=>t.passive===e.armorCombo.passive&&t.armorClass===e.armorCombo.armorClass):!j.roundCards.some(t=>{var n;return t.id===(null===(n=e.item)||void 0===n?void 0:n.id)||t.items&&t.items.some(t=>{var n;return t.id===(null===(n=e.item)||void 0===n?void 0:n.id)})}));if(0===s.length)return!0;const l=s.reduce((e,t)=>e+t.weight,0);let c=Math.random()*l,d=null;for(let e=0;e<s.length;e++){const t=s[e];if(t&&(c-=t.weight,c<=0)){d=t.isArmorCombo?t.armorCombo:t.item;break}}return d&&(E.burnCards&&(d.items&&d.passive?d.items.forEach(e=>t(gm(e.id))):t(gm(d.id))),t(cm({roundCards:j.roundCards.map(e=>{if(i){if(e.passive===n.passive&&e.armorClass===n.armorClass)return d}else if(e.id===n.id)return d;return e})}))),!0}return!1},(0,r.useEffect)(()=>(a&&i&&S(e=>!!je.current&&je.current(e)),()=>{a&&i&&S(null)}),[a,i,S,R]);const De=(e,r)=>{var o;const{getSlotLockCost:a,MAX_LOCKED_SLOTS:i}=n(331),s=a(E.playerCount),l=M.find(t=>t.id===e),c=(null===l||void 0===l?void 0:l.lockedSlots)||[];A<s||c.length>=i||c.includes(r)||(t(tm(s)),t(((e,t)=>({type:ug,payload:{playerId:e,slotType:t}}))(e,r)),"DRAFT"===R&&(null===(o=M[j.activePlayerIndex])||void 0===o?void 0:o.id)===e&&t(cm({roundCards:Te(j.activePlayerIndex)})))},Oe=(e,n)=>{var r;const o=M.find(t=>t.id===e);((null===o||void 0===o?void 0:o.lockedSlots)||[]).includes(n)&&window.confirm("Unlock ".concat(n," slot? This will allow ").concat(n," items to appear in future drafts."))&&(t(((e,t)=>({type:pg,payload:{playerId:e,slotType:t}}))(e,n)),"DRAFT"===R&&(null===(r=M[j.activePlayerIndex])||void 0===r?void 0:r.id)===e&&t(cm({roundCards:Te(j.activePlayerIndex)})))},Ne=e=>{fe(e),pe(!0)},Le=()=>{const e=he;if(!e)return;if(pe(!1),fe(null),a&&!i)return void v({type:"REMOVE_CARD",payload:{playerIndex:j.activePlayerIndex,cardToRemove:e}});const n=M[j.activePlayerIndex],r=n.lockedSlots||[],o=xr(n,T,E,I,M,r),s=e&&e.items&&e.passive,l=o.filter(e=>e.isArmorCombo?!j.roundCards.some(t=>t.passive===e.armorCombo.passive&&t.armorClass===e.armorCombo.armorClass):!j.roundCards.some(t=>{var n;return t.id===(null===(n=e.item)||void 0===n?void 0:n.id)||t.items&&t.items.some(t=>{var n;return t.id===(null===(n=e.item)||void 0===n?void 0:n.id)})}));if(0===l.length)return void alert("No more unique cards available!");const c=l.reduce((e,t)=>e+t.weight,0);let d=Math.random()*c,u=null;for(let t=0;t<l.length;t++){const e=l[t];if(e&&(d-=e.weight,d<=0)){u=e.isArmorCombo?e.armorCombo:e.item;break}}u&&(E.burnCards&&(u.items&&u.passive?u.items.forEach(e=>t(gm(e.id))):t(gm(u.id))),t(cm({roundCards:j.roundCards.map(t=>{if(s){if(t.passive===e.passive&&t.armorClass===e.armorClass)return u}else if(t.id===e.id)return u;return t})})))},ze=e=>{let{rarity:t}=e;const n={[vn]:{bg:"#6b7280",color:"white"},[Sn]:{bg:"#22c55e",color:"black"},[Cn]:{bg:"#f97316",color:"black"},[wn]:{bg:"#9333ea",color:"white"}},r=n[t]||n[vn];return(0,Lh.jsx)("span",{style:{fontSize:"10px",textTransform:"uppercase",fontWeight:"bold",padding:"2px 8px",borderRadius:"4px",backgroundColor:r.bg,color:r.color},children:t})},Be=e=>{var t;let{item:n,onSelect:r,onRemove:o}=e;if(!n)return console.log("[ItemCard] Skipping null item"),null;const a=n.items&&Array.isArray(n.items)&&n.items.length>0&&n.passive&&n.armorClass;if(console.log("[ItemCard] Rendering item:",{name:n.name,id:n.id,passive:n.passive,isArmorCombo:a,itemsLength:null===(t=n.items)||void 0===t?void 0:t.length,items:n.items}),!a&&!n.name)return console.log("[ItemCard] Skipping - not armor combo and no name"),null;const i=a?n.items[0]:n;if(!i||!i.name)return console.log("[ItemCard] Skipping - displayItem invalid:",i),null;const s=a?n.items.map(e=>(null===e||void 0===e?void 0:e.name)||"Unknown").join(" / "):n.name;let l=null,c=null;if((a||(null===n||void 0===n?void 0:n.type)===Rn.ARMOR)&&(c=n.passive,c)){const e=lr[c];0,l=e||"Passive effect details unavailable."}const d=i.warbond,u=i.superstore,p=d?nf(d):null,h=u?"Superstore":(null===p||void 0===p?void 0:p.name)||"Unknown",f=i.tags||[],g=n.armorClass?n.armorClass.slice(0,1).toUpperCase()+n.armorClass.slice(1):null;g&&!f.includes(g)&&f.push(g);const m=Er(i);return(0,Lh.jsxs)("div",{style:{position:"relative",backgroundColor:"#283548",border:"2px solid rgba(100, 116, 139, 0.5)",padding:"16px",borderRadius:"8px",transition:"all 0.2s",display:"flex",flexDirection:"column",minHeight:"280px",width:"280px",flexShrink:0},children:[o&&(0,Lh.jsx)("button",{onClick:e=>{e.stopPropagation(),o(n)},style:{position:"absolute",top:"8px",right:"8px",width:"28px",height:"28px",borderRadius:"4px",backgroundColor:"rgba(239, 68, 68, 0.8)",color:"white",border:"none",cursor:"pointer",fontSize:"18px",display:"flex",alignItems:"center",justifyContent:"center",padding:0,zIndex:10},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 1)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgba(239, 68, 68, 0.8)",title:"Remove this card",children:"\xd7"}),(0,Lh.jsxs)("div",{onClick:()=>r&&r(n),style:{cursor:r?"pointer":"default",flexGrow:1,display:"flex",flexDirection:"column",paddingTop:o?"32px":"0"},onMouseEnter:e=>r&&(e.currentTarget.parentElement.style.borderColor=J.PRIMARY),onMouseLeave:e=>r&&(e.currentTarget.parentElement.style.borderColor="rgba(100, 116, 139, 0.5)"),children:[(0,Lh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,Lh.jsx)(ze,{rarity:i.rarity}),(0,Lh.jsxs)("div",{style:{color:J.PRIMARY,fontSize:"12px",fontFamily:"monospace",marginRight:o?"8px":"0"},children:[i.type,a?" (\xd7".concat(n.items.length,")"):""]})]}),m&&(0,Lh.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"12px",height:"80px",backgroundColor:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",padding:"8px"},children:(0,Lh.jsx)("img",{src:m,alt:s,style:{maxHeight:"100%",maxWidth:"100%",objectFit:"contain"},onError:e=>{e.target.style.display="none"}})}),(0,Lh.jsx)("h3",{style:{color:"white",fontWeight:"bold",fontSize:a?"14px":"18px",lineHeight:"1.2",marginBottom:"4px",wordBreak:"break-word"},children:s}),(0,Lh.jsx)("div",{style:{fontSize:"10px",color:u?"#c084fc":"#60a5fa",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px"},children:h}),(0,Lh.jsxs)("div",{style:{flexGrow:1},children:[(0,Lh.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:(i.tags||[]).map(e=>(0,Lh.jsx)("span",{style:{fontSize:"10px",backgroundColor:"rgba(51, 65, 85, 0.5)",color:"#cbd5e1",padding:"2px 4px",borderRadius:"2px",border:"1px solid rgba(71, 85, 105, 0.5)"},children:e},e))}),l&&(0,Lh.jsxs)("div",{style:{marginTop:"10px"},children:[(0,Lh.jsxs)("div",{style:{color:"#94a3b8",fontSize:"9px",textTransform:"uppercase",letterSpacing:"1px"},children:["Armor Passive - ",c]}),(0,Lh.jsx)("div",{style:{color:"#cbd5e1",fontSize:"11px",lineHeight:"1.4",marginTop:"4px"},children:l})]})]}),(0,Lh.jsx)("div",{style:{marginTop:"16px",paddingTop:"16px",borderTop:"1px solid rgba(71, 85, 105, 0.5)",textAlign:"center"},children:(0,Lh.jsx)("span",{style:{color:J.PRIMARY,fontWeight:"bold",textTransform:"uppercase",letterSpacing:"2px",fontSize:"14px"},children:"REQUISITION"})})]})]})};if("VICTORY"===R)return(0,Lh.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #0f1419 0%, #1a2f3a 50%, #0f1419 100%)",padding:"24px"},children:(0,Lh.jsxs)("div",{style:{maxWidth:"900px",width:"100%",textAlign:"center"},children:[(0,Lh.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"80px",marginBottom:"16px"},children:"\ud83c\udf96\ufe0f"}),(0,Lh.jsx)("h1",{style:{fontSize:"64px",fontWeight:"900",color:J.PRIMARY,margin:"0 0 16px 0",textTransform:"uppercase",letterSpacing:"0.05em",textShadow:J.GLOW},children:"DEMOCRACY MANIFESTED"}),(0,Lh.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#22c55e",margin:"0 0 8px 0"},children:"OPERATION COMPLETE"}),(0,Lh.jsxs)("p",{style:{fontSize:"16px",color:"#cbd5e1",lineHeight:"1.8",margin:"0",maxWidth:"600px",marginLeft:"auto",marginRight:"auto"},children:["Your squad has successfully completed all 10 difficulty tiers.",(0,Lh.jsx)("br",{}),"Super Earth salutes your unwavering dedication to Liberty and Freedom.",(0,Lh.jsx)("br",{}),(0,Lh.jsx)("span",{style:{color:J.PRIMARY,fontWeight:"bold"},children:"Managed Democracy prevails!"})]})]}),(0,Lh.jsxs)("div",{style:{backgroundColor:"rgba(26, 35, 50, 0.8)",padding:"24px",borderRadius:"8px",border:"2px solid ".concat(J.PRIMARY,"66"),marginBottom:"32px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"14px",color:J.PRIMARY,marginBottom:"16px",textTransform:"uppercase",fontWeight:"bold",letterSpacing:"0.1em"},children:"Mission Statistics"}),(0,Lh.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",textAlign:"center"},children:[(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Difficulty Cleared"}),(0,Lh.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",color:J.PRIMARY},children:"D10"}),(0,Lh.jsx)("div",{style:{fontSize:"11px",color:"#94a3b8",marginTop:"2px"},children:"Super Helldive"})]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Requisition"}),(0,Lh.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#22c55e"},children:Math.floor(A)})]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Theater"}),(0,Lh.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"white",marginTop:"8px"},children:E.faction})]})]})]}),(0,Lh.jsxs)("div",{style:{backgroundColor:"rgba(26, 35, 50, 0.8)",padding:"24px",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.5)",marginBottom:"32px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"14px",color:J.PRIMARY,marginBottom:"20px",textTransform:"uppercase",fontWeight:"bold",letterSpacing:"0.1em"},children:"Final Loadouts"}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:M.length>2?"repeat(2, 1fr)":"repeat("+M.length+", 1fr)",gap:"16px"},children:M.map((e,t)=>{const n=e.loadout,r=gr(n.primary),o=gr(n.secondary),a=gr(n.grenade),i=gr(n.armor),s=gr(n.booster),l=n.stratagems.map(e=>gr(e)).filter(Boolean);return(0,Lh.jsxs)("div",{style:{backgroundColor:"rgba(40, 53, 72, 0.6)",padding:"16px",borderRadius:"6px",border:"1px solid ".concat(J.PRIMARY,"4D")},children:[(0,Lh.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold",color:J.PRIMARY,marginBottom:"12px",textAlign:"left"},children:e.name}),(0,Lh.jsxs)("div",{style:{fontSize:"11px",color:"#cbd5e1",textAlign:"left",lineHeight:"1.8"},children:[(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("span",{style:{color:"#94a3b8"},children:"Primary:"})," ",(null===r||void 0===r?void 0:r.name)||"None"]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("span",{style:{color:"#94a3b8"},children:"Secondary:"})," ",(null===o||void 0===o?void 0:o.name)||"None"]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("span",{style:{color:"#94a3b8"},children:"Grenade:"})," ",(null===a||void 0===a?void 0:a.name)||"None"]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("span",{style:{color:"#94a3b8"},children:"Armor:"})," ",(null===i||void 0===i?void 0:i.name)||"None"]}),s&&(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("span",{style:{color:"#94a3b8"},children:"Booster:"})," ",s.name]}),l.length>0&&(0,Lh.jsxs)("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"1px solid rgba(100, 116, 139, 0.3)"},children:[(0,Lh.jsx)("div",{style:{color:"#94a3b8",marginBottom:"4px"},children:"Stratagems:"}),l.map((e,t)=>(0,Lh.jsxs)("div",{children:["\u2022 ",e.name]},t))]})]})]},t)})})]}),(0,Lh.jsx)("button",{onClick:()=>t(Xg("MENU")),style:{width:"100%",maxWidth:"400px",padding:"20px",backgroundColor:J.PRIMARY,color:"black",border:"none",borderRadius:"4px",fontWeight:"900",fontSize:"18px",textTransform:"uppercase",letterSpacing:"0.2em",cursor:"pointer",transition:"all 0.2s",boxShadow:J.SHADOW},onMouseEnter:e=>{e.currentTarget.style.backgroundColor=J.PRIMARY_HOVER,e.currentTarget.style.boxShadow=J.SHADOW_HOVER},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=J.PRIMARY,e.currentTarget.style.boxShadow=J.SHADOW},children:"Return to Menu"})]})});if("GAMEOVER"===R)return(0,Lh.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#0f1419",padding:"24px"},children:(0,Lh.jsxs)("div",{style:{maxWidth:"600px",textAlign:"center"},children:[(0,Lh.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"80px",marginBottom:"16px"},children:"\ud83d\udc80"}),(0,Lh.jsx)("h1",{style:{fontSize:"64px",fontWeight:"900",color:"#ef4444",margin:"0 0 16px 0",textTransform:"uppercase",letterSpacing:"0.05em"},children:"DISHONORABLE DISCHARGE"}),(0,Lh.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#94a3b8",margin:"0 0 8px 0"},children:"MISSION FAILED"}),(0,Lh.jsxs)("p",{style:{fontSize:"16px",color:"#64748b",lineHeight:"1.6",margin:"0"},children:["Your squad has been eliminated.",(0,Lh.jsx)("br",{}),"Super Earth revokes your citizenship and Helldivers status.",(0,Lh.jsx)("br",{}),"You have brought shame to Democracy."]})]}),(0,Lh.jsxs)("div",{style:{backgroundColor:"#1a2332",padding:"24px",borderRadius:"8px",border:"1px solid rgba(239, 68, 68, 0.3)",marginBottom:"32px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"14px",color:"#94a3b8",marginBottom:"16px",textTransform:"uppercase"},children:"Final Stats"}),(0,Lh.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",textAlign:"left"},children:[(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Difficulty Reached"}),(0,Lh.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:J.PRIMARY},children:T})]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Requisition Earned"}),(0,Lh.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:J.PRIMARY},children:Math.floor(A)})]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Squad Size"}),(0,Lh.jsx)("div",{style:{fontSize:"24px",fontWeight:"bold",color:"white"},children:M.length})]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"4px"},children:"Theater"}),(0,Lh.jsx)("div",{style:{fontSize:"20px",fontWeight:"bold",color:"white"},children:E.faction})]})]})]}),(0,Lh.jsx)("button",{onClick:()=>t(Xg("MENU")),style:{width:"100%",padding:"20px",backgroundColor:J.PRIMARY,color:"black",border:"none",borderRadius:"4px",fontWeight:"900",fontSize:"18px",textTransform:"uppercase",letterSpacing:"0.2em",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor=J.PRIMARY_HOVER,onMouseLeave:e=>e.currentTarget.style.backgroundColor=J.PRIMARY,children:"Return to Menu"})]})});if("KICKED"===R)return(0,Lh.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#0f1419",padding:"24px"},children:(0,Lh.jsxs)("div",{style:{maxWidth:"500px",textAlign:"center"},children:[(0,Lh.jsxs)("div",{style:{marginBottom:"40px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"80px",marginBottom:"16px"},children:"\ud83d\udeab"}),(0,Lh.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:"#ef4444",margin:"0 0 16px 0",textTransform:"uppercase",letterSpacing:"0.05em"},children:"REMOVED FROM SQUAD"}),(0,Lh.jsxs)("p",{style:{fontSize:"18px",color:"#94a3b8",lineHeight:"1.6",margin:"0"},children:["The host has removed you from the game session.",(0,Lh.jsx)("br",{}),(0,Lh.jsx)("br",{}),"You can rejoin using the same lobby code if the host allows it."]})]}),(0,Lh.jsx)("button",{onClick:()=>{y(),t(Xg("MENU"))},style:{width:"100%",padding:"20px",backgroundColor:J.PRIMARY,color:"black",border:"none",borderRadius:"4px",fontWeight:"900",fontSize:"18px",textTransform:"uppercase",letterSpacing:"0.2em",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor=J.PRIMARY_HOVER,onMouseLeave:e=>e.currentTarget.style.backgroundColor=J.PRIMARY,children:"Return to Menu"})]})});if("MENU"===R&&"select"===te)return(0,Lh.jsx)(eg,{gameConfig:E,onHost:async()=>{Eh("create_lobby");await s("Host",E)&&ne("waiting")},onJoin:()=>ne("join"),onBack:()=>ne(null)});if("MENU"===R&&"join"===te)return(0,Lh.jsx)(tg,{gameConfig:E,onJoinLobby:async(e,t,n)=>{await l(e,t,n)&&ne("waiting")},onBack:()=>ne("select")});if("MENU"===R&&"waiting"===te)return(0,Lh.jsx)(ng,{gameConfig:E,eventsEnabled:N,onUpdateGameConfig:e=>t(Qg(e)),onSetSubfaction:e=>t(nm(e)),onSetEventsEnabled:e=>t(pm(e)),onStartGame:async e=>{t(Qg({playerCount:e})),await c(),t(Xg("LOBBY"))},onLeave:async()=>{await p(),ne(null)}});if("MENU"===R)return(0,Lh.jsxs)("div",{style:{minHeight:"100vh",padding:"80px 24px"},children:[(0,Lh.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto",textAlign:"center"},children:[(0,Lh.jsx)("h1",{style:{fontSize:"72px",fontWeight:"900",color:J.PRIMARY,margin:"0 0 0 0",letterSpacing:"0.02em",textTransform:"uppercase"},children:"HELLDRAFTERS"}),(0,Lh.jsx)("div",{style:{margin:"20px auto"},children:(0,Lh.jsx)("img",{src:"".concat("/helldrafters","/logo.png"),alt:"Helldrafters Logo",style:{width:"200px",height:"auto",display:"block",margin:"0 auto"}})}),(0,Lh.jsx)("div",{style:{background:"linear-gradient(to right, #5a5142, #6b6052)",padding:"12px",marginBottom:"60px",maxWidth:"620px",margin:"0 auto 60px auto"},children:(0,Lh.jsx)("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"white",textTransform:"uppercase",letterSpacing:"0.3em",margin:0},children:"Roguelike Director"})}),(0,Lh.jsxs)("div",{style:{backgroundColor:"#283548",padding:"40px",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,Lh.jsx)("input",{type:"file",ref:_e,accept:".json",onChange:ve,style:{display:"none"}}),(0,Lh.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[(0,Lh.jsx)("button",{onClick:Se,style:d(d({},Nh.PRIMARY),{},{width:"100%",padding:"16px",fontSize:"16px",letterSpacing:"0.15em",borderRadius:"4px",border:"none"}),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=Ah.PRIMARY_HOVER,e.currentTarget.style.boxShadow=Mh.BUTTON_PRIMARY_HOVER},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=Ah.PRIMARY,e.currentTarget.style.boxShadow=Mh.BUTTON_PRIMARY},children:"Solo"}),(0,Lh.jsxs)("button",{onClick:()=>ne("select"),style:{width:"100%",padding:"16px",fontSize:"16px",letterSpacing:"0.15em",borderRadius:"4px",border:"2px solid ".concat(Ah.ACCENT_BLUE),backgroundColor:"transparent",color:Ah.ACCENT_BLUE,fontWeight:"900",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="".concat(Ah.ACCENT_BLUE,"20"),e.currentTarget.style.boxShadow=Mh.GLOW_BLUE},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.boxShadow="none"},children:[(0,Lh.jsx)(Wt,{size:18}),"Multiplayer"]})]}),(0,Lh.jsx)("div",{style:{marginTop:"12px"},children:(0,Lh.jsx)("button",{onClick:()=>{var e;return null===(e=_e.current)||void 0===e?void 0:e.click()},style:{width:"100%",padding:"12px",fontSize:"14px",letterSpacing:"0.1em",borderRadius:"4px",border:"1px solid ".concat(Ah.CARD_BORDER),backgroundColor:"transparent",color:Ah.TEXT_MUTED,fontWeight:"700",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor=Ah.TEXT_SECONDARY,e.currentTarget.style.color=Ah.TEXT_SECONDARY,e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.borderColor=Ah.CARD_BORDER,e.currentTarget.style.color=Ah.TEXT_MUTED,e.currentTarget.style.backgroundColor="transparent"},children:"Load Game"})}),(0,Lh.jsx)("div",{style:{marginTop:"12px"},children:(0,Lh.jsxs)("button",{onClick:()=>{Th("explainer"),oe(!0)},style:{width:"100%",padding:"12px",fontSize:"14px",letterSpacing:"0.1em",borderRadius:"4px",border:"1px solid ".concat(Ah.CARD_BORDER),backgroundColor:"transparent",color:Ah.TEXT_MUTED,fontWeight:"700",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:e=>{e.currentTarget.style.borderColor=J.PRIMARY,e.currentTarget.style.color=J.PRIMARY,e.currentTarget.style.backgroundColor="".concat(J.PRIMARY,"10")},onMouseLeave:e=>{e.currentTarget.style.borderColor=Ah.CARD_BORDER,e.currentTarget.style.color=Ah.TEXT_MUTED,e.currentTarget.style.backgroundColor="transparent"},children:[(0,Lh.jsx)("span",{style:{fontSize:"16px"},children:"\ud83d\udcd6"})," How to Play"]})}),(0,Lh.jsx)("div",{style:{marginTop:"12px"},children:(0,Lh.jsxs)("button",{onClick:()=>{Th("patch_notes"),ie(!0)},style:{width:"100%",padding:"12px",fontSize:"14px",letterSpacing:"0.1em",borderRadius:"4px",border:"1px solid ".concat(Ah.CARD_BORDER),backgroundColor:"transparent",color:Ah.TEXT_MUTED,fontWeight:"700",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:e=>{e.currentTarget.style.borderColor=J.PRIMARY,e.currentTarget.style.color=J.PRIMARY,e.currentTarget.style.backgroundColor="".concat(J.PRIMARY,"10")},onMouseLeave:e=>{e.currentTarget.style.borderColor=Ah.CARD_BORDER,e.currentTarget.style.color=Ah.TEXT_MUTED,e.currentTarget.style.backgroundColor="transparent"},children:[(0,Lh.jsx)("span",{style:{fontSize:"16px"},children:"\ud83d\udcdd"})," Patch Notes"]})}),(0,Lh.jsx)("div",{style:{marginTop:"12px"},children:(0,Lh.jsxs)("a",{href:"https://github.com/TheInsomnolent/helldrafters/issues",target:"_blank",rel:"noopener noreferrer",style:{width:"100%",padding:"12px",fontSize:"14px",letterSpacing:"0.1em",borderRadius:"4px",border:"1px solid ".concat(Ah.CARD_BORDER),backgroundColor:"transparent",color:Ah.TEXT_MUTED,fontWeight:"700",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",textDecoration:"none"},onMouseEnter:e=>{e.currentTarget.style.borderColor=Ah.TEXT_SECONDARY,e.currentTarget.style.color=Ah.TEXT_SECONDARY,e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.borderColor=Ah.CARD_BORDER,e.currentTarget.style.color=Ah.TEXT_MUTED,e.currentTarget.style.backgroundColor="transparent"},children:[(0,Lh.jsx)(Ut,{size:16})," Report Bug/Feedback"]})}),(0,Lh.jsx)("div",{style:{marginTop:"12px"},children:(0,Lh.jsxs)("button",{onClick:()=>{Th("genai_disclosure"),le(!0)},style:{width:"100%",padding:"12px",fontSize:"14px",letterSpacing:"0.1em",borderRadius:"4px",border:"1px solid ".concat(Ah.CARD_BORDER),backgroundColor:"transparent",color:Ah.TEXT_MUTED,fontWeight:"700",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:e=>{e.currentTarget.style.borderColor=J.PRIMARY,e.currentTarget.style.color=J.PRIMARY,e.currentTarget.style.backgroundColor="".concat(J.PRIMARY,"10")},onMouseLeave:e=>{e.currentTarget.style.borderColor=Ah.CARD_BORDER,e.currentTarget.style.color=Ah.TEXT_MUTED,e.currentTarget.style.backgroundColor="transparent"},children:[(0,Lh.jsx)("span",{style:{fontSize:"16px"},children:"\u2728"})," Gen AI Disclosure"]})}),(0,Lh.jsx)("div",{style:{marginTop:"12px"},children:(0,Lh.jsxs)("button",{onClick:()=>{console.log("Contributors button clicked, showContributors:",ce),Th("contributors"),de(!0),console.log("setShowContributors(true) called")},style:{width:"100%",padding:"12px",fontSize:"14px",letterSpacing:"0.1em",borderRadius:"4px",border:"1px solid ".concat(Ah.CARD_BORDER),backgroundColor:"transparent",color:Ah.TEXT_MUTED,fontWeight:"700",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#ff5e5b",e.currentTarget.style.color="#ff5e5b",e.currentTarget.style.backgroundColor="rgba(255, 94, 91, 0.1)"},onMouseLeave:e=>{e.currentTarget.style.borderColor=Ah.CARD_BORDER,e.currentTarget.style.color=Ah.TEXT_MUTED,e.currentTarget.style.backgroundColor="transparent"},children:[(0,Lh.jsx)("span",{style:{fontSize:"16px"},children:"\u2764\ufe0f"})," Community Supporters"]})}),(0,Lh.jsx)("div",{style:{marginTop:"24px",paddingTop:"24px",borderTop:"1px solid rgba(100, 116, 139, 0.3)",textAlign:"center"},children:(0,Lh.jsxs)("div",{style:{fontSize:"10px",color:"#475569",fontFamily:"monospace"},children:[(0,Lh.jsxs)("div",{children:["Build: ","2026-01-23T18:06:02+11:00"]}),(0,Lh.jsxs)("div",{children:["Commit: ","53f7b6a05b5e764bc7c0e86988d33a71e5133c33".substring(0,7)]}),!1]})})]}),E.debugRarityWeights&&(0,Lh.jsx)("div",{style:{marginTop:"40px"},children:(0,Lh.jsx)(zf,{gameConfig:E})})]}),(0,Lh.jsx)(Wh,{}),ue&&(0,Lh.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"24px"},children:(0,Lh.jsxs)("div",{style:{backgroundColor:"#283548",borderRadius:"12px",border:"3px solid #f59e0b",padding:"32px",maxWidth:"600px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},children:[(0,Lh.jsx)("h2",{style:{color:"#f59e0b",fontSize:"28px",fontWeight:"bold",textAlign:"center",marginBottom:"24px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"\u26a0\ufe0f Remove Card"}),(0,Lh.jsxs)("div",{style:{backgroundColor:"#1f2937",padding:"20px",borderRadius:"8px",marginBottom:"24px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[(0,Lh.jsx)("p",{style:{color:"#cbd5e1",fontSize:"16px",lineHeight:"1.6",marginBottom:"16px"},children:(0,Lh.jsx)("strong",{style:{color:"#f59e0b"},children:"\u26a0\ufe0f Important Notice:"})}),(0,Lh.jsxs)("p",{style:{color:"#cbd5e1",fontSize:"15px",lineHeight:"1.6",marginBottom:"12px"},children:["This feature should ",(0,Lh.jsx)("strong",{style:{color:"#fbbf24"},children:"only be used"})," if you misconfigured your warbonds and do not have access to an item that appeared in your draft."]}),(0,Lh.jsx)("p",{style:{color:"#94a3b8",fontSize:"14px",lineHeight:"1.6",fontStyle:"italic"},children:"The card will be replaced with a new random card from your pool. This action cannot be undone."})]}),he&&(0,Lh.jsxs)("div",{style:{backgroundColor:"#1f2937",padding:"16px",borderRadius:"8px",marginBottom:"24px",textAlign:"center"},children:[(0,Lh.jsx)("p",{style:{color:"#94a3b8",fontSize:"14px",marginBottom:"8px"},children:"Removing:"}),(0,Lh.jsx)("p",{style:{color:"#F5C642",fontSize:"18px",fontWeight:"bold"},children:he.name||(he.passive&&he.armorClass?yr(he.passive,he.armorClass,null):"Unknown Item")})]}),(0,Lh.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,Lh.jsx)("button",{onClick:()=>{pe(!1),fe(null)},style:{flex:1,padding:"14px 24px",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.05em",borderRadius:"6px",border:"2px solid #64748b",backgroundColor:"transparent",color:"#cbd5e1",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.2)",e.currentTarget.style.borderColor="#94a3b8"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.borderColor="#64748b"},children:"Cancel"}),(0,Lh.jsx)("button",{onClick:Le,style:{flex:1,padding:"14px 24px",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.05em",borderRadius:"6px",border:"2px solid #f59e0b",backgroundColor:"#f59e0b",color:"#1f2937",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#d97706",e.currentTarget.style.borderColor="#d97706",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(245, 158, 11, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f59e0b",e.currentTarget.style.borderColor="#f59e0b",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:"Confirm Remove"})]})]})}),(0,Lh.jsx)(Hf,{isOpen:re,onClose:()=>oe(!1),faction:E.faction}),(0,Lh.jsx)(Vf,{isOpen:ae,onClose:()=>ie(!1),faction:E.faction}),(0,Lh.jsx)($f,{isOpen:se,onClose:()=>le(!1),faction:E.faction}),(0,Lh.jsx)(Qf,{isOpen:ce,onClose:()=>de(!1),faction:E.faction})]});if("SOLO_CONFIG"===R)return(0,Lh.jsx)("div",{style:{minHeight:"100vh",background:Dh,color:"white",padding:"80px 24px"},children:(0,Lh.jsxs)("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[(0,Lh.jsxs)("div",{style:{textAlign:"center",marginBottom:"48px"},children:[(0,Lh.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:J.PRIMARY,margin:"0 0 8px 0",letterSpacing:"0.05em",textTransform:"uppercase",textShadow:J.GLOW},children:"SOLO OPERATION"}),(0,Lh.jsx)("div",{style:{background:jh,padding:"12px",margin:"0 auto",maxWidth:"400px"},children:(0,Lh.jsx)("p",{style:{fontSize:"14px",fontWeight:"bold",color:"white",textTransform:"uppercase",letterSpacing:"0.3em",margin:0},children:"Configure Your Mission"})})]}),(0,Lh.jsx)("div",{style:{backgroundColor:Ah.CARD_BG,padding:"32px",borderRadius:"8px",border:"1px solid ".concat(Ah.CARD_BORDER),marginBottom:"32px"},children:(0,Lh.jsx)(Lf,{gameConfig:E,eventsEnabled:N,onUpdateGameConfig:e=>t(Qg(e)),onSetSubfaction:e=>t(nm(e)),onSetEventsEnabled:e=>t(pm(e)),factionColors:J})}),(0,Lh.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,Lh.jsx)("button",{onClick:()=>t(Xg("MENU")),style:{flex:1,padding:"16px",backgroundColor:"transparent",color:Ah.TEXT_MUTED,border:"2px solid ".concat(Ah.CARD_BORDER),borderRadius:"4px",fontWeight:"900",fontSize:"14px",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor=Ah.TEXT_DISABLED,e.currentTarget.style.color=Ah.TEXT_SECONDARY},onMouseLeave:e=>{e.currentTarget.style.borderColor=Ah.CARD_BORDER,e.currentTarget.style.color=Ah.TEXT_MUTED},children:"\u2190 BACK TO MENU"}),(0,Lh.jsx)("button",{onClick:()=>t(Xg("LOBBY")),style:d(d({},Nh.PRIMARY),{},{flex:2,padding:"16px",fontSize:"16px",letterSpacing:"0.15em"}),children:"CONTINUE \u2192"})]})]})});if("LOBBY"===R)return(0,Lh.jsx)(Df,{gameConfig:E,onStartRun:Ce,onCancel:()=>t(Xg("MENU"))});if("CUSTOM_SETUP"===R){var Fe;if(a&&!i)return(0,Lh.jsxs)("div",{style:{minHeight:"100vh",padding:"24px",backgroundColor:"#1a2332"},children:[(0,Lh.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:(0,Lh.jsxs)("div",{style:{textAlign:"center",marginTop:"120px"},children:[(0,Lh.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:J.PRIMARY,margin:"0 0 16px 0"},children:"HOST CONFIGURING CUSTOM START"}),(0,Lh.jsx)("p",{style:{color:"#94a3b8",marginBottom:"32px",fontSize:"18px"},children:"Please wait while the host configures the starting difficulty and loadouts..."}),(0,Lh.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"12px",marginTop:"32px"},children:[(0,Lh.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:J.PRIMARY,animation:"pulse 1.5s infinite"}}),(0,Lh.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:J.PRIMARY,animation:"pulse 1.5s infinite 0.2s"}}),(0,Lh.jsx)("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:J.PRIMARY,animation:"pulse 1.5s infinite 0.4s"}})]})]})}),(0,Lh.jsx)("style",{children:"\n            @keyframes pulse {\n              0%, 100% { opacity: 0.3; transform: scale(0.8); }\n              50% { opacity: 1; transform: scale(1.2); }\n            }\n          "})]});if(!P||!P.loadouts)return(0,Lh.jsx)("div",{style:{minHeight:"100vh",padding:"24px",backgroundColor:"#1a2332"},children:(0,Lh.jsx)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:(0,Lh.jsx)("div",{style:{textAlign:"center",marginTop:"120px"},children:(0,Lh.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:J.PRIMARY,margin:"0 0 16px 0"},children:"LOADING..."})})})});const e=(e,n,r)=>{const o=[...P.loadouts];if("stratagem"===n){const t=parseInt(r.split("_")[1]),n=[...o[e].stratagems];n[t]=r.split("_")[0],o[e]=d(d({},o[e]),{},{stratagems:n})}else o[e]=d(d({},o[e]),{},{[n]:r});t(fm({loadouts:o}))},n=P.loadouts[Z],r={primary:dr.filter(e=>e.type===Rn.PRIMARY),secondary:dr.filter(e=>e.type===Rn.SECONDARY),grenade:dr.filter(e=>e.type===Rn.GRENADE),armor:dr.filter(e=>e.type===Rn.ARMOR),booster:dr.filter(e=>e.type===Rn.BOOSTER),stratagem:dr.filter(e=>e.type===Rn.STRATAGEM)};return(0,Lh.jsx)("div",{style:{minHeight:"100vh",padding:"24px",backgroundColor:"#1a2332"},children:(0,Lh.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto"},children:[(0,Lh.jsxs)("div",{style:{textAlign:"center",marginBottom:"32px"},children:[(0,Lh.jsx)("h1",{style:{fontSize:"48px",fontWeight:"900",color:J.PRIMARY,margin:"0 0 16px 0"},children:"CUSTOM START SETUP"}),(0,Lh.jsx)("p",{style:{color:"#94a3b8",margin:0},children:"Configure starting difficulty and loadouts"})]}),(0,Lh.jsxs)("div",{style:{backgroundColor:"#283548",padding:"24px",borderRadius:"8px",marginBottom:"24px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",marginBottom:"16px"},children:"Starting Difficulty"}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(10, 1fr)",gap:"8px"},children:pr.map(e=>(0,Lh.jsx)("button",{onClick:()=>t(fm({difficulty:e.level})),style:{padding:"12px 8px",backgroundColor:P.difficulty===e.level?J.PRIMARY:"transparent",color:P.difficulty===e.level?"black":"#cbd5e1",border:P.difficulty===e.level?"2px solid ".concat(J.PRIMARY):"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontWeight:"bold",fontSize:"16px",cursor:"pointer",transition:"all 0.2s"},title:e.name,children:e.level},e.level))}),(0,Lh.jsx)("div",{style:{marginTop:"8px",textAlign:"center",color:J.PRIMARY,fontSize:"14px"},children:null===(Fe=pr[P.difficulty-1])||void 0===Fe?void 0:Fe.name})]}),(0,Lh.jsx)("div",{style:{display:"flex",gap:"8px",marginBottom:"24px"},children:P.loadouts.map((e,t)=>(0,Lh.jsxs)("button",{onClick:()=>ee(t),style:{padding:"12px 24px",backgroundColor:Z===t?J.PRIMARY:"#283548",color:Z===t?"black":"#cbd5e1",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontWeight:"bold",cursor:"pointer",transition:"all 0.2s"},children:["Helldiver ",t+1]},t))}),(0,Lh.jsxs)("div",{style:{backgroundColor:"#283548",padding:"24px",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.5)"},children:[(0,Lh.jsx)("h3",{style:{color:J.PRIMARY,marginBottom:"16px",fontSize:"18px"},children:"Loadout Configuration"}),(0,Lh.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Primary"}),(0,Lh.jsxs)("select",{value:n.primary||"",onChange:t=>e(Z,"primary",t.target.value||null),style:{width:"100%",padding:"8px",backgroundColor:"#1f2937",color:J.PRIMARY,border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontSize:"14px"},children:[(0,Lh.jsx)("option",{value:"",children:"None"}),r.primary.map(e=>(0,Lh.jsxs)("option",{value:e.id,children:[e.name," (",e.rarity,")"]},e.id))]})]}),(0,Lh.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Secondary"}),(0,Lh.jsxs)("select",{value:n.secondary||"",onChange:t=>e(Z,"secondary",t.target.value||null),style:{width:"100%",padding:"8px",backgroundColor:"#1f2937",color:"white",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontSize:"14px"},children:[(0,Lh.jsx)("option",{value:"",children:"None"}),r.secondary.map(e=>(0,Lh.jsxs)("option",{value:e.id,children:[e.name," (",e.rarity,")"]},e.id))]})]}),(0,Lh.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Grenade"}),(0,Lh.jsxs)("select",{value:n.grenade||"",onChange:t=>e(Z,"grenade",t.target.value||null),style:{width:"100%",padding:"8px",backgroundColor:"#1f2937",color:"#cbd5e1",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontSize:"14px"},children:[(0,Lh.jsx)("option",{value:"",children:"None"}),r.grenade.map(e=>(0,Lh.jsxs)("option",{value:e.id,children:[e.name," (",e.rarity,")"]},e.id))]})]}),(0,Lh.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Armor"}),(0,Lh.jsxs)("select",{value:n.armor||"",onChange:t=>e(Z,"armor",t.target.value||null),style:{width:"100%",padding:"8px",backgroundColor:"#1f2937",color:"#cbd5e1",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontSize:"14px"},children:[(0,Lh.jsx)("option",{value:"",children:"None"}),r.armor.map(e=>(0,Lh.jsxs)("option",{value:e.id,children:[e.name," (",e.rarity,")"]},e.id))]})]}),(0,Lh.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Booster"}),(0,Lh.jsxs)("select",{value:n.booster||"",onChange:t=>e(Z,"booster",t.target.value||null),style:{width:"100%",padding:"8px",backgroundColor:"#1f2937",color:"#cbd5e1",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontSize:"14px"},children:[(0,Lh.jsx)("option",{value:"",children:"None"}),r.booster.map(e=>(0,Lh.jsxs)("option",{value:e.id,children:[e.name," (",e.rarity,")"]},e.id))]})]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#64748b",textTransform:"uppercase",marginBottom:"8px"},children:"Stratagems"}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:[0,1,2,3].map(t=>(0,Lh.jsxs)("select",{value:n.stratagems[t]||"",onChange:r=>{const o=[...n.stratagems];o[t]=r.target.value||null,e(Z,"stratagems",o)},style:{padding:"8px",backgroundColor:"#1f2937",color:"white",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontSize:"12px"},children:[(0,Lh.jsxs)("option",{value:"",children:["Slot ",t+1,": None"]}),r.stratagem.map(e=>(0,Lh.jsx)("option",{value:e.id,children:e.name},e.id))]},t))})]})]}),(0,Lh.jsxs)("div",{style:{display:"flex",gap:"16px",marginTop:"32px"},children:[(0,Lh.jsx)("button",{onClick:()=>t(Xg("MENU")),style:{flex:1,padding:"16px",backgroundColor:"rgba(127, 29, 29, 0.3)",color:"#ef4444",border:"1px solid #7f1d1d",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},children:"Back to Menu"}),(0,Lh.jsx)("button",{onClick:we,style:d(d({},Nh.PRIMARY),{},{flex:2,padding:"16px",border:"none",borderRadius:"4px",fontSize:"18px",letterSpacing:"0.1em"}),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=Ah.PRIMARY_HOVER,e.currentTarget.style.boxShadow=Mh.BUTTON_PRIMARY_HOVER},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=Ah.PRIMARY,e.currentTarget.style.boxShadow=Mh.BUTTON_PRIMARY},children:"Start Operation"})]})]})})}if("EVENT"===R){if(!L)return t(Xg("DRAFT")),null;const n=n=>{var r,o;r=(null===L||void 0===L?void 0:L.type)||"unknown",o=n.id||"unknown",Ch("event_choice",{event_type:r,choice_id:o});const a={sourcePlayerSelection:B,stratagemSelection:F,targetPlayerSelection:W,targetStratagemSelection:U},i=kr(n.outcomes,n,{players:M,eventPlayerChoice:z,requisition:A,currentDiff:T,gameConfig:E,burnedCards:I},a);if(i.needsBoosterSelection&&i.boosterDraft)return t((s=i.boosterDraft,{type:Og,payload:s})),window.__boosterOutcome=i.boosterOutcome,void(i.burnBoosterDraft&&i.burnBoosterDraft.length>0&&i.burnBoosterDraft.forEach(e=>{t(gm(e))}));var s;if(i.needsSubfactionSelection&&i.pendingFaction)t((l=i.pendingFaction,{type:Wg,payload:l}));else{var l,c;if(i.needsSpecialDraft&&i.specialDraftType){const e="throwable"===i.specialDraftType?Rn.GRENADE:Rn.SECONDARY;let n=dr.filter(t=>t.type===e);if(E.burnCards&&I.length>0&&(n=n.filter(e=>!I.includes(e.id))),"throwable"===i.specialDraftType&&E.globalUniqueness){const e=new Set;M.forEach(t=>{t.loadout.grenade&&e.add(t.loadout.grenade)}),n=n.filter(t=>!e.has(t.id))}return t({type:Lg,payload:n}),t((c=i.specialDraftType,{type:zg,payload:c})),t((e=>({type:Bg,payload:e}))(new Array(M.length).fill(null))),void(void 0!==i.players&&t(om(i.players)))}if(void 0!==i.requisition&&t(Zg(i.requisition)),void 0!==i.players&&t(om(i.players)),void 0!==i.currentDiff&&t(Jg(i.currentDiff)),void 0!==i.faction||void 0!==i.subfaction){const e={};void 0!==i.faction&&(e.faction=i.faction),void 0!==i.subfaction&&(e.subfaction=i.subfaction),t(Qg(e))}if(void 0!==i.bonusRequisition&&t(em(i.bonusRequisition)),i.newBurnedCards&&i.newBurnedCards.length>0&&i.newBurnedCards.forEach(e=>t(gm(e))),i.transformedSlots&&i.transformedSlots.length>0){const e=i.transformedSlots.map(e=>"".concat(e.slot.replace("_"," ").toUpperCase(),": ").concat(e.oldItem," \u2192 ").concat(e.newItem)).join("\n\u2022 ");setTimeout(()=>{alert("Quantum Reconfiguration Complete!\n\n".concat(i.transformedSlots.length," item").concat(i.transformedSlots.length>1?"s":""," transformed:\n\n\u2022 ").concat(e))},100)}if(i.needsRedraft&&void 0!==i.redraftPlayerIndex){if(i.liquidatedItems&&i.liquidatedItems.length>0){const e=i.liquidatedItems.join("\n\u2022 "),t=i.redraftCount||1;setTimeout(()=>{alert("Assets Liquidated (".concat(i.liquidatedItems.length," items):\n\n\u2022 ").concat(e,"\n\nYou will now complete ").concat(t," draft round").concat(t>1?"s":""," to rebuild your loadout."))},100)}t(dm(null)),t(rm());const e=i.players[i.redraftPlayerIndex],n=(null===e||void 0===e?void 0:e.lockedSlots)||[],r=vr(e,T,E,I,i.players,e=>t(gm(e)),_r(E.starRating),n);return t(lm({activePlayerIndex:i.redraftPlayerIndex,roundCards:r,isRerolling:!1,pendingStratagem:null,extraDraftRound:0,isRedrafting:!0,draftOrder:[i.redraftPlayerIndex]})),void t(Xg("DRAFT"))}if(i.removedItemName){const e="stratagem"===i.removedItemType?"Stratagem":"primary"===i.removedItemType?"Primary Weapon":"secondary"===i.removedItemType?"Secondary Weapon":"Grenade";setTimeout(()=>{alert("Equipment Confiscated: ".concat(i.removedItemName," (").concat(e,") has been removed from your loadout."))},100)}i.gainedItemName&&setTimeout(()=>{alert("Equipment Acquired: ".concat(i.gainedItemName," has been added to your loadout!"))},100),i.gainedItems&&i.gainedItems.length>0&&setTimeout(()=>{const t=i.gainedItems.map(t=>"".concat(e.players[t.playerIndex].name,": ").concat(t.itemName)).join("\n");alert("Equipment Acquired:\n".concat(t))},100),i.triggerGameOver?setTimeout(()=>t(Xg("GAMEOVER")),100):(t(dm(null)),t(rm()),t(Xg("DASHBOARD")))}},r=()=>{if(H&&Y){const e=window.__boosterOutcome,n=((e,t,n,r)=>{if(!r)return e;if("choose"===t.targetPlayer&&null!==n){const t=[...e];return t[n].loadout.booster=r,t[n].inventory.includes(r)||t[n].inventory.push(r),t}return t.targetPlayer&&"all"!==t.targetPlayer?e:e.map(e=>d(d({},e),{},{loadout:d(d({},e.loadout),{},{booster:r}),inventory:e.inventory.includes(r)?e.inventory:[...e.inventory,r]}))})(M,e,z,Y);return t(om(n)),window.__boosterOutcome=null,t(dm(null)),t(rm()),void t(Xg("DASHBOARD"))}if(G&&q){if(!(Array.isArray(V)&&V.length===M.length&&V.every(e=>null!==e&&void 0!==e)))return;const e=[...M];return V.forEach((n,r)=>{"throwable"===q?e[r].loadout.grenade=n:"secondary"===q&&(e[r].loadout.secondary=n),E.burnCards&&t(gm(n))}),t(om(e)),t(dm(null)),t(rm()),void t(Xg("DASHBOARD"))}if(L.outcomes){let e=[];if(L.type===Vt){const t=L.outcomes.reduce((e,t)=>e+(t.weight||1),0);let n=Math.random()*t;for(const r of L.outcomes)if(n-=r.weight||1,n<=0){e=[r];break}}else e=L.outcomes;const n=kr(e,null,{players:M,eventPlayerChoice:z,requisition:A,currentDiff:T,gameConfig:E,burnedCards:I});if(void 0!==n.requisition&&t(Zg(n.requisition)),void 0!==n.players&&t(om(n.players)),void 0!==n.currentDiff&&t(Jg(n.currentDiff)),void 0!==n.faction||void 0!==n.subfaction){const e={};void 0!==n.faction&&(e.faction=n.faction),void 0!==n.subfaction&&(e.subfaction=n.subfaction),t(Qg(e))}if(n.triggerGameOver)return void setTimeout(()=>t(Xg("GAMEOVER")),100)}t(dm(null)),t(rm()),t(Xg("DASHBOARD"))},o=()=>{t(dm(null)),t(rm()),t(Xg("DASHBOARD"))};return(0,Lh.jsxs)("div",{style:{minHeight:"100vh"},children:[a&&(0,Lh.jsx)(rg,{gameConfig:E,onDisconnect:p}),(0,Lh.jsx)(Uh,{currentEvent:L,eventPlayerChoice:z,eventSourcePlayerSelection:B,eventStratagemSelection:F,eventTargetPlayerSelection:W,eventTargetStratagemSelection:U,eventBoosterDraft:H,eventBoosterSelection:Y,eventSpecialDraft:G,eventSpecialDraftType:q,eventSpecialDraftSelections:V,eventSelectedChoice:K,pendingFaction:$,pendingSubfactionSelection:X,players:M,currentDiff:T,requisition:A,isHost:!a||i,isMultiplayer:a,playerSlot:x,needsPlayerChoice:Wr,canAffordChoice:zr,formatOutcome:Br,formatOutcomes:Fr,connectedPlayerIndices:a?Ee():null,onPlayerChoice:e=>t(um(e)),onEventChoice:n,onAutoContinue:r,onSkipEvent:o,onSourcePlayerSelection:e=>t((e=>({type:Pg,payload:e}))(e)),onStratagemSelection:e=>t((e=>({type:Mg,payload:e}))(e)),onTargetPlayerSelection:e=>t((e=>({type:jg,payload:e}))(e)),onTargetStratagemSelection:e=>t((e=>({type:Dg,payload:e}))(e)),onBoosterSelection:e=>t((e=>({type:Ng,payload:e}))(e)),onEventSelectedChoice:e=>t((e=>({type:Tg,payload:e}))(e)),onSubfactionSelection:e=>{a&&!i||t((e=>({type:Ug,payload:e}))(e))},onConfirmSubfaction:()=>{a&&!i||(t(Qg({faction:$,subfaction:X})),t(dm(null)),t(um(null)),t(rm()),t(Xg("DASHBOARD")))},onSpecialDraftSelection:(e,n)=>{a&&x!==e||(!a||i?t(((e,t)=>({type:Fg,payload:{playerIndex:e,itemId:t}}))(e,n)):v({type:"SET_EVENT_SPECIAL_DRAFT_SELECTION",payload:{playerIndex:e,itemId:n}}))},onConfirmSelections:n})]})}if("SACRIFICE"===R){const e=O.activePlayerIndex,n=M[e];if(!n)return console.error("SACRIFICE: Invalid player index",e,"players:",M.length),(0,Lh.jsx)("div",{children:"Error: Invalid player state"});const r=[];if(n.loadout.primary){const e=gr(n.loadout.primary);e&&r.push(d(d({},e),{},{slot:"Primary"}))}if(n.loadout.secondary&&"s_peacemaker"!==n.loadout.secondary){const e=gr(n.loadout.secondary);e&&r.push(d(d({},e),{},{slot:"Secondary"}))}if(n.loadout.grenade&&"g_he"!==n.loadout.grenade){const e=gr(n.loadout.grenade);e&&r.push(d(d({},e),{},{slot:"Grenade"}))}if(n.loadout.armor&&"a_b01"!==n.loadout.armor){const e=gr(n.loadout.armor);e&&r.push(d(d({},e),{},{slot:"Armor"}))}if(n.loadout.booster){const e=gr(n.loadout.booster);e&&r.push(d(d({},e),{},{slot:"Booster"}))}n.loadout.stratagems.forEach((e,t)=>{if(e){const n=gr(e);n&&r.push(d(d({},n),{},{slot:"Stratagem ".concat(t+1)}))}});const o=e=>{var n;const r=O.activePlayerIndex;console.log("Sacrificing item",e.id,"for player index",r,"player:",null===(n=M[r])||void 0===n?void 0:n.name);const o=e.id,a=M.map((e,t)=>{if(t!==r)return e;let n=e.inventory.filter(e=>e!==o);const a=d(d({},e.loadout),{},{stratagems:[...e.loadout.stratagems]});a.primary===o&&(a.primary=null),a.secondary===o&&(a.secondary="s_peacemaker",n.includes("s_peacemaker")||n.push("s_peacemaker")),a.grenade===o&&(a.grenade="g_he",n.includes("g_he")||n.push("g_he")),a.armor===o&&(a.armor="a_b01",n.includes("a_b01")||n.push("a_b01")),a.booster===o&&(a.booster=null);for(let r=0;r<a.stratagems.length;r++)a.stratagems[r]===o&&(a.stratagems[r]=null);return d(d({},e),{},{inventory:n,loadout:a})}),i=O.sacrificesRequired.indexOf(r),s=i+1;if(console.log("Current position in sacrifice queue:",i,"Next:",s,"Total required:",O.sacrificesRequired),s<O.sacrificesRequired.length){const e=O.sacrificesRequired[s];console.log("Moving to next player index:",e),t(om(a)),t(sm({activePlayerIndex:e}))}else{console.log("All sacrifices complete, moving to draft");const e=a.map(e=>d(d({},e),{},{extracted:!0}));t(om(e)),ke()}};return(0,Lh.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",padding:"24px"},children:[(0,Lh.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"16px",gap:"12px"},children:(0,Lh.jsx)("button",{onClick:xe,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"rgba(100, 116, 139, 0.3)",color:"#94a3b8",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.5)",e.currentTarget.style.color=J.PRIMARY},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.3)",e.currentTarget.style.color="#94a3b8"},children:"\ud83d\udcbe Export"})}),(0,Lh.jsxs)("div",{style:{width:"100%",maxWidth:"1200px",margin:"0 auto",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,Lh.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px"},children:[(0,Lh.jsxs)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.15)",border:"2px solid rgba(239, 68, 68, 0.5)",borderRadius:"8px",padding:"16px 32px",marginBottom:"24px",display:"inline-block"},children:[(0,Lh.jsx)("div",{style:{color:"#ef4444",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:"\u26a0\ufe0f EXTRACTION FAILURE PENALTY"}),(0,Lh.jsx)("div",{style:{color:"#94a3b8",fontSize:"12px",marginTop:"6px"},children:"Equipment Lost in Combat Zone"})]}),(0,Lh.jsxs)("h1",{style:{fontSize:"36px",fontWeight:"900",color:"white",textTransform:"uppercase",margin:"0 0 8px 0"},children:[n.name," ",(0,Lh.jsx)("span",{style:{color:"#64748b"},children:"//"})," Sacrifice Item"]}),(0,Lh.jsx)("p",{style:{color:"#94a3b8",margin:"0"},children:"Select one item from your loadout to sacrifice (minimum gear protected)"})]}),0===r.length?(0,Lh.jsxs)("div",{style:{backgroundColor:"#283548",padding:"40px",borderRadius:"12px",border:"1px solid rgba(100, 116, 139, 0.5)",textAlign:"center",maxWidth:"600px"},children:[(0,Lh.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"\ud83d\udee1\ufe0f"}),(0,Lh.jsx)("h3",{style:{color:J.PRIMARY,fontSize:"20px",fontWeight:"bold",marginBottom:"8px"},children:"No Items to Sacrifice"}),(0,Lh.jsx)("p",{style:{color:"#94a3b8",margin:0},children:"You only have minimum required equipment (P2-Peacemaker & B-01 Tactical)."}),(0,Lh.jsx)("button",{onClick:()=>{const e=O.sacrificesRequired.indexOf(O.activePlayerIndex)+1;if(e<O.sacrificesRequired.length)t(sm({activePlayerIndex:O.sacrificesRequired[e]}));else{const e=M.map(e=>d(d({},e),{},{extracted:!0}));t(om(e)),ke()}},style:d(d({},Nh.PRIMARY),{},{marginTop:"24px",padding:"12px 32px",border:"none",borderRadius:"4px"}),onMouseEnter:e=>{e.currentTarget.style.backgroundColor=Ah.PRIMARY_HOVER},onMouseLeave:e=>{e.currentTarget.style.backgroundColor=Ah.PRIMARY},children:"Continue"})]}):(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(Math.min(r.length,4),", 1fr)"),gap:"24px",marginBottom:"48px",width:"100%"},children:r.map((e,t)=>(0,Lh.jsxs)("div",{onClick:()=>{window.confirm("Sacrifice ".concat(e.name,"? This item will be permanently removed from your inventory and loadout."))&&o(e)},style:{backgroundColor:"#283548",border:"2px solid rgba(239, 68, 68, 0.5)",borderRadius:"12px",padding:"24px",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",gap:"12px"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#ef4444",e.currentTarget.style.backgroundColor="#1f2937",e.currentTarget.style.transform="translateY(-4px)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="rgba(239, 68, 68, 0.5)",e.currentTarget.style.backgroundColor="#283548",e.currentTarget.style.transform="translateY(0)"},children:[(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#64748b",textTransform:"uppercase",letterSpacing:"1px"},children:e.slot}),(0,Lh.jsx)("div",{style:{color:"white",fontWeight:"bold",fontSize:"18px"},children:e.name}),(0,Lh.jsx)("div",{style:{fontSize:"12px",color:"#94a3b8"},children:e.rarity}),(0,Lh.jsx)("div",{style:{fontSize:"11px",color:"#ef4444",fontStyle:"italic",marginTop:"auto"},children:"Click to sacrifice"})]},"".concat(e.id,"-").concat(t)))})]})]})}if("DRAFT"===R){var We,Ue,He,Ye,Ge;const e=M[j.activePlayerIndex],n=!a||x===j.activePlayerIndex;return(0,Lh.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column"},children:[a&&(0,Lh.jsx)(rg,{gameConfig:E,onDisconnect:p}),(0,Lh.jsxs)("div",{style:{padding:"24px"},children:[(0,Lh.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"16px",gap:"12px"},children:(0,Lh.jsx)("button",{onClick:xe,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",backgroundColor:"rgba(100, 116, 139, 0.3)",color:"#94a3b8",border:"1px solid rgba(100, 116, 139, 0.5)",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",fontSize:"12px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.5)",e.currentTarget.style.color=J.PRIMARY},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.3)",e.currentTarget.style.color="#94a3b8"},children:"\ud83d\udcbe Export"})}),j.pendingStratagem&&(0,Lh.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"24px"},children:(0,Lh.jsxs)("div",{style:{backgroundColor:"#283548",borderRadius:"12px",border:"2px solid ".concat(J.PRIMARY),padding:"32px",maxWidth:"800px",width:"100%"},children:[(0,Lh.jsx)("h2",{style:{color:J.PRIMARY,fontSize:"24px",fontWeight:"bold",textAlign:"center",marginBottom:"16px"},children:"Replace Stratagem"}),(0,Lh.jsx)("p",{style:{color:"#cbd5e1",textAlign:"center",marginBottom:"24px"},children:"All stratagem slots are full. Select which stratagem to replace with:"}),(0,Lh.jsxs)("div",{style:{backgroundColor:"#1f2937",padding:"16px",borderRadius:"8px",marginBottom:"24px",textAlign:"center"},children:[(0,Lh.jsx)("div",{style:{color:J.PRIMARY,fontWeight:"bold",fontSize:"18px"},children:j.pendingStratagem.name}),(0,Lh.jsx)("div",{style:{color:"#64748b",fontSize:"12px",marginTop:"4px"},children:j.pendingStratagem.rarity})]}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"16px",marginBottom:"24px"},children:e.loadout.stratagems.map((e,n)=>{const r=gr(e);return(0,Lh.jsxs)("button",{onClick:()=>(e=>{const n=j.activePlayerIndex;if(a&&x!==n)return void console.warn("Not your turn to select replacement",{playerSlot:x,currentPlayerIdx:n});if(a&&!i)return void v({type:xg,payload:{playerIndex:n,slotIndex:e}});const r=[...M],o=r[n],s=j.pendingStratagem;s?(o.inventory.push(s.id),o.loadout.stratagems[e]=s.id,t(om(r)),t(cm({pendingStratagem:null})),Ie(r)):console.error("handleStratagemReplacement: No pending stratagem",{currentPlayerIdx:n,slotIndex:e})})(n),style:{backgroundColor:"#1f2937",border:"2px solid rgba(100, 116, 139, 0.5)",borderRadius:"8px",padding:"16px",cursor:"pointer",transition:"all 0.2s",textAlign:"left"},onMouseEnter:e=>e.currentTarget.style.borderColor=J.PRIMARY,onMouseLeave:e=>e.currentTarget.style.borderColor="rgba(100, 116, 139, 0.5)",children:[(0,Lh.jsxs)("div",{style:{fontSize:"10px",color:"#64748b",textTransform:"uppercase",marginBottom:"4px"},children:["Slot ",n+1]}),(0,Lh.jsx)("div",{style:{color:"white",fontWeight:"bold",fontSize:"14px"},children:(null===r||void 0===r?void 0:r.name)||"Empty"}),r&&(0,Lh.jsx)("div",{style:{fontSize:"11px",color:"#94a3b8",marginTop:"4px"},children:r.rarity})]},n)})}),(0,Lh.jsx)("button",{onClick:()=>t(cm({pendingStratagem:null})),style:{width:"100%",padding:"12px",backgroundColor:"rgba(127, 29, 29, 0.3)",color:"#ef4444",border:"1px solid #7f1d1d",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(127, 29, 29, 0.5)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgba(127, 29, 29, 0.3)",children:"Cancel"})]})}),(0,Lh.jsxs)("div",{style:{width:"100%",maxWidth:"1200px",margin:"0 auto",flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[(0,Lh.jsxs)("div",{style:{textAlign:"center",marginBottom:"40px"},children:[j.isRetrospective&&(0,Lh.jsxs)("div",{style:{backgroundColor:"rgba(59, 130, 246, 0.15)",border:"2px solid rgba(59, 130, 246, 0.4)",borderRadius:"8px",padding:"12px 24px",marginBottom:"16px",display:"inline-block"},children:[(0,Lh.jsxs)("div",{style:{color:"#3b82f6",fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:["\ud83d\udd04 RETROSPECTIVE DRAFT ",(e.retrospectiveDraftsCompleted||0)+1,"/",D.length]}),(0,Lh.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Catching up on past mission rewards \u2022 No rerolls available"})]}),j.extraDraftRound>0&&(0,Lh.jsxs)("div",{style:{backgroundColor:J.PRIMARY+"20",border:"2px solid ".concat(J.PRIMARY),borderRadius:"8px",padding:"12px 24px",marginBottom:"16px",display:"inline-block"},children:[(0,Lh.jsxs)("div",{style:{color:J.PRIMARY,fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:["\ud83c\udf81 BONUS DRAFT ",j.extraDraftRound,"/",e.extraDraftCards||0]}),(0,Lh.jsx)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:"Priority Access Equipment"})]}),j.isRedrafting&&e.redraftRounds>0&&(0,Lh.jsxs)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.15)",border:"2px solid rgba(239, 68, 68, 0.4)",borderRadius:"8px",padding:"12px 24px",marginBottom:"16px",display:"inline-block"},children:[(0,Lh.jsx)("div",{style:{color:J.PRIMARY,fontSize:"14px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px"},children:"\ud83d\udd04 ASSET REINVESTMENT"}),(0,Lh.jsxs)("div",{style:{color:"#94a3b8",fontSize:"11px",marginTop:"4px"},children:["Draft ",e.redraftRounds," of ",e.redraftRounds," Remaining"]})]}),(0,Lh.jsx)("h2",{style:{color:J.PRIMARY,fontSize:"14px",fontFamily:"monospace",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"1px"},children:"Priority Requisition Authorized"}),(0,Lh.jsxs)("h1",{style:{fontSize:"36px",fontWeight:"900",color:"white",textTransform:"uppercase",margin:"0 0 8px 0"},children:[e.name," ",(0,Lh.jsx)("span",{style:{color:"#64748b"},children:"//"})," Select Upgrade"]}),(0,Lh.jsxs)("p",{style:{color:"#94a3b8",margin:"0"},children:["Choose wisely. This equipment is vital for Difficulty ",T,"."]})]}),(0,Lh.jsxs)("div",{style:{backgroundColor:"rgba(40, 53, 72, 0.5)",borderRadius:"8px",padding:"16px 24px",marginBottom:"32px",border:"1px solid rgba(100, 116, 139, 0.3)"},children:[(0,Lh.jsxs)("div",{style:{fontSize:"12px",color:"#64748b",textTransform:"uppercase",letterSpacing:"1px",marginBottom:"12px"},children:[e.name,"'s Current Loadout"]}),(0,Lh.jsxs)("div",{style:{display:"flex",gap:"24px",flexWrap:"wrap",justifyContent:"center"},children:[(0,Lh.jsxs)("div",{style:{textAlign:"center"},children:[(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#94a3b8",marginBottom:"4px"},children:"Primary"}),(0,Lh.jsx)("div",{style:{padding:"4px 8px",backgroundColor:e.loadout.primary?"rgba(100, 116, 139, 0.3)":"rgba(100, 116, 139, 0.1)",borderRadius:"4px",fontSize:"10px",color:e.loadout.primary?J.PRIMARY:"#64748b"},children:e.loadout.primary&&(null===(We=gr(e.loadout.primary))||void 0===We?void 0:We.name)||"\u2014"})]}),(0,Lh.jsxs)("div",{style:{textAlign:"center"},children:[(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#94a3b8",marginBottom:"4px"},children:"Stratagems"}),(0,Lh.jsx)("div",{style:{display:"flex",gap:"6px"},children:e.loadout.stratagems.map((e,t)=>{const n=e?gr(e):null;return(0,Lh.jsx)("div",{style:{padding:"4px 8px",backgroundColor:n?"rgba(100, 116, 139, 0.3)":"rgba(100, 116, 139, 0.1)",borderRadius:"4px",fontSize:"10px",color:n?"#cbd5e1":"#64748b",maxWidth:"80px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:(null===n||void 0===n?void 0:n.name)||"Empty",children:(null===n||void 0===n?void 0:n.name)||"\u2014"},t)})})]}),(0,Lh.jsxs)("div",{style:{textAlign:"center"},children:[(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#94a3b8",marginBottom:"4px"},children:"Secondary"}),(0,Lh.jsx)("div",{style:{padding:"4px 8px",backgroundColor:e.loadout.secondary?"rgba(100, 116, 139, 0.3)":"rgba(100, 116, 139, 0.1)",borderRadius:"4px",fontSize:"10px",color:e.loadout.secondary?"#cbd5e1":"#64748b"},children:e.loadout.secondary&&(null===(Ue=gr(e.loadout.secondary))||void 0===Ue?void 0:Ue.name)||"\u2014"})]}),(0,Lh.jsxs)("div",{style:{textAlign:"center"},children:[(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#94a3b8",marginBottom:"4px"},children:"Grenade"}),(0,Lh.jsx)("div",{style:{padding:"4px 8px",backgroundColor:e.loadout.grenade?"rgba(100, 116, 139, 0.3)":"rgba(100, 116, 139, 0.1)",borderRadius:"4px",fontSize:"10px",color:e.loadout.grenade?"#cbd5e1":"#64748b"},children:e.loadout.grenade&&(null===(He=gr(e.loadout.grenade))||void 0===He?void 0:He.name)||"\u2014"})]}),(0,Lh.jsxs)("div",{style:{textAlign:"center"},children:[(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#94a3b8",marginBottom:"4px"},children:"Armor"}),(0,Lh.jsx)("div",{style:{padding:"4px 8px",backgroundColor:e.loadout.armor?"rgba(100, 116, 139, 0.3)":"rgba(100, 116, 139, 0.1)",borderRadius:"4px",fontSize:"10px",color:e.loadout.armor?"#cbd5e1":"#64748b"},children:e.loadout.armor&&(null===(Ye=gr(e.loadout.armor))||void 0===Ye?void 0:Ye.name)||"\u2014"})]}),e.loadout.booster&&(0,Lh.jsxs)("div",{style:{textAlign:"center"},children:[(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#94a3b8",marginBottom:"4px"},children:"Booster"}),(0,Lh.jsx)("div",{style:{padding:"4px 8px",backgroundColor:"rgba(34, 197, 94, 0.2)",borderRadius:"4px",fontSize:"10px",color:"#22c55e"},children:(null===(Ge=gr(e.loadout.booster))||void 0===Ge?void 0:Ge.name)||"\u2014"})]})]})]}),(()=>{const e=(j.roundCards||[]).filter(e=>e&&(e.id||e.name||e.passive));return(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(Math.min(e.length,4),", 1fr)"),gap:"24px",marginBottom:"48px",opacity:n?1:.6,pointerEvents:n?"auto":"none"},children:e.map((e,t)=>(0,Lh.jsx)(Be,{item:e,onSelect:n?Me:null,onRemove:n?Ne:null},"".concat(e.id||e.name||e.passive,"-").concat(t)))})})(),!n&&(0,Lh.jsx)("div",{style:{textAlign:"center",marginBottom:"32px",padding:"16px 32px",backgroundColor:"rgba(100, 116, 139, 0.2)",border:"2px solid rgba(100, 116, 139, 0.4)",borderRadius:"8px",display:"inline-block",margin:"0 auto 32px auto"},children:(0,Lh.jsxs)("div",{style:{color:"#94a3b8",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase"},children:["Waiting for ",e.name," to draft..."]})}),n&&(0,Lh.jsxs)(Lh.Fragment,{children:[(0,Lh.jsxs)("div",{style:{display:"flex",justifyContent:"center",gap:"24px"},children:[!j.isRetrospective&&(0,Lh.jsxs)("button",{onClick:()=>{var e;A<(e=1)||(!a||i?(t(tm(e)),t(cm({roundCards:Te(j.activePlayerIndex)}))):v({type:"DRAFT_REROLL",payload:{cost:e,playerIndex:j.activePlayerIndex}}))},disabled:A<1,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 32px",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px",border:A>=1?"2px solid white":"2px solid #334155",backgroundColor:"transparent",color:A>=1?"white":"#64748b",cursor:A>=1?"pointer":"not-allowed",transition:"all 0.2s"},children:[(0,Lh.jsx)(Ht,{size:20}),"Reroll All Cards (-1 Req)"]}),(0,Lh.jsx)("button",{onClick:Pe,style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px 32px",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"1px",border:"2px solid #64748b",backgroundColor:"transparent",color:"#94a3b8",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor="#94a3b8",e.currentTarget.style.color="white"},onMouseLeave:e=>{e.currentTarget.style.borderColor="#64748b",e.currentTarget.style.color="#94a3b8"},children:"Skip Draft"})]}),(0,Lh.jsx)("div",{style:{marginTop:"16px",textAlign:"center"},children:(0,Lh.jsxs)("p",{style:{color:"#64748b",fontSize:"12px",margin:"0"},children:["Click the \xd7 on a card to remove just that card (free)",(0,Lh.jsx)("br",{}),'Or use "Reroll All Cards" to reroll the entire hand']})})]}),(0,Lh.jsx)("div",{style:{marginTop:"32px",textAlign:"center"},children:(0,Lh.jsxs)("span",{style:{color:J.PRIMARY,fontFamily:"monospace"},children:["Current Requisition: ",Math.floor(A)," R"]})})]})]}),ue&&(0,Lh.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.85)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"24px"},children:(0,Lh.jsxs)("div",{style:{backgroundColor:"#283548",borderRadius:"12px",border:"3px solid #f59e0b",padding:"32px",maxWidth:"600px",width:"100%",boxShadow:"0 8px 32px rgba(0, 0, 0, 0.5)"},children:[(0,Lh.jsx)("h2",{style:{color:"#f59e0b",fontSize:"28px",fontWeight:"bold",textAlign:"center",marginBottom:"24px",textTransform:"uppercase",letterSpacing:"0.05em"},children:"\u26a0\ufe0f Remove Card"}),(0,Lh.jsxs)("div",{style:{backgroundColor:"#1f2937",padding:"20px",borderRadius:"8px",marginBottom:"24px",border:"1px solid rgba(245, 158, 11, 0.3)"},children:[(0,Lh.jsx)("p",{style:{color:"#cbd5e1",fontSize:"16px",lineHeight:"1.6",marginBottom:"16px"},children:(0,Lh.jsx)("strong",{style:{color:"#f59e0b"},children:"\u26a0\ufe0f Important Notice:"})}),(0,Lh.jsxs)("p",{style:{color:"#cbd5e1",fontSize:"15px",lineHeight:"1.6",marginBottom:"12px"},children:["This feature should ",(0,Lh.jsx)("strong",{style:{color:"#fbbf24"},children:"only be used"})," if you misconfigured your warbonds and do not have access to an item that appeared in your draft."]}),(0,Lh.jsx)("p",{style:{color:"#94a3b8",fontSize:"14px",lineHeight:"1.6",fontStyle:"italic"},children:"The card will be replaced with a new random card from your pool. This action cannot be undone."})]}),he&&(0,Lh.jsxs)("div",{style:{backgroundColor:"#1f2937",padding:"16px",borderRadius:"8px",marginBottom:"24px",textAlign:"center"},children:[(0,Lh.jsx)("p",{style:{color:"#94a3b8",fontSize:"14px",marginBottom:"8px"},children:"Removing:"}),(0,Lh.jsx)("p",{style:{color:"#F5C642",fontSize:"18px",fontWeight:"bold"},children:he.name||(he.passive&&he.armorClass?yr(he.passive,he.armorClass,null):"Unknown Item")})]}),(0,Lh.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,Lh.jsx)("button",{onClick:()=>{pe(!1),fe(null)},style:{flex:1,padding:"14px 24px",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.05em",borderRadius:"6px",border:"2px solid #64748b",backgroundColor:"transparent",color:"#cbd5e1",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(100, 116, 139, 0.2)",e.currentTarget.style.borderColor="#94a3b8"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent",e.currentTarget.style.borderColor="#64748b"},children:"Cancel"}),(0,Lh.jsx)("button",{onClick:Le,style:{flex:1,padding:"14px 24px",fontSize:"16px",fontWeight:"bold",textTransform:"uppercase",letterSpacing:"0.05em",borderRadius:"6px",border:"2px solid #f59e0b",backgroundColor:"#f59e0b",color:"#1f2937",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#d97706",e.currentTarget.style.borderColor="#d97706",e.currentTarget.style.transform="translateY(-1px)",e.currentTarget.style.boxShadow="0 4px 12px rgba(245, 158, 11, 0.4)"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="#f59e0b",e.currentTarget.style.borderColor="#f59e0b",e.currentTarget.style.transform="translateY(0)",e.currentTarget.style.boxShadow="none"},children:"Confirm Remove"})]})]})})]})}return(0,Lh.jsxs)("div",{style:{minHeight:"100vh",paddingBottom:"80px"},children:[a&&(0,Lh.jsx)(rg,{gameConfig:E,onDisconnect:p}),(0,Lh.jsx)(Bh,{currentDiff:T,currentMission:k,enduranceMode:E.enduranceMode,requisition:A,faction:E.faction,subfaction:E.subfaction,samples:e.samples,onExport:xe,onHelp:()=>oe(!0)}),(0,Lh.jsxs)("div",{style:{maxWidth:"1400px",margin:"0 auto",padding:"24px"},children:[(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:E.playerCount>1?"repeat(auto-fit, minmax(400px, 1fr))":"1fr",gap:"32px",marginBottom:"48px"},children:M.map((e,t)=>{const{getSlotLockCost:r,MAX_LOCKED_SLOTS:o}=n(331),i=!a||x===t,s=a&&null!==C&&void 0!==C&&C.players?Object.values(C.players).find(e=>e.slot===t):null,l=!a||s&&!1!==s.connected;return a&&null!==C&&void 0!==C&&C.players&&!s?null:(0,Lh.jsx)(Vh,{player:e,getItemById:gr,getArmorComboDisplayName:yr,faction:E.faction,requisition:A,slotLockCost:r(E.playerCount),maxLockedSlots:o,onLockSlot:i?De:void 0,onUnlockSlot:i?Oe:void 0,isConnected:l,isMultiplayer:a},e.id)})}),(0,Lh.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"16px"},children:[(0,Lh.jsxs)("div",{style:{width:"100%",maxWidth:"800px",backgroundColor:J.PRIMARY+"20",padding:"20px",borderRadius:"8px",border:"2px solid ".concat(J.PRIMARY),textAlign:"center"},children:[(0,Lh.jsx)("h2",{style:{fontSize:"24px",fontWeight:"bold",color:J.PRIMARY,textTransform:"uppercase",margin:0,letterSpacing:"1px"},children:"\ud83d\udccd Current Objective"}),(0,Lh.jsxs)("p",{style:{fontSize:"16px",color:"white",margin:"12px 0 0 0",fontWeight:"bold"},children:["Complete a mission at Difficulty ",T,E.enduranceMode&&" (Operation: ".concat(k,"/").concat(fr(T),")")]})]}),(0,Lh.jsxs)("div",{style:{width:"100%",maxWidth:"800px",backgroundColor:"#283548",padding:"24px",borderRadius:"12px",border:"1px solid rgba(100, 116, 139, 0.5)",textAlign:"center"},children:[(0,Lh.jsx)("h2",{style:{fontSize:"20px",fontWeight:"bold",color:"white",textTransform:"uppercase",marginBottom:"8px"},children:"Mission Status Report"}),E.enduranceMode&&(0,Lh.jsxs)("div",{style:{fontSize:"12px",color:J.PRIMARY,fontFamily:"monospace",marginBottom:"16px",fontWeight:"bold"},children:["Operation Status: Mission ",k,"/",fr(T)]}),(0,Lh.jsxs)("div",{style:{marginBottom:"32px",opacity:!a||i?1:.6},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Mission Performance Rating"}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(5, 1fr)",gap:"12px",marginBottom:"12px",pointerEvents:!a||i?"auto":"none"},children:[1,2,3,4,5].map(e=>(0,Lh.jsxs)("button",{onClick:()=>t(Qg({starRating:e})),disabled:a&&!i,style:{padding:"16px 8px",borderRadius:"4px",fontWeight:"900",fontSize:"24px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",transition:"all 0.2s",backgroundColor:E.starRating===e?J.PRIMARY:"transparent",color:E.starRating===e?"black":"#64748b",border:E.starRating===e?"2px solid ".concat(J.PRIMARY):"1px solid rgba(100, 116, 139, 0.5)",cursor:!a||i?"pointer":"not-allowed"},onMouseEnter:t=>{E.starRating===e||a&&!i||(t.currentTarget.style.borderColor="#64748b")},onMouseLeave:t=>{E.starRating===e||a&&!i||(t.currentTarget.style.borderColor="rgba(100, 116, 139, 0.5)")},children:[(0,Lh.jsx)("div",{children:e}),(0,Lh.jsx)("div",{style:{fontSize:"16px"},children:"\u2605"})]},e))}),(0,Lh.jsxs)("p",{style:{fontSize:"11px",color:"#64748b",fontStyle:"italic",margin:0},children:[_r()," equipment cards will be offered"]})]}),(0,Lh.jsxs)("div",{style:{marginBottom:"32px",opacity:!a||i?1:.6},children:[(0,Lh.jsxs)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"12px"},children:["Samples Collected This Mission ",a&&!i&&(0,Lh.jsx)("span",{style:{fontSize:"10px",color:"#64748b",fontWeight:"normal"},children:"(Host only)"})]}),(0,Lh.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"16px",marginBottom:"8px"},children:[(0,Lh.jsxs)("div",{children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[(0,Lh.jsx)("img",{src:"https://helldivers.wiki.gg/images/Common_Sample_Logo.svg",alt:"Common",style:{width:"20px",height:"20px"}}),(0,Lh.jsx)("span",{style:{fontSize:"12px",fontWeight:"bold",color:"#22c55e",textTransform:"uppercase"},children:"Common"})]}),(0,Lh.jsx)("input",{type:"number",min:"0",max:"999",defaultValue:"0",id:"commonSamples",disabled:a&&!i,style:{width:"100%",padding:"12px",backgroundColor:"#1f2937",border:"1px solid #22c55e",borderRadius:"4px",color:"#22c55e",fontSize:"16px",fontWeight:"bold",textAlign:"center",fontFamily:"monospace",cursor:!a||i?"text":"not-allowed"}}),(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#64748b",marginTop:"4px",fontStyle:"italic"},children:"+1% event chance each"})]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[(0,Lh.jsx)("img",{src:"https://helldivers.wiki.gg/images/Rare_Sample_Logo.svg",alt:"Rare",style:{width:"20px",height:"20px"}}),(0,Lh.jsx)("span",{style:{fontSize:"12px",fontWeight:"bold",color:"#f97316",textTransform:"uppercase"},children:"Rare"})]}),(0,Lh.jsx)("input",{type:"number",min:"0",max:"999",defaultValue:"0",id:"rareSamples",disabled:a&&!i,style:{width:"100%",padding:"12px",backgroundColor:"#1f2937",border:"1px solid #f97316",borderRadius:"4px",color:"#f97316",fontSize:"16px",fontWeight:"bold",textAlign:"center",fontFamily:"monospace",cursor:!a||i?"text":"not-allowed"}}),(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#64748b",marginTop:"4px",fontStyle:"italic"},children:"+2% event chance each"})]}),(0,Lh.jsxs)("div",{children:[(0,Lh.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[(0,Lh.jsx)("img",{src:"https://helldivers.wiki.gg/images/Super_Sample_Logo.svg",alt:"Super Rare",style:{width:"20px",height:"20px"}}),(0,Lh.jsx)("span",{style:{fontSize:"12px",fontWeight:"bold",color:"#a855f7",textTransform:"uppercase"},children:"Super Rare"})]}),(0,Lh.jsx)("input",{type:"number",min:"0",max:"999",defaultValue:"0",id:"superRareSamples",disabled:a&&!i,style:{width:"100%",padding:"12px",backgroundColor:"#1f2937",border:"1px solid #a855f7",borderRadius:"4px",color:"#a855f7",fontSize:"16px",fontWeight:"bold",textAlign:"center",fontFamily:"monospace",cursor:!a||i?"text":"not-allowed"}}),(0,Lh.jsx)("div",{style:{fontSize:"10px",color:"#64748b",marginTop:"4px",fontStyle:"italic"},children:"+3% event chance each"})]})]}),(0,Lh.jsx)("p",{style:{fontSize:"11px",color:"#94a3b8",fontStyle:"italic",margin:"8px 0 0 0",textAlign:"center"},children:"Samples increase the chance of random events. Event chance resets to base 0% when an event occurs."})]}),(0,Lh.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Lh.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.15em",marginBottom:"16px"},children:"Extraction Status"}),(0,Lh.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:M.map((e,n)=>{const r=!a||i||n===x;return(0,Lh.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"12px",cursor:r?"pointer":"not-allowed",padding:"10px 16px",backgroundColor:e.extracted?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",borderRadius:"4px",border:"1px solid ".concat(e.extracted?"#22c55e":"#ef4444"),transition:"all 0.2s",opacity:r?1:.7},children:[(0,Lh.jsx)("input",{type:"checkbox",checked:!1!==e.extracted,onChange:e=>{return o=e.target.checked,void(r&&(a&&!i?v({type:"SET_PLAYER_EXTRACTED",payload:{playerIndex:n,extracted:o}}):t(am(n,o))));var o},disabled:!r,style:{width:"18px",height:"18px",cursor:r?"pointer":"not-allowed"}}),(0,Lh.jsxs)("div",{style:{flex:1,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Lh.jsxs)("span",{style:{color:e.extracted?"#22c55e":"#ef4444",fontWeight:"bold",fontSize:"14px"},children:[e.name," extracted"]}),!e.extracted&&E.brutalityMode&&(0,Lh.jsx)("span",{style:{fontSize:"11px",color:"#ef4444",fontStyle:"italic"},children:"Must sacrifice item"}),!e.extracted&&!E.brutalityMode&&M.every(e=>!e.extracted)&&(0,Lh.jsx)("span",{style:{fontSize:"11px",color:"#ef4444",fontStyle:"italic"},children:"TPK - Must sacrifice item"})]})]},e.id)})}),(0,Lh.jsx)("p",{style:{fontSize:"11px",color:"#94a3b8",fontStyle:"italic",margin:"8px 0 0 0",textAlign:"center"},children:E.brutalityMode?"Brutality Mode: Non-extracted Helldivers must sacrifice equipment":"If all Helldivers fail to extract, all must sacrifice equipment"})]}),!a||i?(0,Lh.jsxs)(Lh.Fragment,{children:[(0,Lh.jsxs)("div",{style:{display:"flex",gap:"16px",justifyContent:"center"},children:[(0,Lh.jsxs)("button",{onClick:()=>{window.confirm("Mission Failed? This will end your run permanently. Are you sure?")&&t(Xg("GAMEOVER"))},style:{display:"flex",alignItems:"center",gap:"8px",padding:"16px 24px",backgroundColor:"rgba(127, 29, 29, 0.3)",color:"#ef4444",border:"1px solid #7f1d1d",borderRadius:"4px",fontWeight:"bold",textTransform:"uppercase",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="rgba(127, 29, 29, 0.5)",onMouseLeave:e=>e.currentTarget.style.backgroundColor="rgba(127, 29, 29, 0.3)",children:[(0,Lh.jsx)(Yt,{}),"Mission Failed"]}),(0,Lh.jsxs)("button",{onClick:()=>{var e,r,o;if(ge)return;me(!0),setTimeout(()=>me(!1),3e3),window.scrollTo({top:0,behavior:"smooth"});const i=parseInt((null===(e=document.getElementById("commonSamples"))||void 0===e?void 0:e.value)||"0",10),s=parseInt((null===(r=document.getElementById("rareSamples"))||void 0===r?void 0:r.value)||"0",10),l=parseInt((null===(o=document.getElementById("superRareSamples"))||void 0===o?void 0:o.value)||"0",10);t({type:hg,payload:{common:i,rare:s,superRare:l}}),document.getElementById("commonSamples")&&(document.getElementById("commonSamples").value="0"),document.getElementById("rareSamples")&&(document.getElementById("rareSamples").value="0"),document.getElementById("superRareSamples")&&(document.getElementById("superRareSamples").value="0");const c=M.map(e=>d(d({},e),{},{weaponRestricted:!1}));t(om(c));let u=[];if(E.brutalityMode)u=M.map((e,t)=>({player:e,idx:t})).filter(e=>{let{player:t}=e;return!t.extracted}).map(e=>{let{idx:t}=e;return t});else{M.every(e=>!e.extracted)&&(u=M.map((e,t)=>t))}if(E.enduranceMode){const e=fr(T);if(k>=e){const{getRequisitionMultiplier:e}=n(331),r=e(E.playerCount,E.subfaction);if(t(em(1*r)),t(ym(1)),10===T&&!E.endlessMode){const e=ye?Math.floor((Date.now()-ye)/1e3):0;return Rh(a?"multiplayer":"solo",k,e,!0),void t(Xg("VICTORY"))}T<10&&t(Jg(T+1)),u.length>0?(t(im({activePlayerIndex:u[0],sacrificesRequired:u})),t(Xg("SACRIFICE"))):ke()}else if(t(ym(k+1)),u.length>0)t(im({activePlayerIndex:u[0],sacrificesRequired:u})),t(Xg("SACRIFICE"));else{if(Ae())return;const e=M.map(e=>d(d({},e),{},{extracted:!0}));t(om(e))}}else{const{getRequisitionMultiplier:e}=n(331),r=e(E.playerCount,E.subfaction);if(t(em(1*r)),Ch("mission_complete",{mission_number:k,difficulty:T,success:!0}),10===T&&!E.endlessMode){const e=ye?Math.floor((Date.now()-ye)/1e3):0;return Rh(a?"multiplayer":"solo",k,e,!0),void t(Xg("VICTORY"))}T<10&&t(Jg(T+1)),u.length>0?(t(im({activePlayerIndex:u[0],sacrificesRequired:u})),t(Xg("SACRIFICE"))):ke()}},disabled:ge,style:d(d({},Nh.PRIMARY),{},{display:"flex",alignItems:"center",gap:"8px",padding:"16px 32px",border:"none",borderRadius:"4px",letterSpacing:"2px",opacity:ge?.5:1,cursor:ge?"not-allowed":"pointer",pointerEvents:ge?"none":"auto"}),onMouseEnter:e=>{ge||(e.currentTarget.style.backgroundColor=Ah.PRIMARY_HOVER,e.currentTarget.style.boxShadow=Mh.BUTTON_PRIMARY_HOVER)},onMouseLeave:e=>{ge||(e.currentTarget.style.backgroundColor=Ah.PRIMARY,e.currentTarget.style.boxShadow=Mh.BUTTON_PRIMARY)},children:[(0,Lh.jsx)(Gt,{}),ge?"Processing...":"Mission Success"]})]}),(0,Lh.jsx)("p",{style:{marginTop:"16px",fontSize:"12px",color:"#64748b",fontFamily:"monospace",margin:"16px 0 0 0"},children:"Report success to earn Requisition & proceed to draft."})]}):(0,Lh.jsxs)("div",{style:{textAlign:"center",padding:"24px",backgroundColor:"rgba(100, 116, 139, 0.1)",borderRadius:"8px",border:"1px solid rgba(100, 116, 139, 0.3)"},children:[(0,Lh.jsx)("p",{style:{color:"#94a3b8",margin:0},children:"\u23f3 Waiting for host to report mission outcome..."}),(0,Lh.jsx)("p",{style:{color:"#64748b",fontSize:"12px",marginTop:"8px"},children:"Toggle your extraction status above while waiting."})]})]}),E.debugEventsMode&&(0,Lh.jsxs)("div",{style:{width:"100%",maxWidth:"800px",backgroundColor:"#1a2332",padding:"24px",borderRadius:"12px",border:"2px solid #ef4444",marginTop:"24px"},children:[(0,Lh.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,Lh.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#ef4444",textTransform:"uppercase",margin:0},children:"\ud83d\udd27 Debug: Manual Event Trigger"}),(0,Lh.jsx)("button",{onClick:()=>t({type:Ig}),style:{padding:"8px 16px",backgroundColor:"#ef4444",color:"white",border:"none",borderRadius:"4px",fontSize:"11px",fontWeight:"bold",cursor:"pointer",textTransform:"uppercase",transition:"all 0.2s"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#dc2626",onMouseLeave:e=>e.currentTarget.style.backgroundColor="#ef4444",children:"Reset Seen Events"})]}),(0,Lh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"12px"},children:_n.map(e=>(0,Lh.jsxs)("button",{onClick:()=>{t(hm(e.id)),t(rm()),t(dm(e)),t(Xg("EVENT"))},style:{padding:"12px",backgroundColor:Q.includes(e.id)?"#374151":"#283548",color:Q.includes(e.id)?"#6b7280":"#cbd5e1",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"4px",fontSize:"11px",cursor:Q.includes(e.id)?"not-allowed":"pointer",transition:"all 0.2s",textAlign:"left",opacity:Q.includes(e.id)?.5:1},disabled:Q.includes(e.id),onMouseEnter:t=>{Q.includes(e.id)||(t.currentTarget.style.borderColor="#ef4444",t.currentTarget.style.backgroundColor="#374151")},onMouseLeave:t=>{Q.includes(e.id)||(t.currentTarget.style.borderColor="rgba(239, 68, 68, 0.3)",t.currentTarget.style.backgroundColor="#283548")},children:[(0,Lh.jsx)("div",{style:{fontWeight:"bold",marginBottom:"4px",fontSize:"12px"},children:e.name}),(0,Lh.jsxs)("div",{style:{fontSize:"9px",color:"#64748b"},children:[e.id," ",Q.includes(e.id)?"(SEEN)":""]})]},e.id))}),(0,Lh.jsx)("p",{style:{fontSize:"10px",color:"#64748b",marginTop:"12px",textAlign:"center",fontStyle:"italic"},children:"Events marked as SEEN have already been triggered this run"})]})]})]}),(0,Lh.jsx)(Wh,{}),(0,Lh.jsx)(Hf,{isOpen:re,onClose:()=>oe(!1),faction:E.faction}),(0,Lh.jsx)(Qf,{isOpen:ce,onClose:()=>de(!1),faction:E.faction})]})}function Rm(){return(0,Lh.jsx)(Rt,{basename:"/helldrafters",children:(0,Lh.jsx)(Rf,{children:(0,Lh.jsxs)(qe,{children:[(0,Lh.jsx)(Ye,{path:"/card-library",element:(0,Lh.jsx)(Cm,{})}),(0,Lh.jsx)(Ye,{path:"/",element:(0,Lh.jsx)(wm,{})})]})})})}a.createRoot(document.getElementById("root")).render((0,Lh.jsx)(r.StrictMode,{children:(0,Lh.jsx)(Rm,{})}))})();
//# sourceMappingURL=main.44d4af86.js.map